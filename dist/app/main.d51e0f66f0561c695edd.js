(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Xe,tb:()=>yu,AFp:()=>du,ip1:()=>cu,CZH:()=>hu,hGG:()=>cl,z2F:()=>tl,sBO:()=>ma,Sil:()=>Au,_Vd:()=>Uo,EJc:()=>bu,SBq:()=>Bo,qLn:()=>mr,vpe:()=>za,gxx:()=>ts,tBr:()=>wn,XFs:()=>k,OlP:()=>We,zs3:()=>ms,ZZ4:()=>ua,aQg:()=>ca,soG:()=>_u,YKP:()=>Ta,v3s:()=>nl,h0i:()=>Ca,PXZ:()=>Ku,R0b:()=>Nu,FiY:()=>Sn,Lbi:()=>gu,g9A:()=>mu,n_E:()=>Za,Qsj:()=>Zo,FYo:()=>Ho,JOm:()=>vr,Tiy:()=>Qo,q3G:()=>lr,tp0:()=>En,EAV:()=>sl,Rgc:()=>ba,dDg:()=>Vu,DyG:()=>tn,q4F:()=>Yo,GfV:()=>Ko,s_b:()=>Ia,ifc:()=>F,eFA:()=>Yu,G48:()=>$u,Gpc:()=>f,f3M:()=>vn,X6Q:()=>Zu,_c5:()=>ul,VLi:()=>qu,c2e:()=>vu,zSh:()=>ns,wAp:()=>To,vHH:()=>g,EiD:()=>ar,mCW:()=>zn,qzn:()=>Dn,JVY:()=>Fn,pB0:()=>Un,eBb:()=>Mn,L6k:()=>Ln,LAX:()=>Vn,cg1:()=>So,Tjo:()=>al,kL8:()=>Eo,yhl:()=>Pn,dqk:()=>j,sIi:()=>Cs,CqO:()=>Bs,QGY:()=>qs,F4k:()=>Gs,RDi:()=>Ct,AaK:()=>c,z3N:()=>Rn,qOj:()=>ys,TTD:()=>vt,_Bn:()=>Lo,xp6:()=>si,uIk:()=>Is,Gre:()=>yo,ekj:()=>ro,Suo:()=>iu,Xpm:()=>J,lG2:()=>it,Yz7:()=>b,cJS:()=>w,oAB:()=>et,Yjl:()=>st,Y36:()=>Ns,_UZ:()=>Ls,GkF:()=>Us,BQk:()=>Vs,ynx:()=>Ms,qZA:()=>Fs,TgZ:()=>Ps,EpF:()=>js,n5z:()=>$e,Ikx:()=>vo,LFG:()=>yn,$8M:()=>Ke,NdJ:()=>zs,CRH:()=>su,oxw:()=>$s,Hsn:()=>Ys,F$t:()=>Ks,Q6J:()=>Rs,WLB:()=>Ga,iGM:()=>nu,MAs:()=>Os,CHM:()=>qt,LSH:()=>cr,kYT:()=>nt,YNc:()=>ks,W1O:()=>lu,_uU:()=>po,Oqu:()=>mo,hij:()=>go,Gf:()=>ru});var r=n(9765),i=n(5319),s=n(8891),o=n(6682),a=n(8819);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function c(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(c).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return c(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function _(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,T)||E(t,I)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(A))?t[x]:null}const T=u({"\u0275prov":u}),x=u({"\u0275inj":u}),I=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let O;function N(t){const e=O;return O=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void _(c(t),"Injector")}function D(t){return{toString:t}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,j=L||U||M||V,q={},G=[],B=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),H=u({"\u0275pipe":u}),Z=u({"\u0275mod":u}),$=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),K=u({__NG_ELEMENT_ID__:u});let Y=0;function J(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Y++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(W):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function W(t){return ot(t)||function(t){return t[z]||null}(t)}function X(t){return function(t){return t[H]||null}(t)}const tt={};function et(t){return D(()=>{const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return D(()=>{const n=at(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function rt(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const it=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ot(t){return t[B]||null}function at(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${c(t)} does not have '\u0275mod' property.`);return n}const ut=20,lt=10;function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function ft(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),bt}function bt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new yt(u&&u.currentValue,e,o===q),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Et;function Ct(t){Et=t}function Tt(t){return!!t.listen}vt.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==Et?Et:"undefined"!=typeof document?document:void 0};function It(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return It(e[t])}function kt(t,e){return It(e[t.index])}function Ot(t,e){return t.data[e]}function Nt(t,e){const n=e[t];return ct(n)?n:n[0]}function Rt(t){return 4==(4&t[2])}function Dt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Mt={lFrame:se(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Mt.bindingsEnabled}function Ut(){return Mt.lFrame.lView}function jt(){return Mt.lFrame.tView}function qt(t){return Mt.lFrame.contextLView=t,t[8]}function Gt(){let t=Bt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bt(){return Mt.lFrame.currentTNode}function zt(t,e){const n=Mt.lFrame;n.currentTNode=t,n.isParent=e}function Ht(){return Mt.lFrame.isParent}function Zt(){Mt.lFrame.isParent=!1}function $t(){return Mt.isInCheckNoChangesMode}function Qt(t){Mt.isInCheckNoChangesMode=t}function Kt(){return Mt.lFrame.bindingIndex++}function Yt(t){const e=Mt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Jt(t,e){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wt(e)}function Wt(t){Mt.lFrame.currentDirectiveIndex=t}function Xt(){return Mt.lFrame.currentQueryIndex}function te(t){Mt.lFrame.currentQueryIndex=t}function ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ne(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Mt.lFrame=ie();return r.currentTNode=e,r.lView=t,!0}function re(t){const e=ie(),n=t[1];Mt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ie(){const t=Mt.lFrame,e=null===t?null:t.child;return null===e?se(t):e}function se(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function oe(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ae=oe;function ue(){const t=oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Mt.lFrame.selectedIndex}function ce(t){Mt.lFrame.selectedIndex=t}function he(){const t=Mt.lFrame;return Ot(t.tView,t.selectedIndex)}function de(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function fe(t,e,n){ge(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&ge(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ge(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const ve=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function be(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Se(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function we(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ce(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ce(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Te(t){return t!==ve}function xe(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function ke(t){const e=Ae;return Ae=t,e}let Oe=0;function Ne(t,e){const n=De(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Pe(t,e),s=t.injectorIndex;if(Te(i)){const t=xe(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function De(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=Oe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Le(t,e,n){if(n&k.Optional)return t;_(e,"NodeInjector")}function Me(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=N(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{N(s)}}return Le(r,e,n)}function Ve(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:je:e}(n);if("function"==typeof s){if(!ne(e,t,r))return r&k.Host?Le(i,n,r):Me(e,n,r,i);try{const t=s(r);if(null!=t||r&k.Optional)return t;_(n)}finally{ae()}}else if("number"==typeof s){let i=null,o=De(t,e),a=ve,u=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Pe(t,e):e[o+8],a!==ve&&He(r,!1)?(i=e[1],o=xe(a),e=Ie(a,e)):o=-1);-1!==o;){const t=e[1];if(ze(s,o,t.data)){const t=qe(o,e,n,i,r,u);if(t!==Ue)return t}a=e[o+8],a!==ve&&He(r,e[1].data[o+8]===u)&&ze(s,o,e)?(i=t,o=xe(a),e=Ie(a,e)):o=-1}}}return Me(e,n,r,i)}const Ue={};function je(){return new Ze(Gt(),Ut())}function qe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ge(a,o,n,null==r?ft(a)&&Ae:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==u?Be(e,o,u,a):Ue}function Ge(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&mt(t)&&t.type===n)return u}return null}function Be(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof _e){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(s[n]));const a=ke(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?N(o.injectImpl):null;ne(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&N(u),ke(a),o.resolving=!1,ae()}}return i}function ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function He(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function $e(t){return D(()=>{const e=t.prototype.constructor,n=e[Q]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Qe(t){return m(t)?()=>{const e=Qe(p(t));return e&&e()}:gt(t)}function Ke(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(we(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const Ye="__parameters__";function Je(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ye)?t[Ye]:Object.defineProperty(t,Ye,{value:[]})[Ye];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class We{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new We("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function on(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function an(t,e,n){let r=ln(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=ln(t,e);if(n>=0)return t[1|n]}function ln(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const cn={},hn=/\n/gm,dn="__source",fn=u({provide:String,useValue:u});let pn;function mn(t){const e=pn;return pn=t,e}function gn(t,e=k.Default){if(void 0===pn)throw new Error("inject() must be called from an injection context");return null===pn?R(t,void 0,e):pn.get(t,e&k.Optional?null:void 0,e)}function yn(t,e=k.Default){return(O||gn)(p(t),e)}const vn=yn;function _n(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(yn(t,n))}else e.push(yn(r))}return e}function bn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const wn=bn(Je("Inject",t=>({token:t})),-1),Sn=bn(Je("Optional"),8),En=bn(Je("SkipSelf"),4);let Cn;function Tn(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,j.trustedTypes))try{Cn=j.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class In extends xn{getTypeName(){return"HTML"}}class An extends xn{getTypeName(){return"Style"}}class kn extends xn{getTypeName(){return"Script"}}class On extends xn{getTypeName(){return"URL"}}class Nn extends xn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof xn&&t.getTypeName()||null}function Fn(t){return new In(t)}function Ln(t){return new An(t)}function Mn(t){return new kn(t)}function Vn(t){return new On(t)}function Un(t){return new Nn(t)}class jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Tn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Tn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Tn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Gn)||t.match(Bn)?t:"unsafe:"+t}function Hn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Hn("area,br,col,hr,img,wbr"),Qn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=Hn("rp,rt"),Yn=Zn(Kn,Qn),Jn=Zn($n,Zn(Qn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(Kn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Wn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=Hn("srcset"),tr=Zn(Wn,Xn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Hn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!tr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Wn[s]&&(o=zn(o)),Xn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(rr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function ar(t,e){let n=null;try{or=or||function(t){const e=new qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(t){return!1}}()?new jn(e):e}(t);let r=e?String(e):"";n=or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==s);return Tn((new nr).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function cr(t){const e=function(){const t=Ut();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Dn(t,"URL")?Rn(t):zn(y(t))}function hr(t,e){t.__ngContext__=e}function dr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function fr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(fr(t)):null}_findOriginalError(t){let e=t&&fr(t);for(;e&&fr(e);)e=fr(e);return e||null}}const gr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function yr(t){return t instanceof Function?t():t}var vr=(()=>((vr=vr||{})[vr.Important=1]="Important",vr[vr.DashCase=2]="DashCase",vr))();function _r(t,e){return(void 0)(t,e)}function br(t){const e=t[3];return ht(e)?e[3]:e}function wr(t){return Er(t[13])}function Sr(t){return Er(t[4])}function Er(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let s,o=!1;ht(r)?s=r:ct(r)&&(o=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Rr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==It(n)&&Cr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];Gr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Tr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function Ir(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&xr(s,r),e>0&&(t[n-1][4]=r[4]);const o=sn(t,lt+e);Gr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Gr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return kr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&kr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):It(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Or(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Rr(t,e,n)}function Pr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n){return Lr(t,e,n)}let Lr=function(t,e,n){return 40&t.type?kt(t,n):null};function Mr(t,e,n,r){const i=Or(t,r,e),s=e[11],o=Fr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(s,i,n[a],o,!1);else Dr(s,i,n,o,!1)}function Vr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Vr(t,n);{const n=t[e.index];return ht(n)?jr(-1,n):It(n)}}if(32&n)return _r(e,t)()||It(t[e.index]);{const n=Ur(t,e);return null!==n?Array.isArray(n)?n[0]:Vr(br(t[16]),n):Vr(t,e.next)}}return null}function Ur(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Vr(t,r)}return e[7]}function qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&hr(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)qr(t,e,n.child,r,i,s,!1),Cr(e,t,i,a,s);else if(32&u){const o=_r(n,r);let u;for(;u=o();)Cr(e,t,i,u,s);Cr(e,t,i,a,s)}else 16&u?Br(t,e,r,n,i,s):Cr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gr(t,e,n,r,i,s){qr(n,r,t.firstChild,e,i,s,!1)}function Br(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],s);else qr(t,e,a,o[3],i,s,!0)}function zr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Kr(t){return 4===t.type&&t.value!==$r}function Yr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Jr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(we(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Yr(t,u,n)||""===u&&1===e.length){if(Wr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,l,n)){if(Wr(r))return!1;o=!0}continue}const c=Xr(8&r?"class":u,i,Kr(t),n);if(-1===c){if(Wr(r))return!1;o=!0;continue}if(""!==l){let t;t=c>s?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,l,0)||2&r&&l!==t){if(Wr(r))return!1;o=!0}}}}else{if(!o&&!Wr(r)&&!Wr(u))return!1;if(o&&Wr(u))continue;o=!1,r=u|1&r}}return Wr(r)||o}function Wr(t){return 0==(1&t)}function Xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ei(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Wr(o)||(e+=ni(s,i),i=""),r=o,s=s||!Wr(r);n++}return""!==i&&(e+=ni(s,i)),e}const ii={};function si(t){oi(jt(),Ut(),le()+t,$t())}function oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}ce(n)}function ai(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function li(t){return 2|t}function ci(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];te(i),n.contentQueries(2,e[s],s)}}}function pi(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ft(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function mi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Bt(),o=Ht(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Mt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Mt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return zt(s,!0),s}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yi(t,e,n){re(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;re(e);const s=$t();try{Ft(e),Mt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),me(e,0)}if(function(t){for(let e=wr(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=Sr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Dt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ce(~r);else{const i=r,s=n[++t],o=n[++t];Jt(s,i),o(2,e[i])}}}finally{ce(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ji(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$i(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{ue()}}function _i(t,e,n,r){const i=e[10],s=!$t(),o=Rt(e);try{s&&!o&&i.begin&&i.begin(),o&&yi(t,e,r),vi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function bi(t,e,n,r,i){const s=le(),o=2&r;try{ce(-1),o&&e.length>ut&&oi(t,e,ut,$t()),n(r,i)}finally{ce(s)}}function wi(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Si(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ne(n,e),hr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=mt(r);s&&Li(e,n,r);const u=Be(e,t,a,n);hr(u,e),null!==o&&Mi(0,a-i,u,r,0,o),s&&(Nt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Mt.lFrame.currentDirectiveIndex;try{ce(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Wt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{ce(-1),Wt(o)}}(t,e,n))}function Ei(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ti(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ti(t,e,n,r,i,s,o,a,u,l){const c=ut+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}(c,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function xi(t,e,n,r){const i=Ki(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,s,o,a){const u=kt(e,n);let l,c=e.inputs;var h;!a&&null!=c&&(l=c[r])?(Wi(t,n,l,r,i),ft(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Tt(s)?s.setProperty(u,r,i):Se(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(Vt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ti(n,o.selectors,!1)&&(i||(i=[]),Fe(Ne(n,e),t,o.type),mt(o)?(Ri(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Pi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=gi(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Ee(n.mergedAttrs,l.hostAttrs),Fi(t,n,e,u,l),Di(u,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||Kr(e)?null:Vi(n,i);s.push(l),o=Ii(n,u,o),a=Ii(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),i}function Oi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=gt(i.type)),o=new _e(s,mt(i),null);t.blueprint[r]=o,n[r]=o,Oi(t,e,0,r,gi(t,n,i.hostVars,ii),i)}function Li(t,e,n){const r=kt(e,t),i=Ci(n),s=t[10],o=Bi(t,pi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Mi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ji(t,e){const n=Nt(e,t);if(Dt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=wr(t);null!==n;n=Sr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Dt(r)&&r[5]>0&&qi(r)}}function Gi(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zi(t){for(;t;){t[2]|=64;const e=br(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Hi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=dr(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function $i(t,e,n){te(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function Ki(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Wi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ts=new We("INJECTOR",-1);class es{get(t,e=cn){if(e===cn){const e=new Error(`NullInjectorError: No provider for ${c(t)}!`);throw e.name="NullInjectorError",e}return e}}const ns=new We("Set Injector scope."),rs={},is={};let ss;function os(){return void 0===ss&&(ss=new es),ss}function as(t,e=null,n=null,r){return new us(t,n,e||os(),r)}class us{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ts,hs(void 0,this));const s=this.records.get(ns);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:c(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=cn,n=k.Default){this.assertNotDestroyed();const r=mn(this),i=N(void 0);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof We)&&S(t);e=n&&this.injectableDefInScope(n)?hs(ls(t),rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?os():this.parent).get(t,e=n&k.Optional&&e===cn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(c(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[dn]&&i.unshift(e[dn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=c(e);if(Array.isArray(e))i=e.map(c).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):c(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{N(i),mn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(c(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||G))}}this.injectorDefTypes.add(s);const a=gt(s)||(()=>new s);this.records.set(s,hs(a,rs));const u=r.providers;if(null!=u&&!o){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=fs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ds(t)?hs(void 0,t.useValue):hs(cs(t),rs)}(t);if(fs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=hs(void 0,rs,!0),e.factory=()=>_n(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===rs&&(e.value=is,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function ls(t){const e=S(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;if(t instanceof We)throw new Error(`Token ${c(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=on(e,"?");throw new Error(`Can't resolve all parameters for ${c(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function cs(t,e,n){let r;if(fs(t)){const e=p(t);return gt(e)||ls(e)}if(ds(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._n(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||ls(e);r=()=>new e(..._n(t.deps))}var i;return r}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ds(t){return null!==t&&"object"==typeof t&&fn in t}function fs(t){return"function"==typeof t}const ps=function(t,e,n){return function(t,e=null,n=null,r){const i=as(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class ms{static create(t,e){return Array.isArray(t)?ps(t,e,""):ps(t.providers,t.parent,t.name||"")}}function gs(t,e){de(dr(t)[1],Gt())}function ys(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=vs(t.inputs),e.declaredInputs=vs(t.declaredInputs),e.outputs=vs(t.outputs);const n=i.hostBindings;n&&ws(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&_s(t,s),o&&bs(t,o),l(t.inputs,i.inputs),l(t.declaredInputs,i.declaredInputs),l(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ys&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ee(i.hostAttrs,n=Ee(n,i.hostAttrs))}}(r)}function vs(t){return t===q?{}:t===G?[]:t}function _s(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ws(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}ms.THROW_IF_NOT_FOUND=cn,ms.NULL=new es,ms.\u0275prov=b({token:ms,providedIn:"any",factory:()=>yn(ts)}),ms.__NG_ELEMENT_ID__=-1;let Ss=null;function Es(){if(!Ss){const t=j.Symbol;if(t&&t.iterator)Ss=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ss=n)}}}return Ss}function Cs(t){return!!Ts(t)&&(Array.isArray(t)||!(t instanceof Map)&&Es()in t)}function Ts(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,r){const i=Ut();return xs(i,Kt(),e)&&(jt(),function(t,e,n,r,i,s){const o=kt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(he(),i,t,e,n,r)),Is}function As(t,e,n,r){return xs(t,Kt(),n)?e+y(n)+r:ii}function ks(t,e,n,r,i,s,o,a){const u=Ut(),l=jt(),c=t+ut,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const l=e.consts,c=mi(e,t,4,o||null,Pt(l,a));ki(e,n,c,Pt(l,u)),de(e,c);const h=c.tViews=Ti(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];zt(h,!1);const d=u[11].createComment("");Mr(l,u,d,h),hr(d,u),Bi(u,u[c]=Ui(d,u,d,h)),pt(h)&&Si(l,u,h),null!=o&&Ei(u,h,a)}function Os(t){return function(t,e){return t[e]}(Mt.lFrame.contextLView,ut+t)}function Ns(t,e=k.Default){const n=Ut();return null===n?yn(t,e):Ve(Gt(),n,p(t),e)}function Rs(t,e,n){const r=Ut();return xs(r,Kt(),e)&&Ai(jt(),he(),r,t,e,r[11],n,!1),Rs}function Ds(t,e,n,r,i){const s=i?"class":"style";Wi(t,n,e.inputs[s],s,r)}function Ps(t,e,n,r){const i=Ut(),s=jt(),o=ut+t,a=i[11],u=i[o]=Tr(a,e,Mt.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=mi(e,t,2,i,Pt(a,s));return ki(e,n,u,Pt(a,o)),null!==u.attrs&&Xi(u,u.attrs,!1),null!==u.mergedAttrs&&Xi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];zt(l,!0);const c=l.mergedAttrs;null!==c&&be(a,u,c);const h=l.classes;null!==h&&Hr(a,u,h);const d=l.styles;null!==d&&zr(a,u,d),64!=(64&l.flags)&&Mr(s,i,u,l),0===Mt.lFrame.elementDepthCount&&hr(u,i),Mt.lFrame.elementDepthCount++,pt(l)&&(Si(s,i,l),wi(s,l,i)),null!==r&&Ei(i,l)}function Fs(){let t=Gt();Ht()?Zt():(t=t.parent,zt(t,!1));const e=t;Mt.lFrame.elementDepthCount--;const n=jt();n.firstCreatePass&&(de(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ds(n,e,Ut(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ds(n,e,Ut(),e.stylesWithoutHost,!1)}function Ls(t,e,n,r){Ps(t,e,n,r),Fs()}function Ms(t,e,n){const r=Ut(),i=jt(),s=t+ut,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Pt(s,r),a=mi(e,t,8,"ng-container",o);return null!==o&&Xi(a,o,!0),ki(e,n,a,Pt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];zt(o,!0);const a=r[s]=r[11].createComment("");Mr(i,r,a,o),hr(a,r),pt(o)&&(Si(i,r,o),wi(i,o,r)),null!=n&&Ei(r,o)}function Vs(){let t=Gt();const e=jt();Ht()?Zt():(t=t.parent,zt(t,!1)),e.firstCreatePass&&(de(e,t),dt(t)&&e.queries.elementEnd(t))}function Us(t,e,n){Ms(t,e,n),Vs()}function js(){return Ut()}function qs(t){return!!t&&"function"==typeof t.then}function Gs(t){return!!t&&"function"==typeof t.subscribe}const Bs=Gs;function zs(t,e,n,r){const i=Ut(),s=jt(),o=Gt();return function(t,e,n,r,i,s,o,a){const u=pt(r),l=t.firstCreatePass&&Yi(t),c=Ki(e);let h=!0;if(3&r.type||a){const d=kt(r,e),f=a?a(d):d,p=c.length,m=a?t=>a(It(t[r.index])):r.index;if(Tt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Zs(r,e,0,s,!1);const t=n.listen(f,i,s);c.push(s,t),l&&l.push(i,m,p,p+1)}}else s=Zs(r,e,0,s,!0),f.addEventListener(i,s,o),c.push(s),l&&l.push(i,m,p,o)}else s=Zs(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),zs}function Hs(t,e,n,r){try{return!1!==n(r)}catch(i){return Ji(t,i),!1}}function Zs(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&zi(o);let a=Hs(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Hs(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function $s(t=1){return function(t){return(Mt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Mt.lFrame.contextLView))[8]}(t)}function Qs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ti(t,s,!0):ei(r,s))return i}else n=i}return n}function Ks(t){const e=Ut()[16][6];if(!e.projection){const n=e.projection=on(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Qs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ys(t,e=0,n){const r=Ut(),i=jt(),s=mi(i,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),Zt(),64!=(64&s.flags)&&function(t,e,n){Br(e[11],0,e,n,Or(t,n,e),Fr(n.parent||e[6],n,e))}(i,r,s)}function Js(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ui(s):ci(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Ws(t[a],e)&&(u=!0,t[a+1]=r?di(n):li(n)),a=r?ui(n):ci(n)}u&&(t[n+1]=r?li(s):di(s))}function Ws(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ln(t,e)>=0}const Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function to(t){return t.substring(Xs.key,Xs.keyEnd)}function eo(t,e){const n=Xs.textEnd;return n===e?-1:(e=Xs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xs.key=e,n),no(t,e,n))}function no(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ro(t,e){return function(t,e,n,r){const i=Ut(),s=jt(),o=Yt(2);s.firstUpdatePass&&oo(s,t,o,true),e!==ii&&xs(i,o,e)&&lo(s,s.data[le()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=c(Rn(t))),t}(e),true,o)}(t,e),ro}function io(t,e){for(let n=function(t){return function(t){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=t.length}(t),eo(t,no(t,0,Xs.textEnd))}(e);n>=0;n=eo(e,n))an(t,to(e),!0)}function so(t,e){return e>=t.expandoStartIndex}function oo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[le()],o=so(t,n);fo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Mt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=uo(n=ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ci(r))return t[ui(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ao(null,t,e,n[1],r),n=uo(n,e.attrs,r),function(t,e,n,r){t[ui(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=uo(r,t[s].hostAttrs,n);return uo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ui(o),u=ci(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||ln(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=ui(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(u,0),0===a?a=r:t[u+1]=hi(t[u+1],r),u=r;c&&(t[r+1]=li(t[r+1])),Js(t,l,r,!0),Js(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ln(s,e)>=0&&(n[r+1]=di(n[r+1]))}(e,l,t,r,s),o=ai(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=uo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,o,!!n||e[++s]))}return void 0===t?null:t}function lo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];ho(1==(1&l)?co(u,e,n,i,ci(l),o):void 0)||(ho(s)||2==(2&l)&&(s=co(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Tt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:vr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=vr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,At(le(),n),i,s))}function co(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,l=null===u;let c=n[i+1];c===ii&&(c=l?G:void 0);let h=l?un(c,r):u===r?c:void 0;if(s&&!ho(h)&&(h=un(e,r)),ho(h)&&(a=h,o))return a;const d=t[i+1];i=o?ui(d):ci(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function ho(t){return void 0!==t}function fo(t,e){return 0!=(t.flags&(e?16:32))}function po(t,e=""){const n=Ut(),r=jt(),i=t+ut,s=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,o,s),zt(s,!1)}function mo(t){return go("",t,""),mo}function go(t,e,n){const r=Ut(),i=As(r,t,e,n);return i!==ii&&function(t,e,n){const r=At(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,le(),i),go}function yo(t,e,n){!function(t,e,n,r){const i=jt(),s=Yt(2);i.firstUpdatePass&&oo(i,null,s,r);const o=Ut();if(n!==ii&&xs(o,s,n)){const a=i.data[le()];if(fo(a,r)&&!so(i,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Ds(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ii&&(i=G);let u=0,l=0,c=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){const o=u<i.length?i[u+1]:void 0,d=l<s.length?s[l+1]:void 0;let f,p=null;c===h?(u+=2,l+=2,o!==d&&(p=h,f=d)):null===h||null!==c&&c<h?(u+=2,p=c):(l+=2,p=h,f=d),null!==p&&lo(t,e,n,r,p,f,true,a),c=u<i.length?i[u]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return G;const r=[],i=Rn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(an,io,As(Ut(),t,e,n),!0)}function vo(t,e,n){const r=Ut();return xs(r,Kt(),e)&&Ai(jt(),he(),r,t,e,r[11],n,!0),vo}const _o=void 0;var bo=["en",[["a","p"],["AM","PM"],_o],[["AM","PM"],_o,_o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_o,"{1} 'at' {0}",_o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let wo={};function So(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Co(e);if(n)return n;const r=e.split("-")[0];if(n=Co(r),n)return n;if("en"===r)return bo;throw new Error(`Missing locale data for the locale "${t}".`)}function Eo(t){return So(t)[To.PluralCase]}function Co(t){return t in wo||(wo[t]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[t]),wo[t]}var To=(()=>((To=To||{})[To.LocaleId=0]="LocaleId",To[To.DayPeriodsFormat=1]="DayPeriodsFormat",To[To.DayPeriodsStandalone=2]="DayPeriodsStandalone",To[To.DaysFormat=3]="DaysFormat",To[To.DaysStandalone=4]="DaysStandalone",To[To.MonthsFormat=5]="MonthsFormat",To[To.MonthsStandalone=6]="MonthsStandalone",To[To.Eras=7]="Eras",To[To.FirstDayOfWeek=8]="FirstDayOfWeek",To[To.WeekendRange=9]="WeekendRange",To[To.DateFormat=10]="DateFormat",To[To.TimeFormat=11]="TimeFormat",To[To.DateTimeFormat=12]="DateTimeFormat",To[To.NumberSymbols=13]="NumberSymbols",To[To.NumberFormats=14]="NumberFormats",To[To.CurrencyCode=15]="CurrencyCode",To[To.CurrencySymbol=16]="CurrencySymbol",To[To.CurrencyName=17]="CurrencyName",To[To.Currencies=18]="Currencies",To[To.Directionality=19]="Directionality",To[To.PluralCase=20]="PluralCase",To[To.ExtraData=21]="ExtraData",To))();const xo="en-US";let Io=xo;function Ao(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Io=t.toLowerCase().replace(/_/g,"-"))}function ko(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)ko(t[s],e,n,r,i);else{const s=jt(),o=Ut();let a=fs(t)?t:p(t.provide),u=cs(t);const l=Gt(),c=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(fs(t)||!t.multi){const r=new _e(u,i,Ns),f=Ro(a,e,i?c:c+d,h);-1===f?(Fe(Ne(l,o),s,a),Oo(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ro(a,e,c+d,h),p=Ro(a,e,c,c+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Fe(Ne(l,o),s,a);const c=function(t,e,n,r,i){const s=new _e(t,n,Ns);return s.multi=[],s.index=e,s.componentProviders=0,No(s,i,r&&!n),s}(i?Po:Do,n.length,i,r,u);!i&&g&&(n[p].providerFactory=c),Oo(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),o.push(c)}else Oo(s,t,f>-1?f:p,No(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Oo(t,e,n,r){const i=fs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function No(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ro(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Do(t,e,n,r){return Fo(this.multi,[])}function Po(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Be(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Fo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Fo(i,s);return s}function Fo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Lo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=jt();if(r.firstCreatePass){const i=mt(t);ko(n,r.data,r.blueprint,i,!0),ko(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Mo{}class Vo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${c(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Uo{}function jo(...t){}function qo(t,e){return new Bo(kt(t,e))}Uo.NULL=new Vo;const Go=function(){return qo(Gt(),Ut())};let Bo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Go,t})();function zo(t){return t instanceof Bo?t.nativeElement:t}class Ho{}let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$o(),t})();const $o=function(){const t=Ut(),e=Nt(Gt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let Qo=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Yo=new Ko("12.1.5");class Jo{constructor(){}supports(t){return Cs(t)}create(t){return new Xo(t)}}const Wo=(t,e)=>e;class Xo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Wo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ra(n,r,i)?e:n,o=ra(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new Error(`Error trying to diff '${c(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Es()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new na),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new na),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ea{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class na{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ea,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ra(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ia{constructor(){}supports(t){return t instanceof Map||Ts(t)}create(){return new sa}}class sa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ts(t)))throw new Error(`Error trying to diff '${c(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new oa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class oa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aa(){return new ua([new Jo])}let ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||aa()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:aa}),t})();function la(){return new ca([new ia])}let ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||la()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:la}),t})();function ha(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(It(s)),ht(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ha(e[1],e,n,r)}const o=n.type;if(8&o)ha(t,e,n.child,r);else if(32&o){const t=_r(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Ur(e,n);if(Array.isArray(t))r.push(...t);else{const n=br(e[16]);ha(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class da{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ha(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ir(t,n),sn(e,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(t){xi(this._lView[1],this._lView,null,t)}markForCheck(){zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Hi(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Gr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class fa extends da{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Qt(!0);try{Zi(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const pa=function(t){return function(t,e,n){if(ft(t)&&!n){const n=Nt(t.index,e);return new da(n,n)}return 47&t.type?new da(e[16],e):null}(Gt(),Ut(),16==(16&t))};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=pa,t})();const ga=[new ia],ya=new ua([new Jo]),va=new ca(ga),_a=function(){return Ea(Gt(),Ut())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=_a,t})();const wa=ba,Sa=class extends wa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),yi(e,n,t),new da(n)}};function Ea(t,e){return 4&t.type?new Sa(e,t,qo(t,e)):null}class Ca{}class Ta{}const xa=function(){return Ra(Gt(),Ut())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=xa,t})();const Aa=Ia,ka=class extends Aa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pe(this._hostTNode,this._hostLView);if(Te(t)){const e=Ie(t,this._hostLView),n=xe(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Oa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ca,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ka(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],rn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=jr(i,s),a=n[11],u=Pr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Gr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),rn(Na(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Oa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);n&&(sn(Na(this._lContainer),e),Ar(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);return n&&null!=sn(Na(this._lContainer),e)?new da(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Oa(t){return t[8]}function Na(t){return t[8]||(t[8]=[])}function Ra(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Nr(n,Pr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),Bi(e,n)}return new ka(n,t,e)}const Da={};class Pa extends Uo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ot(t);return new Ma(e,this.ngModule)}}function Fa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const La=new We("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gr});class Ma extends Mo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Fa(this.componentDef.inputs)}get outputs(){return Fa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Da,i);return s!==Da||r===Da?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ho,xt),o=i.get(Qo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Tr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:gr,clean:Qi,playerHandler:null,flags:0},d=Ti(0,null,null,1,0,null,null,null,null,null),f=pi(null,d,h,c,null,null,s,a,o,i);let p,m;re(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=mi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Xi(a,u,!0),null!==t&&(be(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const l=r.createRenderer(t,e),c=pi(n,Ci(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Fe(Ne(a,n),o,e.type),Ri(o,a),Pi(a,n.length,1)),Bi(n,c),n[20]=c}(l,this.componentDef,f,s,a);if(l)if(n)be(a,l,["ng-version",Yo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Wr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&be(a,l,t),e&&e.length>0&&Hr(a,l,e.join(" "))}if(m=Ot(d,ut),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,e,gi(t,e,1,null),n));const i=Be(e,t,r.directiveStart,r);hr(i,e);const s=kt(r,e);return s&&hr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ce(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ni(e,o)),o}(t,this.componentDef,f,h,[gs]),yi(d,f,null)}finally{ue()}return new Va(this.componentType,p,qo(m,f),f,m)}}class Va extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new fa(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ua=new Map;class ja extends Ca{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pa(this);const n=at(t),r=t[$]||null;r&&Ao(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=as(t,e,[{provide:Ca,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],c(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ms.THROW_IF_NOT_FOUND,n=k.Default){return t===ms||t===Ca||t===ts?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qa extends Ta{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${c(e)} vs ${c(e.name)}`)}(i,Ua.get(i),n),Ua.set(i,n));const s=yr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new ja(this.moduleType,t)}}function Ga(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=xs(t,e,n);return xs(t,e+1,r)||i}(t,a,i,s)?function(t,e,n){return t[e]=n}(t,a+2,o?r.call(o,i,s):r(i,s)):function(t,e){const n=t[e];return n===ii?void 0:n}(t,a+2)}(Ut(),function(){const t=Mt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r,i)}function Ba(t){return e=>{setTimeout(t,void 0,e)}}const za=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Ba(u),a&&(a=Ba(a)),l&&(l=Ba(l)));const c=super.subscribe({next:a,error:u,complete:l});return t instanceof i.w&&t.add(c),c}};function Ha(){return this._results[Es()]()}class Za{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Es(),n=Za.prototype;n[e]||(n[e]=Ha)}get changes(){return this._changes||(this._changes=new za)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $a{constructor(t){this.queryList=t,this.matches=null}clone(){return new $a(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Qa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==uu(t,e).matches&&this.queries[e].setDirty()}}class Ka{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ya{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ya(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ja{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ja(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Wa(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bo||r===Ia||r===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?qo(t,e):4&t.type?Ea(t,e):null}(e,t):-2===n?function(t,e,n){return n===Bo?qo(e,t):n===ba?Ea(e,t):n===Ia?Ra(e,t):void 0}(t,e,r):Be(t,t[1],n,e)}function tu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Xa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function eu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=tu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&eu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];eu(n[1],n,i,r)}}}}}return r}function nu(t){const e=Ut(),n=jt(),r=Xt();te(r+1);const i=uu(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?eu(n,e,r,[]):tu(n,e,i,r);t.reset(s,zo),t.notifyOnChanges()}return!0}return!1}function ru(t,e,n){const r=jt();r.firstCreatePass&&(au(r,new Ka(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),ou(r,Ut(),e)}function iu(t,e,n,r){const i=jt();if(i.firstCreatePass){const s=Gt();au(i,new Ka(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}ou(i,Ut(),n)}function su(){return t=Ut(),e=Xt(),t[19].queries[e].queryList;var t,e}function ou(t,e,n){const r=new Za(4==(4&n));xi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Qa),e[19].queries.push(new $a(r))}function au(t,e,n){null===t.queries&&(t.queries=new Ya),t.queries.track(new Ja(e,n))}function uu(t,e){return t.queries.getByIndex(e)}function lu(t,e){return Ea(t,e)}const cu=new We("Application Initializer");let hu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=jo,this.reject=jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(qs(e))t.push(e);else if(Bs(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yn(cu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const du=new We("AppId"),fu={provide:du,useFactory:function(){return`${pu()}${pu()}${pu()}`},deps:[]};function pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mu=new We("Platform Initializer"),gu=new We("Platform ID"),yu=new We("appBootstrapListener");let vu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const _u=new We("LocaleId"),bu=new We("DefaultCurrencyCode");class wu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Su=function(t){return new qa(t)},Eu=Su,Cu=function(t){return Promise.resolve(Su(t))},Tu=function(t){const e=Su(t),n=yr(at(t).declarations).reduce((t,e)=>{const n=ot(e);return n&&t.push(new Ma(n)),t},[]);return new wu(e,n)},xu=Tu,Iu=function(t){return Promise.resolve(Tu(t))};let Au=(()=>{class t{constructor(){this.compileModuleSync=Eu,this.compileModuleAsync=Cu,this.compileModuleAndAllComponentsSync=xu,this.compileModuleAndAllComponentsAsync=Iu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const ku=(()=>Promise.resolve(0))();function Ou(t){"undefined"==typeof Zone?ku.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new za(!1),this.onMicrotaskEmpty=new za(!1),this.onStable=new za(!1),this.onError=new za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=j.requestAnimationFrame,e=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(j,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pu(t),t.isCheckStableRunning=!0,Du(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Fu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Lu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Fu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Lu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Pu(t),Du(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ru,jo,jo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ru={};function Du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lu(t){t._nesting--,Du(t)}class Mu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new za,this.onMicrotaskEmpty=new za,this.onStable=new za,this.onError=new za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),Ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ou(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yn(Nu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class ju{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function qu(t){Bu=t}let Gu,Bu=new ju,zu=!0,Hu=!1;function Zu(){return Hu=!0,zu}function $u(){if(Hu)throw new Error("Cannot enable prod mode after platform setup.");zu=!1}const Qu=new We("AllowMultipleToken");class Ku{constructor(t,e){this.name=t,this.token=e}}function Yu(t,e,n=[]){const r=`Platform: ${e}`,i=new We(r);return(e=[])=>{let s=Ju();if(!s||s.injector.get(Qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ns,useValue:"platform"});!function(t){if(Gu&&!Gu.destroyed&&!Gu.injector.get(Qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gu=t.get(Wu);const e=t.get(mu,null);e&&e.forEach(t=>t())}(ms.create({providers:t,name:r}))}return function(t){const e=Ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ju(){return Gu&&!Gu.destroyed?Gu:null}let Wu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Mu:("zone.js"===t?void 0:t)||new Nu({enableLongStackTrace:Zu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Nu,useValue:n}];return n.run(()=>{const e=ms.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{el(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(hu);return t.runInitializers(),t.donePromise.then(()=>(Ao(i.injector.get(_u,xo)||xo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Xu({},e);return function(t,e,n){const r=new qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${c(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yn(ms))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}let tl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),Ou(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,l.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Mo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ca),i=n.create(ms.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Vu,null),a=o&&i.injector.get(Uu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),el(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;el(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yn(Nu),yn(ms),yn(mr),yn(Uo),yn(hu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function el(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nl{}class rl{}const il={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||il}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>ol(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ol(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yn(Au),yn(rl,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function ol(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const al=function(t){return null},ul=Yu(null,"core",[{provide:gu,useValue:"unknown"},{provide:Wu,deps:[ms]},{provide:Uu,deps:[]},{provide:vu,deps:[]}]),ll=[{provide:tl,useClass:tl,deps:[Nu,ms,mr,Uo,hu]},{provide:La,deps:[Nu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hu,useClass:hu,deps:[[new Sn,cu]]},{provide:Au,useClass:Au,deps:[]},fu,{provide:ua,useFactory:function(){return ya},deps:[]},{provide:ca,useFactory:function(){return va},deps:[]},{provide:_u,useFactory:function(t){return Ao(t=t||"undefined"!=typeof $localize&&$localize.locale||xo),t},deps:[[new wn(_u),new Sn,new En]]},{provide:bu,useValue:"USD"}];let cl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(yn(tl))},t.\u0275mod=et({type:t}),t.\u0275inj=w({providers:ll}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>x,xv:()=>_,Dh:()=>v,HU:()=>f,GT:()=>y,sI:()=>C,on:()=>w,ss:()=>p,pX:()=>g,yq:()=>S});var r=n(7771),i=n(3637),s=n(3342),o=n(2639),a=n(6136),u=n(7716),l=n(2329);function c(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe((0,s.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,o.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),_=new u.OlP("angularfire2.app.nameOrConfig"),b=new u.GfV("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.R0b,[new u.FiY,_]]};let x=(()=>{class t{constructor(t){l.Z.registerVersion("angularfire",b.full,t.toString()),l.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[T]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,s=n(4762),o=n(4685),a=n(6034),u=n(300),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.LL("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,o.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if((0,o.r3)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&l.push("and"),u&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,o.r3)(e,t=t||d))throw c.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw c.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&(0,o.ZB)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=(0,s.pi)((0,s.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,o.ZB)(e,t)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,o.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.29",void 0),t.registerVersion("fire-js","")}(b);const w=b},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(4685),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=(0,r.CR)(l.value,2),h=c[1];o===this.normalizeInstanceIdentifier(c[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(l){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var s=[],o=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={})),o))(),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>E,Sg:()=>u,ne:()=>C,p$:()=>s,ZB:()=>o,m9:()=>I,z$:()=>l,jU:()=>d,ru:()=>f,d:()=>m,w1:()=>g,uI:()=>c,UG:()=>h,b$:()=>p,G6:()=>v,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&a)<<2|l>>6,h=63&l;u||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function g(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return l().indexOf("MSAppHost/")>=0}function v(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var _=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?w(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new _(i,a,r);return u},t}();function w(t,e){return t.replace(S,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var S=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new T(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(u^l),s=1518500249):(i=a^u^l,s=1859775393):r<60?(i=a&u|l&(a|u),s=2400959708):(i=a^u^l,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=l,l=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function I(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.9.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},8891:(t,e,n)=>{"use strict";n.d(e,{y:()=>l});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4022),u=n(2494);let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0,a.U)(t)(this)}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>l,xQ:()=>c});var r=n(8891),i=n(7393),s=n(5319),o=n(7971),a=n(8858),u=n(9181);class l extends i.L{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),u=n(4449);class l extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,s.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof o?l(h.errors):[h]}}if((0,r.k)(c)){let e=-1,n=c.length;for(;++e<n;){const n=c[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(8891),s=n(7444);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(9765),i=n(8891),s=n(5319),o=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>s});var r=n(8891);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8891),i=n(7444),s=n(5319),o=n(6554),a=n(4087),u=n(377),l=n(4072),c=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,l.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,c.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(8891),i=n(5015),s=n(4087);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8891),i=n(4869),s=n(3282),o=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},205:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(8891);function i(t,e){return new r.y(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(9773),i=n(4487);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(t,e,n)=>{"use strict";n.d(e,{ht:()=>c,QV:()=>u});var r=n(7393),i=n(9193),s=n(5917),o=n(205);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function u(t,e=0){return function(n){return n.lift(new l(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2441),i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return t=>{return(0,i.x)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2639:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(8891);let i=1;const s=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var l=n(6465),c=n(6102);const h=new class extends c.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends l.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var d=n(6561);class f extends r.y{constructor(t,e=0,n=h){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,d.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new f(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new f(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(8891),i=n(5319);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>s});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),o=s},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},4022:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,U:()=>s});var r=n(4487);function i(...t){return s(t)}function s(t){return 0===t.length?r.y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>c});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),u=n(4072),l=n(1555);const c=t=>{if(t&&"function"==typeof t[o.L])return c=t,t=>{const e=c[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,l.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},271:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(c)}const l=new r.OlP("Location Initialized");let c=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new c((0,r.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=(()=>((C=C||{})[C.Zero=0]="Zero",C[C.One=1]="One",C[C.Two=2]="Two",C[C.Few=3]="Few",C[C.Many=4]="Many",C[C.Other=5]="Other",C))();const T=r.kL8;class x{}let I=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(xx){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}class F{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let L=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),M=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new F(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(L,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),V=(()=>{class t{constructor(t,e,n){n._addDefault(new F(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(L,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),U=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:x,useClass:I}]}),t})();function q(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new B((0,r.LFG)(o),window)}),t})();class B{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(xx){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(xx){return!1}}}function z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H{}class Z extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Z,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null);return null==e?null:function(t){$=$||document.createElement("a"),$.setAttribute("href",t);const e=$.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A(document.cookie,t)}}let $,Q=null;const K=new r.OlP("TRANSITION_ID"),Y=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[K,o,r.zs3],multi:!0}];class J{static init(){(0,r.VLi)(new J)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let W=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const X=new r.OlP("EventManagerPlugins");let tt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(X),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let nt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),rt=(()=>{class t extends nt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(it),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(it))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function it(t){s().remove(t)}const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function at(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?at(t,i,n):(i=i.replace(ot,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ct(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=at(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(tt),r.LFG(rt),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ct{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ht extends ct{constructor(t,e,n,r){super(t),this.component=n;const i=at(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ot,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ot,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ct{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=at(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ft=(()=>{class t extends et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const pt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends et{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(pt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gt.hasOwnProperty(e)&&(e=gt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(wt)},token:t,providedIn:"root"}),t})();function bt(t){return new wt(t.get(o))}let wt=(()=>{class t extends _t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return bt((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const St=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Z.makeCurrent(),J.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Et=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:X,useClass:ft,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:X,useClass:vt,multi:!0,deps:[o]},[],{provide:lt,useClass:lt,deps:[tt,rt,r.AFp]},{provide:r.FYo,useExisting:lt},{provide:nt,useExisting:rt},{provide:rt,useClass:rt,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:tt,useClass:tt,deps:[X,r.R0b]},{provide:H,useClass:W,deps:[]},[]];let Ct=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:K,useExisting:r.AFp},Y]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Et,imports:[j,r.hGG]}),t})();"undefined"!=typeof window&&window;var Tt=n(4402),xt=n(8891),It=n(9796),At=n(8002),kt=n(1555);function Ot(...t){if(1===t.length){const e=t[0];if((0,It.k)(e))return Nt(e,null);if((0,kt.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Nt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Nt(t=1===t.length&&(0,It.k)(t[0])?t[0]:t,null).pipe((0,At.U)(t=>e(...t)))}return Nt(t,null)}function Nt(t,e){return new xt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,Tt.D)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let Rt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Dt=(()=>{class t extends Rt{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Pt=new r.OlP("NgValueAccessor"),Ft={provide:Pt,useExisting:(0,r.Gpc)(()=>Mt),multi:!0},Lt=new r.OlP("CompositionEventMode");let Mt=(()=>{class t extends Rt{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Lt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([Ft]),r.qOj]}),t})();function Vt(t){return null==t||0===t.length}function Ut(t){return null!=t&&"number"==typeof t.length}const jt=new r.OlP("NgValidators"),qt=new r.OlP("NgAsyncValidators"),Gt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bt{static min(t){return function(t){return e=>{if(Vt(e.value)||Vt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Vt(e.value)||Vt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return zt(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Vt(t.value)||Gt.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Vt(e.value)||!Ut(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ut(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Ht;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Vt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Jt(t)}static composeAsync(t){return Xt(t)}}function zt(t){return Vt(t.value)?{required:!0}:null}function Ht(t){return null}function Zt(t){return null!=t}function $t(t){const e=(0,r.QGY)(t)?(0,Tt.D)(t):t;return(0,r.CqO)(e),e}function Qt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Kt(t,e){return e.map(e=>e(t))}function Yt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Jt(t){if(!t)return null;const e=t.filter(Zt);return 0==e.length?null:function(t){return Qt(Kt(t,e))}}function Wt(t){return null!=t?Jt(Yt(t)):null}function Xt(t){if(!t)return null;const e=t.filter(Zt);return 0==e.length?null:function(t){return Ot(Kt(t,e).map($t)).pipe((0,At.U)(Qt))}}function te(t){return null!=t?Xt(Yt(t)):null}function ee(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ne(t){return t._rawValidators}function re(t){return t._rawAsyncValidators}let ie=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=te(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),se=(()=>{class t extends ie{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class oe extends ie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ae{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let ue=(()=>{class t extends ae{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oe,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),le=(()=>{class t extends ae{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(se,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function ce(t,e){return[...e.path,t]}function he(t,e){pe(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ge(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ge(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function de(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),me(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fe(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pe(t,e){const n=ne(t);null!==e.validator?t.setValidators(ee(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=re(t);null!==e.asyncValidator?t.setAsyncValidators(ee(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();fe(e._rawValidators,i),fe(e._rawAsyncValidators,i)}function me(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=ne(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=re(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return fe(e._rawValidators,r),fe(e._rawAsyncValidators,r),n}function ge(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ye(t,e){pe(t,e)}function ve(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function _e(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function be(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Mt?n=t:Object.getPrototypeOf(t.constructor)===Dt?r=t:i=t}),i||r||n||null}function we(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Se="VALID",Ee="INVALID",Ce="PENDING",Te="DISABLED";function xe(t){return(Oe(t)?t.validators:t)||null}function Ie(t){return Array.isArray(t)?Wt(t):t||null}function Ae(t,e){return(Oe(e)?e.asyncValidators:t)||null}function ke(t){return Array.isArray(t)?te(t):t||null}function Oe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ne{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ie(this._rawValidators),this._composedAsyncValidatorFn=ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Se}get invalid(){return this.status===Ee}get pending(){return this.status==Ce}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ie(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ke(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ce,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Te,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Se,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Se&&this.status!==Ce||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Se}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ce,this._hasOwnPendingAsyncValidator=!0;const e=$t(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof De?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Pe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?Ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ce)?Ce:this._anyControlsHaveStatus(Ee)?Ee:Se}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Oe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Re extends Ne{constructor(t=null,e,n){super(xe(e),Ae(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){we(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){we(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class De extends Ne{constructor(t,e,n){super(xe(e),Ae(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Re?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Pe extends Ne{constructor(t,e,n){super(xe(e),Ae(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Re?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Fe={provide:se,useExisting:(0,r.Gpc)(()=>Me)},Le=(()=>Promise.resolve(null))();let Me=(()=>{class t extends se{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new De({},Wt(t),te(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Le.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),he(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Le.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),we(this._directives,t)})}addFormGroup(t){Le.then(()=>{const e=this._findContainer(t.path),n=new De({});ye(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Le.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Le.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_e(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(jt,10),r.Y36(qt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Fe]),r.qOj]}),t})();const Ve={provide:oe,useExisting:(0,r.Gpc)(()=>je)},Ue=(()=>Promise.resolve(null))();let je=(()=>{class t extends oe{constructor(t,e,n,i){super(),this.control=new Re,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=be(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ve(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ce(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){he(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ue.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ue.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(se,9),r.Y36(jt,10),r.Y36(qt,10),r.Y36(Pt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Ve]),r.qOj,r.TTD]}),t})(),qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Be=new r.OlP("NgModelWithFormControlWarning"),ze={provide:se,useExisting:(0,r.Gpc)(()=>He)};let He=(()=>{class t extends se{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return he(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){de(t.control||null,t,!1),we(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,_e(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(de(e||null,t),n instanceof Re&&(he(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ye(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return me(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pe(this.form,this),this._oldForm&&me(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(jt,10),r.Y36(qt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ze]),r.qOj,r.TTD]}),t})();const Ze={provide:oe,useExisting:(0,r.Gpc)(()=>$e)};let $e=(()=>{class t extends oe{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=be(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ve(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ce(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(se,13),r.Y36(jt,10),r.Y36(qt,10),r.Y36(Pt,10),r.Y36(Be,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Ze]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})();const Qe={provide:jt,useExisting:(0,r.Gpc)(()=>Ke),multi:!0};let Ke=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?zt(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[r._Bn([Qe])]}),t})(),Ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ge]]}),t})(),Je=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ye]}),t})(),We=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Be,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ye]}),t})(),Xe=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new De(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new Re(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Pe(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Re||t instanceof De||t instanceof Pe?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:We}),t})();var tn=n(5917),en=n(9765),nn=n(7971);class rn extends en.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nn.N;return this._value}next(t){super.next(this._value=t)}}var sn=n(4869),on=n(7393);class an extends on.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class un extends on.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ln=n(7444);function cn(t,e,n,r,i=new un(t,n,r)){if(!i.closed)return e instanceof xt.y?e.subscribe(i):(0,ln.s)(e)(i)}var hn=n(6693);const dn={};class fn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pn(t,this.resultSelector))}}class pn extends an{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(dn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(cn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===dn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const mn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var gn=n(3282);function yn(...t){return(0,gn.J)(1)((0,tn.of)(...t))}var vn=n(9193);function _n(t){return new xt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Tt.D)(n):(0,vn.c)()).subscribe(e)})}var bn=n(2441),wn=n(5345);function Sn(t,e){return"function"==typeof e?n=>n.pipe(Sn((n,r)=>(0,Tt.D)(t(n,r)).pipe((0,At.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new En(t))}class En{constructor(t){this.project=t}call(t,e){return e.subscribe(new Cn(t,this.project))}}class Cn extends wn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new wn.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,wn.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Tn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function xn(t){return e=>0===t?(0,vn.c)():e.lift(new In(t))}class In{constructor(t){if(this.total=t,this.total<0)throw new Tn}call(t,e){return e.subscribe(new An(t,this.total))}}class An extends on.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function kn(...t){const e=t[t.length-1];return(0,sn.K)(e)?(t.pop(),n=>yn(t,n,e)):e=>yn(t,e)}function On(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Nn(t,e,n))}}class Nn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Rn(t,this.accumulator,this.seed,this.hasSeed))}}class Rn extends on.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Dn(t,e){return function(n){return n.lift(new Pn(t,e))}}class Pn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fn(t,this.predicate,this.thisArg))}}class Fn extends on.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ln(t){return function(e){const n=new Mn(t),r=e.lift(n);return n.caught=r}}class Mn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Vn(t,this.selector,this.caught))}}class Vn extends wn.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new wn.IY(this);this.add(r);const i=(0,wn.ft)(n,r);i!==r&&this.add(i)}}}var Un=n(9773);function jn(t,e){return(0,Un.zg)(t,e,1)}function qn(t){return function(e){return 0===t?(0,vn.c)():e.lift(new Gn(t))}}class Gn{constructor(t){if(this.total=t,this.total<0)throw new Tn}call(t,e){return e.subscribe(new Bn(t,this.total))}}class Bn extends on.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function zn(t=$n){return e=>e.lift(new Hn(t))}class Hn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Zn(t,this.errorFactory))}}class Zn extends on.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(GI){t=GI}this.destination.error(t)}}}function $n(){return new mn}function Qn(t=null){return e=>e.lift(new Kn(t))}class Kn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Yn(t,this.defaultValue))}}class Yn extends on.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Jn=n(4487);function Wn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((e,n)=>t(e,n,r)):Jn.y,xn(1),n?Qn(e):zn(()=>new mn))}var Xn=n(3342),tr=n(1307),er=n(5319);function nr(t){return e=>e.lift(new rr(t))}class rr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ir(t,this.callback))}}class ir extends on.L{constructor(t,e){super(t),this.add(new er.w(e))}}class sr{constructor(t,e){this.id=t,this.url=e}}class or extends sr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ar extends sr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ur extends sr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lr extends sr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cr extends sr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends sr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends sr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fr extends sr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends sr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Sr="primary";class Er{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cr(t){return new Er(t)}function Tr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function xr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ir(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ar(t[i],e[i]))return!1;return!0}function Ar(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function kr(t){return Array.prototype.concat.apply([],t)}function Or(t){return t.length>0?t[t.length-1]:null}function Nr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Rr(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Tt.D)(Promise.resolve(t)):(0,tn.of)(t)}const Dr={exact:function t(e,n,r){if(!Gr(e.segments,n.segments))return!1;if(!Vr(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Lr},Pr={exact:function(t,e){return Ir(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ar(t[n],e[n]))},ignored:()=>!0};function Fr(t,e,n){return Dr[n.paths](t.root,e.root,n.matrixParams)&&Pr[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Lr(t,e,n){return Mr(t,e,e.segments,n)}function Mr(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Gr(i,n)&&!e.hasChildren()&&!!Vr(i,n,r)}if(t.segments.length===n.length){if(!Gr(t.segments,n))return!1;if(!Vr(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Lr(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Gr(t.segments,i)&&!!Vr(t.segments,i,r)&&!!t.children.primary&&Mr(t.children.primary,e,s,r)}}function Vr(t,e,n){return e.every((e,r)=>Pr[n](t[r].parameters,e.parameters))}class Ur{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return Hr.serialize(this)}}class jr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zr(this)}}class qr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}toString(){return Xr(this)}}function Gr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Br{}class zr{parse(t){const e=new ii(t);return new Ur(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${$r(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Kr(e)}=${Kr(t)}`).join("&"):`${Kr(e)}=${Kr(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Hr=new zr;function Zr(t){return t.segments.map(t=>Xr(t)).join("/")}function $r(t,e){if(!t.hasChildren())return Zr(t);if(e){const e=t.children.primary?$r(t.children.primary,!1):"",n=[];return Nr(t.children,(t,e)=>{e!==Sr&&n.push(`${e}:${$r(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Nr(t.children,(t,r)=>{r===Sr&&(n=n.concat(e(t,r)))}),Nr(t.children,(t,r)=>{r!==Sr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Sr?[$r(t.children.primary,!1)]:[`${n}:${$r(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Zr(t)}/${e[0]}`:`${Zr(t)}/(${e.join("//")})`}}function Qr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(t){return Qr(t).replace(/%3B/gi,";")}function Yr(t){return Qr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(t){return decodeURIComponent(t)}function Wr(t){return Jr(t.replace(/\+/g,"%20"))}function Xr(t){return`${Yr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Yr(t)}=${Yr(e[t])}`).join("")}`;var e}const ti=/^[^\/()?;=#]+/;function ei(t){const e=t.match(ti);return e?e[0]:""}const ni=/^[^=?&#]+/,ri=/^[^?&#]+/;class ii{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jr([],{}):new jr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new jr(t,e)),n}parseSegment(){const t=ei(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qr(Jr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ei(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ei(this.remaining);t&&(n=t,this.capture(n))}t[Jr(e)]=Jr(n)}parseQueryParam(t){const e=function(t){const e=t.match(ni);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ri);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Wr(e),i=Wr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ei(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Sr);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new jr([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class si{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=oi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ai(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ai(t,this._root).map(t=>t.value)}}function oi(t,e){if(t===e.value)return e;for(const n of e.children){const e=oi(t,n);if(e)return e}return null}function ai(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ai(t,n);if(r.length)return r.unshift(e),r}return[]}class ui{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function li(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ci extends si{constructor(t,e){super(t),this.snapshot=e,gi(this,t)}toString(){return this.snapshot.toString()}}function hi(t,e){const n=function(t,e){const n=new pi([],{},{},"",{},Sr,e,null,t.root,-1,{});return new mi("",new ui(n,[]))}(t,e),r=new rn([new qr("",{})]),i=new rn({}),s=new rn({}),o=new rn({}),a=new rn(""),u=new di(r,i,o,a,s,Sr,e,n.root);return u.snapshot=n.root,new ci(new ui(u,[]),n)}class di{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(t=>Cr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(t=>Cr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class pi{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mi extends si{constructor(t,e){super(e),this.url=t,gi(this,e)}toString(){return yi(this._root)}}function gi(t,e){e.value._routerState=t,e.children.forEach(e=>gi(t,e))}function yi(t){const e=t.children.length>0?` { ${t.children.map(yi).join(", ")} } `:"";return`${t.value}${e}`}function vi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ir(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ir(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ir(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ir(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _i(t,e){return Ir(t.params,e.params)&&function(t,e){return Gr(t,e)&&t.every((t,n)=>Ir(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||_i(t.parent,e.parent))}function bi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return bi(t,e,r);return bi(t,e)})}(t,e,n);return new ui(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return wi(e,t),t}}const n=new di(new rn((r=e.value).url),new rn(r.params),new rn(r.queryParams),new rn(r.fragment),new rn(r.data),r.outlet,r.component,r),i=e.children.map(e=>bi(t,e));return new ui(n,i)}var r}function wi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)wi(t.children[n],e.children[n])}function Si(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ei(t){return"object"==typeof t&&null!=t&&t.outlets}function Ci(t,e,n,r,i){let s={};return r&&Nr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ur(n.root===t?e:Ti(n.root,t,e),s,i)}function Ti(t,e,n){const r={};return Nr(t.children,(t,i)=>{r[i]=t===e?n:Ti(t,e,n)}),new jr(t.segments,r)}class xi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Si(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ei);if(r&&r!==Or(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ii{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ai(t,e,n){if(t||(t=new jr([],{})),0===t.segments.length&&t.hasChildren())return ki(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Ei(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Di(a,u,e))return s;r+=2}else{if(!Di(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new jr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new jr(t.segments.slice(r.pathIndex),t.children),ki(e,0,i)}return r.match&&0===i.length?new jr(t.segments,{}):r.match&&!t.hasChildren()?Oi(t,e,n):r.match?ki(t,0,i):Oi(t,e,n)}function ki(t,e,n){if(0===n.length)return new jr(t.segments,{});{const r=function(t){return Ei(t[0])?t[0].outlets:{[Sr]:t}}(n),i={};return Nr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ai(t.children[r],e,n))}),Nr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new jr(t.segments,i)}}function Oi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ei(s)){const t=Ni(s.outlets);return new jr(r,t)}if(0===i&&Si(n[0])){r.push(new qr(t.segments[e].path,Ri(n[0]))),i++;continue}const o=Ei(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Si(a)?(r.push(new qr(o,Ri(a))),i+=2):(r.push(new qr(o,{})),i++)}return new jr(r,{})}function Ni(t){const e={};return Nr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Oi(new jr([],{}),0,t))}),e}function Ri(t){const e={};return Nr(t,(t,n)=>e[n]=`${t}`),e}function Di(t,e,n){return t==n.path&&Ir(e,n.parameters)}class Pi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),vi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=li(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Nr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=li(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=li(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new br(t.value.snapshot))}),t.children.length&&this.forwardEvent(new vr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(vi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Fi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Fi(t){vi(t.value),t.children.forEach(Fi)}class Li{constructor(t,e){this.routes=t,this.module=e}}function Mi(t){return"function"==typeof t}function Vi(t){return t instanceof Ur}const Ui=Symbol("INITIAL_VALUE");function ji(){return Sn(t=>function(...t){let e,n;return(0,sn.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,It.k)(t[0])&&(t=t[0]),(0,hn.n)(t,n).lift(new fn(e))}(t.map(t=>t.pipe(xn(1),kn(Ui)))).pipe(On((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ui)return t;if(r===Ui&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Vi(r))return r}return t},t)},Ui),Dn(t=>t!==Ui),(0,At.U)(t=>Vi(t)?t:!0===t),xn(1)))}let qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[Fs]},encapsulation:2}),t})();function Gi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Bi(r,zi(e,r))}}function Bi(t,e){t.children&&Gi(t.children,e)}function zi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Hi(t){const e=t.children&&t.children.map(Hi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Sr&&(n.component=qi),n}function Zi(t){return t.outlet||Sr}function $i(t,e){const n=t.filter(t=>Zi(t)===e);return n.push(...t.filter(t=>Zi(t)!==e)),n}const Qi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ki(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Qi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xr)(n,t,e);if(!i)return Object.assign({},Qi);const s={};Nr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Yi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ji(t,e,n)&&Zi(n)!==Sr)}(t,n,r)){const i=new jr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Zi(s)!==Sr){const n=new jr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Zi(s)]=n}return i}(t,e,r,new jr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ji(t,e,n))}(t,n,r)){const s=new jr(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ji(t,n,a)&&!i[Zi(a)]){const n=new jr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Zi(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new jr(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Wi(t,e,n,r){return!!(Zi(t)===r||r!==Sr&&Ji(e,n,t))&&("**"===t.path||Ki(e,t,n).matched)}function Xi(t,e,n){return 0===e.length&&!t.children[n]}class ts{constructor(t){this.segmentGroup=t||null}}class es{constructor(t){this.urlTree=t}}function ns(t){return new xt.y(e=>e.error(new ts(t)))}function rs(t){return new xt.y(e=>e.error(new es(t)))}function is(t){return new xt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ss{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Yi(this.urlTree.root,[],[],this.config).segmentGroup,e=new jr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Sr).pipe((0,At.U)(t=>this.createUrlTree(os(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ln(t=>{if(t instanceof es)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ts)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Sr).pipe((0,At.U)(e=>this.createUrlTree(os(e),t.queryParams,t.fragment))).pipe(Ln(t=>{if(t instanceof ts)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new jr([],{[Sr]:t}):t;return new Ur(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,At.U)(t=>new jr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Tt.D)(r).pipe(jn(r=>{const i=n.children[r],s=$i(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,At.U)(t=>({segment:t,outlet:r})))}),On((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((e,n)=>t(e,n,r)):Jn.y,qn(1),n?Qn(e):zn(()=>new mn))}())}expandSegment(t,e,n,r,i,s){return(0,Tt.D)(n).pipe(jn(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Ln(t=>{if(t instanceof ts)return(0,tn.of)(null);throw t}))),Wn(t=>!!t),Ln((t,n)=>{if(t instanceof mn||"EmptyError"===t.name){if(Xi(e,r,i))return(0,tn.of)(new jr([],{}));throw new ts(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Wi(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ns(e):ns(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?rs(i):this.lineralizeSegments(n,i).pipe((0,Un.zg)(n=>{const i=new jr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Ki(e,r,i);if(!o)return ns(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?rs(c):this.lineralizeSegments(r,c).pipe((0,Un.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,tn.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,At.U)(t=>(n._loadedConfig=t,new jr(r,{})))):(0,tn.of)(new jr(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Ki(e,n,r);if(!s)return ns(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Un.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=Yi(e,o,u,s),c=new jr(a.segments,a.children);if(0===l.length&&c.hasChildren())return this.expandChildren(r,s,c).pipe((0,At.U)(t=>new jr(o,t)));if(0===s.length&&0===l.length)return(0,tn.of)(new jr(o,{}));const h=Zi(n)===i;return this.expandSegment(r,c,s,l,h?Sr:i,!0).pipe((0,At.U)(t=>new jr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,tn.of)(new Li(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,tn.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Un.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,At.U)(t=>(e._loadedConfig=t,t))):function(t){return new xt.y(e=>e.error(Tr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,tn.of)(new Li([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,tn.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Mi(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Mi(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Rr(s)});return(0,tn.of)(i).pipe(ji(),(0,Xn.b)(t=>{if(!Vi(t))return;const e=Tr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,At.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,tn.of)(n);if(r.numberOfChildren>1||!r.children.primary)return is(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ur(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Nr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Nr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new jr(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function os(t){const e={};for(const n of Object.keys(t.children)){const r=os(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new jr(t.segments.concat(e.segments),e.children)}return t}(new jr(t.segments,e))}class as{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class us{constructor(t,e){this.component=t,this.route=e}}function ls(t,e,n){const r=t._root;return hs(r,e?e._root:null,n,[r.value])}function cs(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function hs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=li(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!Ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_i(t,e)||!Ir(t.queryParams,e.queryParams);case"paramsChange":default:return!_i(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new as(r)):(s.data=o.data,s._resolvedData=o._resolvedData),hs(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new us(a.outlet.component,o))}else o&&ds(e,a,i),i.canActivateChecks.push(new as(r)),hs(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Nr(s,(t,e)=>ds(t,n.getContext(e),i)),i}function ds(t,e,n){const r=li(t),i=t.value;Nr(r,(t,r)=>{ds(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new us(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class fs{}function ps(t){return new xt.y(e=>e.error(t))}class ms{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Yi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Sr);if(null===e)return null;const n=new pi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ui(n,e),i=new mi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=fi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=$i(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=ys(n);return r.sort((t,e)=>t.value.outlet===Sr?-1:e.value.outlet===Sr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Xi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Wi(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Or(n).parameters:{};i=new pi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bs(t),Zi(t),t.component,t,vs(e),_s(e)+n.length,ws(t))}else{const r=Ki(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new pi(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bs(t),Zi(t),t.component,t,vs(e),_s(e)+s.length,ws(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=Yi(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ui(i,t)]}if(0===a.length&&0===l.length)return[new ui(i,[])];const c=Zi(t)===r,h=this.processSegment(a,u,l,c?Sr:r);return null===h?null:[new ui(i,h)]}}function gs(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ys(t){const e=[],n=new Set;for(const r of t){if(!gs(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=ys(r.children);e.push(new ui(r.value,t))}return e.filter(t=>!n.has(t))}function vs(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _s(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bs(t){return t.data||{}}function ws(t){return t.resolve||{}}function Ss(t){return Sn(e=>{const n=t(e);return n?(0,Tt.D)(n).pipe((0,At.U)(()=>e)):(0,tn.of)(e)})}class Es extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Cs=new r.OlP("ROUTES");class Ts{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,At.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Li(kr(i.injector.get(Cs,void 0,r.XFs.Self|r.XFs.Optional)).map(Hi),i)}),Ln(t=>{throw e._loader$=void 0,t}));return e._loader$=new bn.c(n,()=>new en.xQ).pipe((0,tr.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Tt.D)(this.loader.load(t)):Rr(t()).pipe((0,Un.zg)(t=>t instanceof r.YKP?(0,tn.of)(t):(0,Tt.D)(this.compiler.compileModuleAsync(t))))}}class xs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Is,this.attachRef=null}}class Is{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new xs,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class As{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ks(t){throw t}function Os(t,e,n){return e.parse("/")}function Ns(t,e){return(0,tn.of)(null)}const Rs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ps=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new en.xQ,this.errorHandler=ks,this.malformedUriErrorHandler=Os,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ns,afterPreactivation:Ns},this.urlHandlingStrategy=new As,this.routeReuseStrategy=new Es,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const l=s.get(r.R0b);this.isNgZoneEnabled=l instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ur(new jr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ts(o,a,t=>this.triggerEvent(new mr(t)),t=>this.triggerEvent(new gr(t))),this.routerState=hi(this.currentUrlTree,this.rootComponentType),this.transitions=new rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Dn(t=>0!==t.id),(0,At.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Sn(t=>{let n=!1,r=!1;return(0,tn.of)(t).pipe((0,Xn.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,tn.of)(t).pipe(Sn(t=>{const n=this.transitions.getValue();return e.next(new or(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?vn.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Sn(t=>function(t,e,n,r,i){return new ss(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,At.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Xn.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,Un.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ms(t,e,n,r,i,s).recognize();return null===o?ps(new fs):(0,tn.of)(o)}catch(GI){return ps(GI)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,At.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xn.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new or(n,this.serializeUrl(r),i,s);e.next(a);const u=hi(r,this.rootComponentType).snapshot;return(0,tn.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),vn.E}),Ss(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Xn.b)(t=>{const e=new hr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,At.U)(t=>Object.assign(Object.assign({},t),{guards:ls(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Un.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,tn.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Tt.D)(t).pipe((0,Un.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,tn.of)(!0);const o=s.map(s=>{const o=cs(s,e,i);let a;if(function(t){return t&&Mi(t.canDeactivate)}(o))a=Rr(o.canDeactivate(t,e,n,r));else{if(!Mi(o))throw new Error("Invalid CanDeactivate guard");a=Rr(o(t,e,n,r))}return a.pipe(Wn())});return(0,tn.of)(o).pipe(ji())}(t.component,t.route,n,e,r)),Wn(t=>!0!==t,!0))}(o,r,i,t).pipe((0,Un.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Tt.D)(e).pipe(jn(e=>yn(function(t,e){return null!==t&&e&&e(new yr(t)),(0,tn.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new _r(t)),(0,tn.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>_n(()=>{const i=e.guards.map(i=>{const s=cs(i,e.node,n);let o;if(function(t){return t&&Mi(t.canActivateChild)}(s))o=Rr(s.canActivateChild(r,t));else{if(!Mi(s))throw new Error("Invalid CanActivateChild guard");o=Rr(s(r,t))}return o.pipe(Wn())});return(0,tn.of)(i).pipe(ji())}));return(0,tn.of)(i).pipe(ji())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,tn.of)(!0);const i=r.map(r=>_n(()=>{const i=cs(r,e,n);let s;if(function(t){return t&&Mi(t.canActivate)}(i))s=Rr(i.canActivate(e,t));else{if(!Mi(i))throw new Error("Invalid CanActivate guard");s=Rr(i(e,t))}return s.pipe(Wn())}));return(0,tn.of)(i).pipe(ji())}(t,e.route,n))),Wn(t=>!0!==t,!0))}(r,s,t,e):(0,tn.of)(n)),(0,At.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Xn.b)(t=>{if(Vi(t.guardsResult)){const e=Tr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new dr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dn(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),Ss(t=>{if(t.guards.canActivateChecks.length)return(0,tn.of)(t).pipe((0,Xn.b)(t=>{const e=new fr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Sn(t=>{let e=!1;return(0,tn.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Un.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,tn.of)(t);let s=0;return(0,Tt.D)(i).pipe(jn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,tn.of)({});const s={};return(0,Tt.D)(i).pipe((0,Un.zg)(i=>function(t,e,n,r){const i=cs(t,e,r);return Rr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Xn.b)(t=>{s[i]=t}))),qn(1),(0,Un.zg)(()=>Object.keys(s).length===i.length?(0,tn.of)(s):vn.E))}(t._resolve,t,e,r).pipe((0,At.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),fi(t,n).resolve),null)))}(t.route,e,n,r)),(0,Xn.b)(()=>s++),qn(1),(0,Un.zg)(e=>s===i.length?(0,tn.of)(t):vn.E))})),(0,Xn.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,Xn.b)(t=>{const e=new pr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ss(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,At.U)(t=>{const e=function(t,e,n){const r=bi(t,e._root,n?n._root:void 0);return new ci(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Xn.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),(0,At.U)(t=>(new Pi(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),(0,Xn.b)({next(){n=!0},complete(){n=!0}}),nr(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),Ln(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Vi(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new ur(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new lr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(d_){t.reject(d_)}}var i;return vn.E}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gi(t),this.config=t.map(Hi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Ci(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Nr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new xi(n,e,r)}(n);if(s.toRoot())return Ci(e.root,new jr([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Ii(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ii(t,t===e.root,0)}const r=Si(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ii(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ki(o.segmentGroup,o.index,s.commands):Ai(o.segmentGroup,o.index,s.commands);return Ci(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Vi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(GI){e=this.malformedUriErrorHandler(GI,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Rs):!1===e?Object.assign({},Ds):e,Vi(t))return Fr(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Fr(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&l)return Promise.resolve(!0);let c,h,d;i?(c=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{c=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new ur(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Br),r.LFG(Is),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Fs=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Sr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ls(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Is),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ls{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===di?this.route:t===Is?this.childContexts:this.parent.get(t,e)}}class Ms{}class Vs{preload(t,e){return(0,tn.of)(null)}}let Us=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ts(e,n,e=>t.triggerEvent(new mr(e)),e=>t.triggerEvent(new gr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(t=>t instanceof ar),jn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Tt.D)(n).pipe((0,gn.J)(),(0,At.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,tn.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Un.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ps),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Ms))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),js=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ar&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new wr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ps),r.LFG(G),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const qs=new r.OlP("ROUTER_CONFIGURATION"),Gs=new r.OlP("ROUTER_FORROOT_GUARD"),Bs=[w,{provide:Br,useClass:zr},{provide:Ps,useFactory:function(t,e,n,r,i,s,o,a={},u,l){const c=new Ps(null,t,e,n,r,i,s,kr(o));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[Br,Is,w,r.zs3,r.v3s,r.Sil,Cs,qs,[class{},new r.FiY],[class{},new r.FiY]]},Is,{provide:di,useFactory:function(t){return t.routerState.root},deps:[Ps]},{provide:r.v3s,useClass:r.EAV},Us,Vs,class{preload(t,e){return e().pipe(Ln(()=>(0,tn.of)(null)))}},{provide:qs,useValue:{enableTracing:!1}}];function zs(){return new r.PXZ("Router",Ps)}let Hs=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Bs,Ks(e),{provide:Gs,useFactory:Qs,deps:[[Ps,new r.FiY,new r.tp0]]},{provide:qs,useValue:n||{}},{provide:g,useFactory:$s,deps:[a,[new r.tBr(v),new r.FiY],qs]},{provide:js,useFactory:Zs,deps:[Ps,G,qs]},{provide:Ms,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Vs},{provide:r.PXZ,multi:!0,useFactory:zs},[Ys,{provide:r.ip1,multi:!0,useFactory:Js,deps:[Ys]},{provide:Xs,useFactory:Ws,deps:[Ys]},{provide:r.tb,multi:!0,useExisting:Xs}]]}}static forChild(e){return{ngModule:t,providers:[Ks(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gs,8),r.LFG(Ps,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function Zs(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new js(t,e,n)}function $s(t,e,n={}){return n.useHash?new b(t,e):new _(t,e)}function Qs(t){return"guarded"}function Ks(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Cs,multi:!0,useValue:t}]}let Ys=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new en.xQ}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ps),r=this.injector.get(qs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,tn.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(qs),n=this.injector.get(Us),i=this.injector.get(js),s=this.injector.get(Ps),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Js(t){return t.appInitializer.bind(t)}function Ws(t){return t.bootstrapListener.bind(t)}const Xs=new r.OlP("Router Initializer");class to{}class eo{}class no{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof no?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new no;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof no?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ro{encodeKey(t){return io(t)}encodeValue(t){return io(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function io(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function so(t){return`${t}`}class oo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ro,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new oo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(so(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(so(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ao{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function uo(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function lo(t){return"undefined"!=typeof Blob&&t instanceof Blob}function co(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ho{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new no),this.context||(this.context=new ao),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new oo,this.urlWithParams=e}serializeBody(){return null===this.body?null:uo(this.body)||lo(this.body)||co(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||co(this.body)?null:lo(this.body)?this.body.type||null:uo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,l=t.params||this.params;const c=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new ho(n,r,s,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:o})}}var fo=(()=>((fo=fo||{})[fo.Sent=0]="Sent",fo[fo.UploadProgress=1]="UploadProgress",fo[fo.ResponseHeader=2]="ResponseHeader",fo[fo.DownloadProgress=3]="DownloadProgress",fo[fo.Response=4]="Response",fo[fo.User=5]="User",fo))();class po{constructor(t,e=200,n="OK"){this.headers=t.headers||new no,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class mo extends po{constructor(t={}){super(t),this.type=fo.ResponseHeader}clone(t={}){return new mo({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class go extends po{constructor(t={}){super(t),this.type=fo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new go({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yo extends po{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vo(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let _o=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ho)r=t;else{let i,s;i=n.headers instanceof no?n.headers:new no(n.headers),n.params&&(s=n.params instanceof oo?n.params:new oo({fromObject:n.params})),r=new ho(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,tn.of)(r).pipe(jn(t=>this.handler.handle(t)));if(t instanceof ho||"events"===n.observe)return i;const s=i.pipe(Dn(t=>t instanceof go));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,At.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,At.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,At.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,At.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new oo).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,vo(n,e))}post(t,e,n={}){return this.request("POST",t,vo(n,e))}put(t,e,n={}){return this.request("PUT",t,vo(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(to))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class bo{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wo=new r.OlP("HTTP_INTERCEPTORS");let So=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Eo=/^\)\]\}',?\n/;let Co=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xt.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new no(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new mo({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Eo,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=t,l&&(l=!1,u={error:c,text:u})}}l?(e.next(new go({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new yo({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new yo({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const l=r=>{u||(e.next(s()),u=!0);let i={type:fo.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:fo.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:fo.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(H))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const To=new r.OlP("XSRF_COOKIE_NAME"),xo=new r.OlP("XSRF_HEADER_NAME");class Io{}let Ao=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(r.Lbi),r.LFG(To))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Io),r.LFG(xo))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Oo=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(wo,[]);this.chain=t.reduceRight((t,e)=>new bo(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(eo),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),No=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ko,useClass:So}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:To,useValue:e.cookieName}:[],e.headerName?{provide:xo,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ko,{provide:wo,useExisting:ko,multi:!0},{provide:Io,useClass:Ao},{provide:To,useValue:"XSRF-TOKEN"},{provide:xo,useValue:"X-XSRF-TOKEN"}]}),t})(),Ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[_o,{provide:to,useClass:Oo},Co,{provide:eo,useExisting:Co}],imports:[[No.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Do=(()=>{class t{constructor(t){this.httpClient=t,this.googleapisLogin="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDKp05V515h6CX8brfoYgClbK-c06nZwC4",this.googleapisSignUp="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDKp05V515h6CX8brfoYgClbK-c06nZwC4",this.googleapisCheckUser="https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyDKp05V515h6CX8brfoYgClbK-c06nZwC4",this.googleapisFirestore="https://us-central1-stayapp-4ad22.cloudfunctions.net/webApi/api/v1/users",this.apiURL="https://us-central1-stayapp-4ad22.cloudfunctions.net/webApi"}loginService(t,e){var n={email:t,password:e};const r=new no;return this.httpClient.post(this.googleapisLogin,n,{headers:r})}signUp(t,e){var n={email:t,password:e};const r=new no;return this.httpClient.post(this.googleapisSignUp,n,{headers:r})}firestoreAPI(){const t=new no;return this.httpClient.post(this.googleapisFirestore,{headers:t})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Po(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Fo=n(3637);function Lo(t,e=Fo.P){return n=>n.lift(new Mo(t,e))}class Mo{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Vo(t,this.dueTime,this.scheduler))}}class Vo extends on.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Uo,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Uo(t){t.debouncedNext()}class jo{constructor(t){this.total=t}call(t,e){return e.subscribe(new qo(t,this.total))}}class qo extends on.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Go(t,e){return n=>n.lift(new Bo(t,e))}class Bo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zo(t,this.compare,this.keySelector))}}class zo extends on.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Ho(t){return e=>e.lift(new Zo(t))}class Zo{constructor(t){this.notifier=t}call(t,e){const n=new $o(t),r=(0,wn.ft)(this.notifier,new wn.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class $o extends wn.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Qo(t){return null!=t&&"false"!=`${t}`}function Ko(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Yo(t){return t instanceof r.SBq?t.nativeElement:t}let Jo;try{Jo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(xx){Jo=!1}let Wo,Xo=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})();const ta=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ea(){if(Wo)return Wo;if("object"!=typeof document||!document)return Wo=new Set(ta),Wo;let t=document.createElement("input");return Wo=new Set(ta.filter(e=>(t.setAttribute("type",e),t.type===e))),Wo}let na,ra;function ia(t){return function(){if(null==na&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>na=!0}))}finally{na=na||!1}return na}()?t:!!t.capture}function sa(t){return t.composedPath?t.composedPath()[0]:t.target}let oa=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),aa=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Yo(t);return new xt.y(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new en.xQ,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(oa))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(oa))},token:t,providedIn:"root"}),t})(),ua=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Qo(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ko(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Lo(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(aa),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})();class la extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new en.xQ,this._typeaheadSubscription=er.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new en.xQ,this.change=new en.xQ,t instanceof r.n_E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Xn.b)(t=>this._pressedLetters.push(t)),Lo(t),Dn(()=>this._pressedLetters.length>0),(0,At.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Po(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function ca(t){return 0===t.offsetX&&0===t.offsetY}function ha(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const da=new r.OlP("cdk-input-modality-detector-options"),fa={ignoreKeys:[18,17,224,91,16]},pa=ia({passive:!0,capture:!0});let ma=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new rn(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=sa(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ca(t)?"keyboard":"mouse"),this._mostRecentTarget=sa(t))},this._onTouchstart=t=>{ha(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sa(t))},this._options=Object.assign(Object.assign({},fa),r),this.modalityDetected=this._modality.pipe(t=>t.lift(new jo(1))),this.modalityChanged=this.modalityDetected.pipe(Go()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,pa),n.addEventListener("mousedown",this._onMousedown,pa),n.addEventListener("touchstart",this._onTouchstart,pa)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pa),document.removeEventListener("mousedown",this._onMousedown,pa),document.removeEventListener("touchstart",this._onTouchstart,pa))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xo),r.LFG(r.R0b),r.LFG(o),r.LFG(da,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Xo),r.LFG(r.R0b),r.LFG(o),r.LFG(da,8))},token:t,providedIn:"root"}),t})();const ga=new r.OlP("cdk-focus-monitor-default-options"),ya=ia({passive:!0,capture:!0});let va=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new en.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=sa(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Yo(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,tn.of)(null);const r=function(t){if(function(){if(null==ra){const t="undefined"!=typeof document?document.head:null;ra=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ra}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new en.xQ,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Yo(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Yo(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=sa(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ya),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ya)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ho(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ya),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ya),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(Xo),r.LFG(ma),r.LFG(o,8),r.LFG(ga,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(Xo),r.LFG(ma),r.LFG(o,8),r.LFG(ga,8))},token:t,providedIn:"root"}),t})();const _a=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let ba=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_a,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_a,8))},token:t,providedIn:"root"}),t})();class wa{}const Sa="*";function Ea(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ca(t,e=null){return{type:4,styles:e,timings:t}}function Ta(t,e=null){return{type:2,steps:t,options:e}}function xa(t){return{type:6,styles:t,offset:null}}function Ia(t,e,n){return{type:0,name:t,styles:e,options:n}}function Aa(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ka(t){Promise.resolve(null).then(t)}class Oa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ka(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Na{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ka(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ra(){return"undefined"!=typeof window&&void 0!==window.document}function Da(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pa(t){switch(t.length){case 0:return new Oa;case 1:return t[0];default:return new Na(t)}}function Fa(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Sa:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function La(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ma(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ma(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ma(n,"destroy",t)))}}function Ma(t,e,n){const r=n.totalTime,i=Va(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Va(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ua(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ja(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let qa=(t,e)=>!1,Ga=(t,e)=>!1,Ba=(t,e,n)=>[];const za=Da();(za||"undefined"!=typeof Element)&&(qa=Ra()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Ga=(()=>{if(za||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ga}})(),Ba=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ha=null,Za=!1;function $a(t){Ha||(Ha=("undefined"!=typeof document?document.body:null)||{},Za=!!Ha.style&&"WebkitAppearance"in Ha.style);let e=!0;return Ha.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ha.style,!e&&Za)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ha.style),e}const Qa=Ga,Ka=qa,Ya=Ba;function Ja(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Wa=(()=>{class t{validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Qa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Ya(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Oa(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Xa{}Xa.NOOP=new Wa;const tu="ng-enter",eu="ng-leave",nu="ng-trigger",ru=".ng-trigger",iu="ng-animating",su=".ng-animating";function ou(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:au(parseFloat(e[1]),e[2])}function au(t,e){switch(e){case"s":return 1e3*t;default:return t}}function uu(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=au(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=au(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function lu(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function cu(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else lu(t,n);return n}function hu(t,e,n){return n?e+":"+n+";":""}function du(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=hu(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=hu(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function fu(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=wu(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Da()&&du(t))}function pu(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=wu(e);t.style[n]=""}),Da()&&du(t))}function mu(t){return Array.isArray(t)?1==t.length?t[0]:Ta(t):t}const gu=new RegExp("{{\\s*(.+?)\\s*}}","g");function yu(t){let e=[];if("string"==typeof t){let n;for(;n=gu.exec(t);)e.push(n[1]);gu.lastIndex=0}return e}function vu(t,e,n){const r=t.toString(),i=r.replace(gu,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function _u(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const bu=/-+([a-z0-9])/g;function wu(t){return t.replace(bu,(...t)=>t[1].toUpperCase())}function Su(t,e){return 0===t||0===e}function Eu(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Tu(t,e)})}}return e}function Cu(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Tu(t,e){return window.getComputedStyle(t)[e]}const xu="*";function Iu(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Ou(i,o)),"<"!=s[0]||i==xu&&o==xu||e.push(Ou(o,i))}(t,n,e)):n.push(t),n}const Au=new Set(["true","1"]),ku=new Set(["false","0"]);function Ou(t,e){const n=Au.has(t)||ku.has(t),r=Au.has(e)||ku.has(e);return(i,s)=>{let o=t==xu||t==i,a=e==xu||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Au.has(t):ku.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Au.has(e):ku.has(e)),o&&a}}const Nu=new RegExp("s*:selfs*,?","g");function Ru(t,e,n){return new Du(t).build(e,n)}class Du{constructor(t){this._driver=t}build(t,e){const n=new Pu(e);return this._resetContextStyleTimingState(n),Cu(this,mu(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Fu(t)){const e=t;Object.keys(e).forEach(t=>{yu(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=_u(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Cu(this,mu(t.animation),e);return{type:1,matchers:Iu(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Lu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Cu(this,t,e)),options:Lu(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Cu(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Lu(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Mu(uu(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Mu(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||uu(r,e),Mu(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:xa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=xa(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Sa?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Fu(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=yu(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Fu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Fu(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Cu(this,mu(t.animation),e),options:Lu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Lu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Lu(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Nu,"")),[t=t.replace(/@\*/g,ru).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,su),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ua(e.collectedStyles,e.currentQuerySelector,{});const o=Cu(this,mu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Lu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:uu(t.timings,e.errors,!0);return{type:12,animation:Cu(this,mu(t.animation),e),timings:n,options:null}}}class Pu{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fu(t){return!Array.isArray(t)&&"object"==typeof t}function Lu(t){var e;return t?(t=lu(t)).params&&(t.params=(e=t.params)?lu(e):null):t={},t}function Mu(t,e,n){return{duration:t,delay:e,easing:n}}function Vu(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Uu{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ju=new RegExp(":enter","g"),qu=new RegExp(":leave","g");function Gu(t,e,n,r,i,s={},o={},a,u,l=[]){return(new Bu).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class Bu{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new Uu;const c=new Hu(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Cu(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Vu(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ou(n.duration):null,s=null!=n.delay?ou(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Cu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zu);const t=ou(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Cu(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ou(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Cu(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return uu(e.params?vu(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ou(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zu);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Cu(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;Cu(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const zu={};class Hu{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Zu(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ou(n.duration)),null!=n.delay&&(r.delay=ou(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=vu(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Hu(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=zu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new $u(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ju,"."+this._enterClassName)).replace(qu,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Zu{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Zu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Sa,this._currentKeyframe[t]=Sa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Sa})):cu(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=vu(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Sa),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=cu(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Sa&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?_u(t.values()):[],s=e.size?_u(e.values()):[];if(n){const t=r[0],e=lu(t);t.offset=0,e.offset=1,r=[t,e]}return Vu(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class $u extends Zu{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=cu(t[0],!1);a.offset=0,i.push(a);const u=cu(t[0],!1);u.offset=Qu(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=cu(t[r],!1);o.offset=Qu((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Vu(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Qu(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ku{}class Yu extends Ku{normalizePropertyName(t,e){return wu(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Ju[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Ju=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wu(t,e,n,r,i,s,o,a,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const Xu={};class tl{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||Xu,d=this.buildStyles(n,o&&o.params||Xu,c),f=a&&a.params||Xu,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},b=l?[]:Gu(t,e,this.ast.animation,i,s,d,p,_,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Wu(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=Ua(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ua(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=_u(m.values());return Wu(e,this._triggerName,n,r,v,d,p,b,S,g,y,w)}}class el{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=lu(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=vu(s,r,e));const o=this.normalizer.normalizePropertyName(t,e);s=this.normalizer.normalizeStyleValue(t,o,s,e),n[o]=s})}}),n}}class nl{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new el(t.style,t.options&&t.options.params||{},n)}),rl(this.states,"true","1"),rl(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new tl(t,e,this.states))}),this.fallbackTransition=new tl(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function rl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const il=new Uu;class sl{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ru(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Fa(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Gu(this._driver,e,i,tu,eu,{},{},n,il,r),s.forEach(t=>{const e=Ua(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Sa)})});const a=Pa(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Va(e,"","","");return La(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ol="ng-animate-queued",al="ng-animate-disabled",ul=".ng-animate-disabled",ll=[],cl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class dl{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=lu(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const fl="void",pl=new dl(fl);class ml{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sl(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ua(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ua(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Sl(t,nu),Sl(t,"ng-trigger-"+e),a[e]=pl),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new yl(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Sl(t,nu),Sl(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new dl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=pl),u.value!==fl&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{pu(t,n),fu(t,r)})}return}const l=Ua(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Sl(t,ol),s.onStart(()=>{El(t,ol)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ru,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,fl,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Pa(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||pl,a=new dl(fl),u=new yl(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==cl||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Sl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Va(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,La(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class gl{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ml(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(vl(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!vl(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sl(t,al)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),El(t,al))}removeNode(t,e,n,r){if(vl(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return vl(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ru,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,su,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=cl,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ul)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ul,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Sl(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Pa(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Uu,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=wl(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=tu+p++;f.set(e,n),t.forEach(t=>Sl(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=wl(h,Array.from(g));_.forEach((t,e)=>{const n=eu+p++;v.set(e,n),t.forEach(t=>Sl(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>El(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>El(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>pu(i,p.fromStyles)),e.onDestroy(()=>fu(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>pu(i,p.fromStyles)),e.onDestroy(()=>fu(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ua(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ua(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>xl(t,a,u)),T=new Map;bl(T,this.driver,y,u,Sa).forEach(t=>{xl(t,a,u)&&C.push(t)});const x=new Map;d.forEach((t,e)=>{bl(x,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=T.get(t),n=x.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>fu(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,x,T);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Pa(e)),r.push(s)}}else pu(e,o.fromStyles),s.onDestroy(()=>fu(e,o.toStyles)),A.push(s),l.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Pa(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(El(t,eu),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,su,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Cl(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==fl;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Ua(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}pu(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Oa(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Tl(t,e),e}((n.get(h)||ll).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Fa(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new yl(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Ua(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Sl(t,iu));const d=Pa(h);return d.onDestroy(()=>{l.forEach(t=>El(t,iu)),fu(a,e.toStyles)}),c.forEach(t=>{Ua(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Oa(t.duration,t.delay)}}class yl{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Oa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>La(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ua(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vl(t){return t&&1===t.nodeType}function _l(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function bl(t,e,n,r,i){const s=[];n.forEach(t=>s.push(_l(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=hl,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>_l(t,s[a++])),o}function wl(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Sl(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function El(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Cl(t,e,n){Pa(n).onDone(()=>t.processLeaveNode(e))}function Tl(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Na?Tl(r.players,e):e.push(r)}}function xl(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Il{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new gl(t,e,n),this._timelineEngine=new sl(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ru(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e,n){return new nl(t,e,n)}(r,e,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ja(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ja(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Al(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ol(e[0]),e.length>1&&(r=Ol(e[e.length-1]))):e&&(n=Ol(e)),n||r?new kl(t,n,r):null}class kl{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=kl.initialStylesByElement.get(t);r||kl.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&fu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fu(this._element,this._initialStyles),this._endStyles&&(fu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(kl.initialStylesByElement.delete(this._element),this._startStyles&&(pu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pu(this._element,this._endStyles),this._endStyles=null),fu(this._element,this._initialStyles),this._state=3)}}function Ol(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Nl(i)&&(e=e||{},e[i]=t[i])}return e}function Nl(t){return"display"===t||"position"===t}kl.initialStylesByElement=new WeakMap;const Rl="animation",Dl="animationend";class Pl{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=jl(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ul(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vl(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Fl(this._element,this._name,"paused")}resume(){Fl(this._element,this._name,"running")}setPosition(t){const e=Ll(this._element,this._name);this._position=t*this._duration,Ul(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vl(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=jl(t,"").split(","),r=Ml(n,e);r>=0&&(n.splice(r,1),Ul(t,"",n.join(",")))}(this._element,this._name))}}function Fl(t,e,n){Ul(t,"PlayState",n,Ll(t,e))}function Ll(t,e){const n=jl(t,"");return n.indexOf(",")>0?Ml(n.split(","),e):Ml([n],e)}function Ml(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Vl(t,e,n){n?t.removeEventListener(Dl,e):t.addEventListener(Dl,e)}function Ul(t,e,n,r){const i=Rl+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function jl(t,e){return t.style[Rl+e]||""}class ql{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Pl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Tu(this.element,n))})}this.currentSnapshot=t}}class Gl extends Oa{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ja(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Bl{constructor(){this._count=0}validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Qa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Ya(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ja(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof ql),u={};Su(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Eu(t,e,u));if(0==n)return new Gl(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=Al(t,e),f=new ql(t,e,c,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class zl{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Tu(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Hl{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Zl().toString()),this._cssKeyframesDriver=new Bl}validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Qa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Ya(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof zl);Su(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Al(t,e=Eu(t,e=e.map(t=>cu(t,!1)),u));return new zl(t,e,a,c)}}function Zl(){return Ra()&&Element.prototype.animate||{}}let $l=(()=>{class t extends wa{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ta(t):t;return Yl(this._renderer,null,e,"register",[n]),new Ql(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ql extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Kl(this._id,t,e||{},this._renderer)}}class Kl{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Yl(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Yl(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Jl="@",Wl="@.disabled";let Xl=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new tc("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ec(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(Il),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class tc{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Jl&&e==Wl?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ec extends tc{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Jl?"."==e.charAt(1)&&e==Wl?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Jl){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Jl&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let nc=(()=>{class t extends Il{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(Xa),r.LFG(Ku))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const rc=new r.OlP("AnimationModuleType"),ic=[{provide:wa,useClass:$l},{provide:Ku,useFactory:function(){return new Yu}},{provide:Il,useClass:nc},{provide:r.FYo,useFactory:function(t,e,n){return new Xl(t,e,n)},deps:[lt,Il,r.R0b]}],sc=[{provide:Xa,useFactory:function(){return"function"==typeof Zl()?new Hl:new Bl}},{provide:rc,useValue:"BrowserAnimations"},...ic],oc=[{provide:Xa,useClass:Wa},{provide:rc,useValue:"NoopAnimations"},...ic];let ac,uc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?oc:sc}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:sc,imports:[Ct]}),t})();function lc(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qo(t)}}}function cc(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function hc(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qo(t)}}}function dc(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new en.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{ac="undefined"!=typeof Intl}catch(xx){ac=!1}let fc=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();class pc{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mc={enterDuration:225,exitDuration:150},gc=ia({passive:!0}),yc=["mousedown","touchstart"],vc=["mouseup","mouseleave","touchend","touchcancel"];class _c{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yo(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},mc),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new pc(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},mc),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Yo(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(yc))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vc),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ca(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ha(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,gc)})})}_removeTriggerEvents(){this._triggerElement&&(yc.forEach(t=>{this._triggerElement.removeEventListener(t,this,gc)}),this._pointerUpEventsRegistered&&vc.forEach(t=>{this._triggerElement.removeEventListener(t,this,gc)}))}}const bc=new r.OlP("mat-ripple-global-options");let wc=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new _c(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Xo),r.Y36(bc,8),r.Y36(rc,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})();const Sc=["*",[["mat-toolbar-row"]]],Ec=["*","mat-toolbar-row"],Cc=cc(class{constructor(t){this._elementRef=t}});let Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),xc=(()=>{class t extends Cc{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Xo),r.Y36(o))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,Tc,5),2&t){let t;r.iGM(t=r.CRH())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.ekj("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:Ec,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(Sc),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})();const Ic=["mat-button",""],Ac=["*"],kc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Oc=cc(lc(hc(class{constructor(t){this._elementRef=t}})));let Nc=(()=>{class t extends Oc{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of kc)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(va),r.Y36(rc,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Gf(wc,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.uIk("disabled",e.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Ic,ngContentSelectors:Ac,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&t&&(r.xp6(2),r.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[wc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})();var Rc=n(205),Dc=n(8819);const Pc=["*"];function Fc(t){return Error(`Unable to find icon with the name "${t}"`)}function Lc(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Mc(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Vc{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Uc=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Vc(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw Mc(n);return this._addSvgIconConfig(t,e,new Vc("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Vc(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.q3G.HTML,e);if(!i)throw Mc(e);return this._addSvgIconSetConfig(t,new Vc("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!e)throw Lc(t);const n=this._cachedIconsByUrl.get(e);return n?(0,tn.of)(jc(n)):this._loadSvgIconFromConfig(new Vc(t,null)).pipe((0,Xn.b)(t=>this._cachedIconsByUrl.set(e,t)),(0,At.U)(t=>jc(t)))}getNamedSvgIcon(t,e=""){const n=qc(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(0,Rc._)(Fc(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,tn.of)(jc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,At.U)(t=>jc(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?(0,tn.of)(n):Ot(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Ln(e=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,tn.of)(null)})))).pipe((0,At.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Fc(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Xn.b)(e=>t.svgText=e),(0,At.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,tn.of)(null):this._fetchIcon(t).pipe((0,Xn.b)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw Lc(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const u=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(nr(()=>this._inProgressUrlFetches.delete(o)),(0,Dc.B)());return this._inProgressUrlFetches.set(o,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(qc(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new Vc(i.url,null,i.options):new Vc(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_o,8),r.LFG(_t),r.LFG(o,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(_o,8),r.LFG(_t),r.LFG(o,8),r.LFG(r.qLn))},token:t,providedIn:"root"}),t})();function jc(t){return t.cloneNode(!0)}function qc(t,e){return t+":"+e}const Gc=cc(class{constructor(t){this._elementRef=t}}),Bc=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,r.f3M)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zc=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Hc=zc.map(t=>`[${t}]`).join(", "),Zc=/^url\(['"]?#(.*?)['"]?\)$/;let $c=(()=>{class t extends Gc{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=er.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Qo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Hc),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)zc.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(Zc):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(xn(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Uc),r.$8M("aria-hidden"),r.Y36(Bc),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:Pc,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})();class Qc{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Kc extends Qc{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Yc extends Qc{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Jc extends Qc{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}let Wc=(()=>{class t extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Kc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Yc?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Jc?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(o))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),t})();function Xc(t,e){1&t&&r.Hsn(0)}const th=["*"];let eh=(()=>{class t{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),nh=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),rh=0;const ih="edit",sh="done",oh="error",ah=new r.OlP("STEPPER_GLOBAL_OPTIONS");let uh=(()=>{class t{constructor(t,e){this._stepper=t,this.interacted=!1,this.interactedStream=new r.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(t){this._editable=Qo(t)}get optional(){return this._optional}set optional(t){this._optional=Qo(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=Qo(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=Qo(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var t;return null!==(t=this._stepperOptions.showError)&&void 0!==t?t:null!=this._customError}}return t.\u0275fac=function(e){return new(e||t)(r.Y36((0,r.Gpc)(()=>lh)),r.Y36(ah,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,nh,5),2&t){let t;r.iGM(t=r.CRH())&&(e.stepLabel=t.first)}},viewQuery:function(t,e){if(1&t&&r.Gf(r.Rgc,7),2&t){let t;r.iGM(t=r.CRH())&&(e.content=t.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[r.TTD],ngContentSelectors:th,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.YNc(0,Xc,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),lh=(()=>{class t{constructor(t,e,n,i){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new en.xQ,this.steps=new r.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new r.vpe,this._orientation="horizontal",this._groupId=rh++}get linear(){return this._linear}set linear(t){this._linear=Qo(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){var e;const n=Ko(t);this.steps&&this._steps?(this._isValidIndex(t),null===(e=this.selected)||void 0===e||e._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}ngAfterContentInit(){this._steps.changes.pipe(kn(this._steps),Ho(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._keyManager=new la(this._stepHeader).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,tn.of)()).pipe(kn(this._layoutDirection()),Ho(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,e="number"){const n=this.steps.toArray()[t],r=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,r):this._getGuidelineLogic(n,r,e)}_getDefaultIndicatorLogic(t,e){return t._showError()&&t.hasError&&!e?oh:!t.completed||e?"number":t.editable?ih:sh}_getGuidelineLogic(t,e,n="number"){return t._showError()&&t.hasError&&!e?oh:t.completed&&!e?sh:t.completed&&e?n:t.editable&&e?ih:n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=Po(t),n=t.keyCode,r=this._keyManager;null==r.activeItemIndex||e||32!==n&&13!==n?r.onKeydown(t):(this.selectedIndex=r.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,e=function(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}();return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ba,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(o))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,uh,5),r.Suo(n,eh,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._steps=t),r.iGM(t=r.CRH())&&(e._stepHeader=t)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),ch=(()=>{class t{constructor(t){this._stepper=t,this.type="submit"}_handleClick(){this._stepper.next()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(lh))},t.\u0275dir=r.lG2({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e._handleClick()}),2&t&&r.Ikx("type",e.type)},inputs:{type:"type"}}),t})(),hh=(()=>{class t{constructor(t){this._stepper=t,this.type="button"}_handleClick(){this._stepper.previous()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(lh))},t.\u0275dir=r.lG2({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e._handleClick()}),2&t&&r.Ikx("type",e.type)},inputs:{type:"type"}}),t})();function dh(t,e){if(1&t&&r.GkF(0,8),2&t){const t=r.oxw();r.Q6J("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function fh(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Oqu(t._getDefaultTextForState(t.state))}}function ph(t,e){if(1&t&&(r.TgZ(0,"mat-icon"),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Oqu(t._getDefaultTextForState(t.state))}}function mh(t,e){if(1&t&&(r.ynx(0,9),r.YNc(1,fh,2,1,"span",10),r.YNc(2,ph,2,1,"mat-icon",11),r.BQk()),2&t){const t=r.oxw();r.Q6J("ngSwitch",t.state),r.xp6(1),r.Q6J("ngSwitchCase","number")}}function gh(t,e){if(1&t&&(r.TgZ(0,"div",12),r.GkF(1,13),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",t._templateLabel().template)}}function yh(t,e){if(1&t&&(r.TgZ(0,"div",12),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.label)}}function vh(t,e){if(1&t&&(r.TgZ(0,"div",14),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t._intl.optionalLabel)}}function _h(t,e){if(1&t&&(r.TgZ(0,"div",15),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.errorMessage)}}function bh(t,e){}function wh(t,e){if(1&t&&(r.Hsn(0),r.YNc(1,bh,0,0,"ng-template",0)),2&t){const t=r.oxw();r.xp6(1),r.Q6J("cdkPortalOutlet",t._portal)}}const Sh=["*"];function Eh(t,e){1&t&&r._UZ(0,"div",9)}const Ch=function(t,e){return{step:t,i:e}};function Th(t,e){if(1&t&&(r.ynx(0),r.GkF(1,7),r.YNc(2,Eh,1,0,"div",8),r.BQk()),2&t){const t=e.$implicit,n=e.index,i=e.last;r.oxw(2);const s=r.MAs(4);r.xp6(1),r.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",r.WLB(3,Ch,t,n)),r.xp6(1),r.Q6J("ngIf",!i)}}function xh(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",10),r.NdJ("@horizontalStepTransition.done",function(e){return r.CHM(t),r.oxw(2)._animationDone.next(e)}),r.GkF(1,11),r.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=r.oxw(2);r.Q6J("@horizontalStepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),r.uIk("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),r.xp6(1),r.Q6J("ngTemplateOutlet",t.content)}}function Ih(t,e){if(1&t&&(r.ynx(0),r.TgZ(1,"div",3),r.YNc(2,Th,3,6,"ng-container",4),r.qZA(),r.TgZ(3,"div",5),r.YNc(4,xh,2,5,"div",6),r.qZA(),r.BQk()),2&t){const t=r.oxw();r.xp6(2),r.Q6J("ngForOf",t.steps),r.xp6(2),r.Q6J("ngForOf",t.steps)}}function Ah(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.GkF(1,7),r.TgZ(2,"div",14),r.TgZ(3,"div",15),r.NdJ("@verticalStepTransition.done",function(e){return r.CHM(t),r.oxw(2)._animationDone.next(e)}),r.TgZ(4,"div",16),r.GkF(5,11),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=e.last,s=r.oxw(2),o=r.MAs(4);r.xp6(1),r.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",r.WLB(9,Ch,t,n)),r.xp6(1),r.ekj("mat-stepper-vertical-line",!i),r.xp6(1),r.Q6J("@verticalStepTransition",s._getAnimationDirection(n))("id",s._getStepContentId(n)),r.uIk("aria-labelledby",s._getStepLabelId(n))("aria-expanded",s.selectedIndex===n),r.xp6(2),r.Q6J("ngTemplateOutlet",t.content)}}function kh(t,e){if(1&t&&(r.ynx(0),r.YNc(1,Ah,6,12,"div",12),r.BQk()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.steps)}}function Oh(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-step-header",17),r.NdJ("click",function(){return r.CHM(t).step.select()})("keydown",function(e){return r.CHM(t),r.oxw()._onKeydown(e)}),r.qZA()}if(2&t){const t=e.step,n=e.i,i=r.oxw();r.ekj("mat-horizontal-stepper-header","horizontal"===i.orientation)("mat-vertical-stepper-header","vertical"===i.orientation),r.Q6J("tabIndex",i._getFocusIndex()===n?0:-1)("id",i._getStepLabelId(n))("index",n)("state",i._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",i.selectedIndex===n)("active",i._stepIsNavigable(n,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple)("color",t.color||i.color),r.uIk("aria-posinset",n+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!i._stepIsNavigable(n,t)||null)}}let Nh=(()=>{class t extends nh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matStepLabel",""]],features:[r.qOj]}),t})(),Rh=(()=>{class t{constructor(){this.changes=new en.xQ,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Dh=cc(class extends eh{constructor(t){super(t)}},"primary");let Ph=(()=>{class t extends Dh{constructor(t,e,n,r){super(n),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof Nh?null:this.label}_templateLabel(){return this.label instanceof Nh?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rh),r.Y36(va),r.Y36(r.SBq),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[r.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(r._UZ(0,"div",0),r.TgZ(1,"div"),r.TgZ(2,"div",1),r.YNc(3,dh,1,2,"ng-container",2),r.YNc(4,mh,3,2,"ng-container",3),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,gh,2,1,"div",5),r.YNc(7,yh,2,1,"div",5),r.YNc(8,vh,2,1,"div",6),r.YNc(9,_h,2,1,"div",7),r.qZA()),2&t&&(r.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),r.xp6(1),r.Gre("mat-step-icon-state-",e.state," mat-step-icon"),r.ekj("mat-step-icon-selected",e.selected),r.xp6(1),r.Q6J("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(2),r.ekj("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),r.xp6(1),r.Q6J("ngIf",e._templateLabel()),r.xp6(1),r.Q6J("ngIf",e._stringLabel()),r.xp6(1),r.Q6J("ngIf",e.optional&&"error"!=e.state),r.xp6(1),r.Q6J("ngIf","error"==e.state))},directives:[wc,L,M,V,R,U,$c],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const Fh={horizontalStepTransition:Ea("horizontalStepTransition",[Ia("previous",xa({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Ia("current",xa({transform:"none",visibility:"inherit"})),Ia("next",xa({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Aa("* => *",Ca("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Ea("verticalStepTransition",[Ia("previous",xa({height:"0px",visibility:"hidden"})),Ia("next",xa({height:"0px",visibility:"hidden"})),Ia("current",xa({height:"*",visibility:"inherit"})),Aa("* <=> current",Ca("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let Lh=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),Mh=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["ng-template","matStepContent",""]]}),t})(),Vh=(()=>{class t extends uh{constructor(t,e,n,r){super(t,r),this._errorStateMatcher=e,this._viewContainerRef=n,this._isSelected=er.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Sn(()=>this._stepper.selectionChange.pipe((0,At.U)(t=>t.selectedStep===this),kn(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Yc(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36((0,r.Gpc)(()=>Gh)),r.Y36(fc,4),r.Y36(r.s_b),r.Y36(ah,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,Nh,5),r.Suo(n,Mh,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.stepLabel=t.first),r.iGM(t=r.CRH())&&(e._lazyContent=t.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[r._Bn([{provide:fc,useExisting:t},{provide:uh,useExisting:t}]),r.qOj],ngContentSelectors:Sh,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(r.F$t(),r.YNc(0,wh,2,1,"ng-template"))},directives:[Wc],encapsulation:2,changeDetection:0}),t})(),Uh=(()=>{class t extends lh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),jh=(()=>{class t extends Uh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-horizontal-stepper"]],features:[r.qOj]}),t})(),qh=(()=>{class t extends Uh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-vertical-stepper"]],features:[r.qOj]}),t})(),Gh=(()=>{class t extends lh{constructor(t,e,n,i){super(t,e,n,i),this.steps=new r.n_E,this.animationDone=new r.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new en.xQ;const s=n.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===s?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(Ho(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Go((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),Ho(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,e){return e.completed||this.selectedIndex===t||!this.linear}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ba,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(o))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,Vh,5),r.Suo(n,Lh,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._steps=t),r.iGM(t=r.CRH())&&(e._icons=t)}},viewQuery:function(t,e){if(1&t&&r.Gf(Ph,5),2&t){let t;r.iGM(t=r.CRH())&&(e._stepHeader=t)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(t,e){2&t&&(r.uIk("aria-orientation",e.orientation),r.ekj("mat-stepper-horizontal","horizontal"===e.orientation)("mat-stepper-vertical","vertical"===e.orientation)("mat-stepper-label-position-end","horizontal"===e.orientation&&"end"==e.labelPosition)("mat-stepper-label-position-bottom","horizontal"===e.orientation&&"bottom"==e.labelPosition))},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition",disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[r._Bn([{provide:lh,useExisting:t},{provide:jh,useExisting:t},{provide:qh,useExisting:t}]),r.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,e){1&t&&(r.ynx(0,0),r.YNc(1,Ih,5,2,"ng-container",1),r.YNc(2,kh,2,1,"ng-container",1),r.BQk(),r.YNc(3,Oh,1,23,"ng-template",null,2,r.W1O)),2&t&&(r.Q6J("ngSwitch",e.orientation),r.xp6(1),r.Q6J("ngSwitchCase","horizontal"),r.xp6(1),r.Q6J("ngSwitchCase","vertical"))},directives:[L,M,O,U,R,Ph],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[Fh.horizontalStepTransition,Fh.verticalStepTransition]},changeDetection:0}),t})(),Bh=(()=>{class t extends ch{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,e){2&t&&r.Ikx("type",e.type)},inputs:{type:"type"},features:[r.qOj]}),t})(),zh=(()=>{class t extends hh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,e){2&t&&r.Ikx("type",e.type)},inputs:{type:"type"},features:[r.qOj]}),t})();var Hh=n(6682),Zh=n(9105);function $h(t,e,n,r){return(0,Zh.m)(n)&&(r=n,n=void 0),r?$h(t,e,n).pipe((0,At.U)(t=>(0,It.k)(t)?r(...t):r(t))):new xt.y(r=>{Qh(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Qh(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Qh(t[s],e,n,r,i)}r.add(s)}const Kh=["underline"],Yh=["connectionContainer"],Jh=["inputContainer"],Wh=["label"];function Xh(t,e){1&t&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function td(t,e){1&t&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function ed(t,e){if(1&t&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&t){const t=r.oxw(2);r.xp6(3),r.Oqu(t._control.placeholder)}}function nd(t,e){1&t&&r.Hsn(0,3,["*ngSwitchCase","true"])}function rd(t,e){1&t&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function id(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(t),r.oxw().updateOutlineGap()}),r.YNc(2,ed,4,1,"ng-container",12),r.YNc(3,nd,1,0,"ng-content",12),r.YNc(4,rd,2,0,"span",22),r.qZA()}if(2&t){const t=r.oxw();r.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.uIk("for",t._control.id)("aria-owns",t._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function sd(t,e){1&t&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function od(t,e){if(1&t&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ad(t,e){if(1&t&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState)}}function ud(t,e){if(1&t&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.Q6J("id",t._hintLabelId),r.xp6(1),r.Oqu(t.hintLabel)}}function ld(t,e){if(1&t&&(r.TgZ(0,"div",28),r.YNc(1,ud,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",t.hintLabel)}}const cd=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hd=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],dd=new r.OlP("MatError"),fd={transitionMessages:Ea("transitionMessages",[Ia("enter",xa({opacity:1,transform:"translateY(0%)"})),Aa("void => enter",[xa({opacity:0,transform:"translateY(-5px)"}),Ca("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})();const md=new r.OlP("MatHint");let gd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-label"]]}),t})(),yd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const vd=new r.OlP("MatPrefix"),_d=new r.OlP("MatSuffix");let bd=0;const wd=cc(class{constructor(t){this._elementRef=t}},"primary"),Sd=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ed=new r.OlP("MatFormField");let Cd=(()=>{class t extends wd{constructor(t,e,n,r,i,s,o,a){super(t),this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new en.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bd++,this._labelId="mat-form-field-label-"+bd++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Qo(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(kn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ho(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ho(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Hh.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(kn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(kn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ho(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,$h(this._label.nativeElement,"transitionend").pipe(xn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(ba,8),r.Y36(Sd,8),r.Y36(Xo),r.Y36(r.R0b),r.Y36(rc,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,pd,5),r.Suo(n,pd,7),r.Suo(n,gd,5),r.Suo(n,gd,7),r.Suo(n,yd,5),r.Suo(n,dd,5),r.Suo(n,md,5),r.Suo(n,vd,5),r.Suo(n,_d,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._controlNonStatic=t.first),r.iGM(t=r.CRH())&&(e._controlStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildNonStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildStatic=t.first),r.iGM(t=r.CRH())&&(e._placeholderChild=t.first),r.iGM(t=r.CRH())&&(e._errorChildren=t),r.iGM(t=r.CRH())&&(e._hintChildren=t),r.iGM(t=r.CRH())&&(e._prefixChildren=t),r.iGM(t=r.CRH())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Gf(Kh,5),r.Gf(Yh,7),r.Gf(Jh,5),r.Gf(Wh,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.underlineRef=t.first),r.iGM(t=r.CRH())&&(e._connectionContainerRef=t.first),r.iGM(t=r.CRH())&&(e._inputContainerRef=t.first),r.iGM(t=r.CRH())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:Ed,useExisting:t}]),r.qOj],ngContentSelectors:hd,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.F$t(cd),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.YNc(3,Xh,9,0,"ng-container",3),r.YNc(4,td,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,id,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,sd,2,0,"div",9),r.qZA(),r.YNc(11,od,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,ad,2,1,"div",12),r.YNc(14,ld,5,2,"div",13),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("ngIf","outline"==e.appearance),r.xp6(1),r.Q6J("ngIf",e._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",e._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",e._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=e.appearance),r.xp6(1),r.Q6J("ngSwitch",e._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[R,L,M,ua],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[fd.transitionMessages]},changeDetection:0}),t})();n(6561);const Td=ia({passive:!0});let xd=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return vn.E;const e=Yo(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new en.xQ,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Td),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,Td)}}),r}stopMonitoring(t){const e=Yo(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xo),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Xo),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})();const Id=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ad=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kd=0;const Od=dc(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});let Nd=(()=>{class t extends Od{constructor(t,e,n,r,i,s,o,a,u,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+kd++,this.focused=!1,this.stateChanges=new en.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ea().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!l,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Qo(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Qo(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ea().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Qo(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Ad.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Xo),r.Y36(oe,10),r.Y36(Me,8),r.Y36(He,8),r.Y36(fc),r.Y36(Id,10),r.Y36(xd),r.Y36(r.R0b),r.Y36(Ed,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Ikx("disabled",e.disabled)("required",e.required),r.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),r.ekj("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:pd,useExisting:t}]),r.qOj,r.TTD]}),t})();const Rd=["*",[["mat-card-footer"]]],Dd=["*","mat-card-footer"],Pd=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Fd=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Ld=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),Md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Vd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),Ud=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),jd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),qd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),Gd=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(rc,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Dd,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(Rd),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),Bd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Fd,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.F$t(Pd),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})();function zd(t,e){1&t&&r._uU(0,"Categoria")}let Hd=(()=>{class t{constructor(t,e){this._formBuilder=t,this.apiService=e,this.isLinear=!0,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",Bt.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",Bt.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",Bt.required]})}ngOnInit(){this.apiService.firestoreAPI().subscribe(t=>{console.log("FirestoreAPI",t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xe),r.Y36(Do))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-admin"]],decls:111,vars:7,consts:[["color","primary",1,"shadow-lg","p-3","mb-5","rounded"],["src","../../../assets/logo.png",1,"nav-logo"],[1,"spacer"],["mat-icon-button","","aria-label","logout icon-button",1,"logout-icon"],[3,"linear"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["appearance","fill"],["matInput","","placeholder","Doces","formControlName","firstCtrl","required",""],["mat-button","","matStepperNext",""],["label","Nome do Produto",3,"stepControl"],["matInput","","formControlName","secondCtrl","placeholder","Donuts","required",""],["mat-button","","matStepperPrevious",""],["label","Pre\xe7o",3,"stepControl"],["matInput","","formControlName","secondCtrl","placeholder","R$2.00","required",""],[1,"container-fluid",2,"margin-top","3%"],[1,"row","row-cols-2","row-cols-lg-5","g-2","g-lg-3",2,"margin-bottom","5%"],[1,"col"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],["mat-button",""]],template:function(t,e){1&t&&(r.TgZ(0,"mat-toolbar",0),r.TgZ(1,"mat-toolbar-row"),r._UZ(2,"img",1),r._UZ(3,"span",2),r.TgZ(4,"button",3),r.TgZ(5,"mat-icon"),r._uU(6,"logout"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"mat-stepper",4,5),r.TgZ(9,"mat-step",6),r.TgZ(10,"form",7),r.YNc(11,zd,1,0,"ng-template",8),r.TgZ(12,"mat-form-field",9),r.TgZ(13,"mat-label"),r._uU(14,"Categoria"),r.qZA(),r._UZ(15,"input",10),r.qZA(),r.TgZ(16,"div"),r.TgZ(17,"button",11),r._uU(18,"Pr\xf3ximo"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"mat-step",12),r.TgZ(20,"form",7),r.TgZ(21,"mat-form-field",9),r.TgZ(22,"mat-label"),r._uU(23,"Nome"),r.qZA(),r._UZ(24,"input",13),r.qZA(),r.TgZ(25,"div"),r.TgZ(26,"button",14),r._uU(27,"Voltar"),r.qZA(),r.TgZ(28,"button",11),r._uU(29,"Pr\xf3ximo"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"mat-step",15),r.TgZ(31,"form",7),r.TgZ(32,"mat-form-field",9),r.TgZ(33,"mat-label"),r._uU(34,"Pre\xe7o"),r.qZA(),r._UZ(35,"input",16),r.qZA(),r.TgZ(36,"div"),r.TgZ(37,"button",14),r._uU(38,"Voltar"),r.qZA(),r.TgZ(39,"button",11),r._uU(40,"Pronto"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(41,"div",17),r.TgZ(42,"div",18),r.TgZ(43,"div",19),r.TgZ(44,"mat-card",20),r.TgZ(45,"mat-card-header"),r._UZ(46,"div",21),r.TgZ(47,"mat-card-title"),r._uU(48,"Shiba Inu"),r.qZA(),r.TgZ(49,"mat-card-subtitle"),r._uU(50,"Dog Breed"),r.qZA(),r.qZA(),r._UZ(51,"img",22),r.TgZ(52,"mat-card-content"),r.TgZ(53,"p"),r._uU(54," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),r.qZA(),r.qZA(),r.TgZ(55,"mat-card-actions"),r.TgZ(56,"button",23),r._uU(57,"LIKE"),r.qZA(),r.TgZ(58,"button",23),r._uU(59,"SHARE"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(60,"div",19),r.TgZ(61,"mat-card",20),r.TgZ(62,"mat-card-header"),r._UZ(63,"div",21),r.TgZ(64,"mat-card-title"),r._uU(65,"Shiba Inu"),r.qZA(),r.TgZ(66,"mat-card-subtitle"),r._uU(67,"Dog Breed"),r.qZA(),r.qZA(),r._UZ(68,"img",22),r.TgZ(69,"mat-card-content"),r.TgZ(70,"p"),r._uU(71," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),r.qZA(),r.qZA(),r.TgZ(72,"mat-card-actions"),r.TgZ(73,"button",23),r._uU(74,"LIKE"),r.qZA(),r.TgZ(75,"button",23),r._uU(76,"SHARE"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(77,"div",19),r.TgZ(78,"mat-card",20),r.TgZ(79,"mat-card-header"),r._UZ(80,"div",21),r.TgZ(81,"mat-card-title"),r._uU(82,"Shiba Inu"),r.qZA(),r.TgZ(83,"mat-card-subtitle"),r._uU(84,"Dog Breed"),r.qZA(),r.qZA(),r._UZ(85,"img",22),r.TgZ(86,"mat-card-content"),r.TgZ(87,"p"),r._uU(88," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),r.qZA(),r.qZA(),r.TgZ(89,"mat-card-actions"),r.TgZ(90,"button",23),r._uU(91,"LIKE"),r.qZA(),r.TgZ(92,"button",23),r._uU(93,"SHARE"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(94,"div",19),r.TgZ(95,"mat-card",20),r.TgZ(96,"mat-card-header"),r._UZ(97,"div",21),r.TgZ(98,"mat-card-title"),r._uU(99,"Shiba Inu"),r.qZA(),r.TgZ(100,"mat-card-subtitle"),r._uU(101,"Dog Breed"),r.qZA(),r.qZA(),r._UZ(102,"img",22),r.TgZ(103,"mat-card-content"),r.TgZ(104,"p"),r._uU(105," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),r.qZA(),r.qZA(),r.TgZ(106,"mat-card-actions"),r.TgZ(107,"button",23),r._uU(108,"LIKE"),r.qZA(),r.TgZ(109,"button",23),r._uU(110,"SHARE"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("linear",e.isLinear),r.xp6(2),r.Q6J("stepControl",e.firstFormGroup),r.xp6(1),r.Q6J("formGroup",e.firstFormGroup),r.xp6(9),r.Q6J("stepControl",e.secondFormGroup),r.xp6(1),r.Q6J("formGroup",e.secondFormGroup),r.xp6(10),r.Q6J("stepControl",e.thirdFormGroup),r.xp6(1),r.Q6J("formGroup",e.thirdFormGroup))},directives:[xc,Tc,Nc,$c,Gh,Vh,qe,le,He,Nh,Cd,gd,Nd,Mt,ue,$e,Ke,Bh,zh,Gd,Bd,qd,Md,Vd,jd,Ld,Ud],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.nav-logo[_ngcontent-%COMP%]{max-width:190px}.logout-icon[_ngcontent-%COMP%]{zoom:1.5}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}"]}),t})();var Zd=n(4022),$d=n(6136),Qd=n(7771),Kd=n(8858);class Yd extends en.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Jd(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new nn.N;if(this.isStopped||this.hasError?s=er.w.EMPTY:(this.observers.push(t),s=new Kd.W(this,t)),r&&t.add(t=new $d.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Qd.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Jd{constructor(t,e){this.time=t,this.value=e}}function Wd(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(l){let c;o++,!i||a?(a=!1,i=new Yd(t,e,r),c=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),c=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Xd(t,e){return e?Sn(()=>t,e):Sn(()=>t)}var tf=n(2639),ef=n(57);const nf=new r.OlP("angularfire2.auth.use-emulator"),rf=new r.OlP("angularfire2.auth.settings"),sf=new r.OlP("angularfire2.auth.tenant-id"),of=new r.OlP("angularfire2.auth.langugage-code"),af=new r.OlP("angularfire2.auth.use-device-language"),uf=new r.OlP("angularfire.auth.persistence");let lf=(()=>{class t{constructor(t,e,r,i,s,o,a,u,l,c){const h=new ef.HU(i),d=(0,ef.ss)(h),f=new en.xQ,p=(0,tn.of)(void 0).pipe((0,$d.QV)(h.outsideAngular),Sn(()=>i.runOutsideAngular(()=>n.e(336).then(n.bind(n,1336)))),(0,At.U)(()=>(0,ef.on)(t,i,e)),(0,At.U)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return(0,ef.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,l&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return c&&r.setPersistence(c),r},[e,a,u,l,n,c])})),Wd({bufferSize:1,refCount:!1}));if(q(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,tn.of)(null);else{p.pipe(Wn()).subscribe();const t=p.pipe(Sn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Wd({bufferSize:1,refCount:!1})),e=t=>new xt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Sn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Sn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Xd(n),(0,tf.R)(h.outsideAngular),(0,$d.QV)(h.insideAngular)),this.user=t.pipe(Xd(r),(0,tf.R)(h.outsideAngular),(0,$d.QV)(h.insideAngular)),this.idToken=this.user.pipe(Sn(t=>t?(0,Tt.D)(t.getIdToken()):(0,tn.of)(null))),this.idTokenResult=this.user.pipe(Sn(t=>t?(0,Tt.D)(t.getIdTokenResult()):(0,tn.of)(null))),this.credential=(0,Hh.T)(t,f,this.authState.pipe(Dn(t=>!t))).pipe((0,At.U)(t=>(null==t?void 0:t.user)?t:null),(0,tf.R)(h.outsideAngular),(0,$d.QV)(h.insideAngular))}return(0,ef.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ef.Dh),r.LFG(ef.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(nf,8),r.LFG(rf,8),r.LFG(sf,8),r.LFG(of,8),r.LFG(af,8),r.LFG(uf,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ef.Dh),r.LFG(ef.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(nf,8),r.LFG(rf,8),r.LFG(sf,8),r.LFG(of,8),r.LFG(af,8),r.LFG(uf,8))},token:t,providedIn:"any"}),t})();const cf=(0,At.U)(t=>!!t);let hf=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>cf);return this.auth.user.pipe(xn(1),n(t,e),(0,At.U)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ps),r.LFG(lf))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const df=(0,At.U)(t=>!!t&&!t.isAnonymous),ff=Sn(t=>t?t.getIdTokenResult():(0,tn.of)(null));function pf(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"label",4),r._uU(2,"Login"),r.qZA(),r.TgZ(3,"div",5),r.TgZ(4,"div",6),r.TgZ(5,"div",7),r.TgZ(6,"label",8),r._uU(7,"E-mail"),r.qZA(),r.TgZ(8,"input",9),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().userEmail=e}),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"label",10),r._uU(11,"Senha"),r.qZA(),r.TgZ(12,"input",11),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().userPassword=e}),r.qZA(),r.qZA(),r.TgZ(13,"div",7),r.TgZ(14,"input",12),r.NdJ("click",function(){return r.CHM(t),r.oxw().login()}),r.qZA(),r.qZA(),r._UZ(15,"div",13),r.TgZ(16,"div",14),r.TgZ(17,"a",15),r.NdJ("click",function(){return r.CHM(t),r.oxw().changeLogin()}),r._uU(18,"Criar uma nova conta?"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.Q6J("ngModel",t.userEmail),r.xp6(4),r.Q6J("ngModel",t.userPassword)}}function mf(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"label",16),r._uU(2,"Novo cadastro"),r.qZA(),r.TgZ(3,"div",5),r.TgZ(4,"div",6),r.TgZ(5,"div",7),r.TgZ(6,"label",17),r._uU(7,"E-mail"),r.qZA(),r.TgZ(8,"input",18),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().userNewEmail=e}),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"label",19),r._uU(11,"Senha"),r.qZA(),r.TgZ(12,"input",20),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().userNewPassword=e}),r.qZA(),r.qZA(),r.TgZ(13,"div",7),r.TgZ(14,"input",12),r.NdJ("click",function(){return r.CHM(t),r.oxw().cadastrar()}),r.qZA(),r.qZA(),r._UZ(15,"div",13),r.TgZ(16,"div",14),r.TgZ(17,"a",15),r.NdJ("click",function(){return r.CHM(t),r.oxw().changeLogin()}),r._uU(18,"J\xe1 tenho uma conta!"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.Q6J("ngModel",t.userNewEmail),r.xp6(4),r.Q6J("ngModel",t.userNewPassword)}}(0,At.U)(t=>!!t&&t.emailVerified),(0,Zd.z)(ff,(0,At.U)(t=>t?t.claims:[]));let gf=(()=>{class t{constructor(t,e,n){this.router=t,this.apiService=e,this.auth=n,this.option=!1}changeLogin(){this.option=0==this.option}login(){this.auth.signInWithEmailAndPassword(this.userEmail,this.userPassword).then(t=>{console.log("Nice, it worked!"),this.router.navigate(["/admin"])}).catch(t=>{console.log("Something went wrong: ",t.message)})}cadastrar(){this.apiService.signUp(this.userNewEmail,this.userNewPassword).subscribe(t=>{console.log("Respostass",t)})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ps),r.Y36(Do),r.Y36(lf))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"login-wrap"],["class","login-html",4,"ngIf"],["class"," login-html ",4,"ngIf"],[1,"login-html"],["for","tab-1",1,"tab"],[1,"login-form"],[1,"sign-in-htm"],[1,"group"],["for","user",1,"label"],["id","user","type","text",1,"input",3,"ngModel","ngModelChange"],["for","pass",1,"label"],["id","pass","type","password","data-type","password",1,"input",3,"ngModel","ngModelChange"],["type","submit","value","Entrar",1,"button",3,"click"],[1,"hr"],[1,"foot-lnk"],[3,"click"],["for","tab-1 ",1,"tab"],["for","user ",1,"label"],["id","user ","type","text ",1,"input",3,"ngModel","ngModelChange"],["for","pass ",1,"label"],["id","pass ","type","password ","data-type","password ",1,"input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,pf,19,2,"div",1),r.YNc(2,mf,19,2,"div",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",0==e.option),r.xp6(1),r.Q6J("ngIf",1==e.option))},directives:[R,Mt,ue,je],styles:['*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.login-wrap[_ngcontent-%COMP%]{width:100%;margin:auto;max-width:525px;min-height:670px;position:relative}.login-html[_ngcontent-%COMP%]{margin-top:70px;width:100%;height:70%;position:absolute;padding:90px 70px 50px;background:#ce6300;border-radius:10% 10% 10% 10%}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{display:none}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{text-transform:uppercase}.login-html[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px;margin:0 15px 10px 0;display:inline-block;color:#fff}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%]{color:#fff;border-color:#b35600}.login-form[_ngcontent-%COMP%]{min-height:345px;position:relative;perspective:1000px;transform-style:preserve-3d}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:15px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;color:#fff;display:block}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:none;padding:15px 20px;border-radius:25px;background:#ffffff1a}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#aaa;font-size:12px}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#af5500}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px;position:relative;display:inline-block;background:#ffffff1a}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after, .login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{content:"";width:10px;height:2px;background:#fff;position:absolute;transition:all .2s ease-in-out 0s}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{left:3px;width:5px;bottom:6px;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{top:3px;right:0;transform:scale(0) rotate(0)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#1161ee}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{transform:scale(1) rotate(45deg)}.login-form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1) rotate(-45deg)}.login-html[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .sign-up[_ngcontent-%COMP%] + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-in-htm[_ngcontent-%COMP%], .login-html[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]:checked + .tab[_ngcontent-%COMP%] + .login-form[_ngcontent-%COMP%]   .sign-up-htm[_ngcontent-%COMP%]{transform:rotate(0)}.foot-lnk[_ngcontent-%COMP%]{text-align:center;cursor:pointer}']}),t})();const yf=[{path:"",component:gf},{path:"login",component:gf},{path:"admin",component:Hd,canActivate:[hf],data:{authGuardPipe:()=>{return t=["/"],(0,Zd.z)(df,(0,At.U)(e=>e||t));var t}}},{path:"**",redirectTo:""}];let vf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Hs.forRoot(yf,{scrollPositionRestoration:"top",relativeLinkResolution:"legacy"})],Hs]}),t})(),_f=(()=>{class t{constructor(){this.title="app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:[Fs],styles:[""]}),t})();const bf={apiKey:"AIzaSyDKp05V515h6CX8brfoYgClbK-c06nZwC4",authDomain:"stayapp-4ad22.firebaseapp.com",projectId:"stayapp-4ad22",storageBucket:"stayapp-4ad22.appspot.com",messagingSenderId:"170757004248",appId:"1:170757004248:web:063011503beade0d8330ad",measurementId:"G-X59D6FEH42"};function wf(){return t=>t.lift(new Sf)}class Sf{call(t,e){return e.subscribe(new Ef(t))}}class Ef extends on.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Cf=n(2329),Tf=n(9759),xf=n(4762),If=n(4685),Af=n(300),kf=function(t,e){return(kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Of(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Nf,Rf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Df=Df||{},Pf=Rf||self;function Ff(){}function Lf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vf="closure_uid_"+(1e9*Math.random()>>>0),Uf=0;function jf(t,e,n){return t.call.apply(t.bind,arguments)}function qf(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Gf(t,e,n){return(Gf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jf:qf).apply(null,arguments)}function Bf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function zf(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Hf(){this.s=this.s,this.o=this.o}var Zf={};Hf.prototype.s=!1,Hf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Vf)&&t[Vf]||(t[Vf]=++Uf)}(this);delete Zf[t]}},Hf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $f=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Qf=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Kf(t){return Array.prototype.concat.apply([],arguments)}function Yf(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Jf(t){return/^[\s\xa0]*$/.test(t)}var Wf,Xf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tp(t,e){return-1!=t.indexOf(e)}function ep(t,e){return t<e?-1:t>e?1:0}t:{var np=Pf.navigator;if(np){var rp=np.userAgent;if(rp){Wf=rp;break t}}Wf=""}function ip(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sp(t){var e={};for(var n in t)e[n]=t[n];return e}var op="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ap(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<op.length;s++)n=op[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function up(t){return up[" "](t),t}up[" "]=Ff;var lp,cp,hp=tp(Wf,"Opera"),dp=tp(Wf,"Trident")||tp(Wf,"MSIE"),fp=tp(Wf,"Edge"),pp=fp||dp,mp=tp(Wf,"Gecko")&&!(tp(Wf.toLowerCase(),"webkit")&&!tp(Wf,"Edge"))&&!(tp(Wf,"Trident")||tp(Wf,"MSIE"))&&!tp(Wf,"Edge"),gp=tp(Wf.toLowerCase(),"webkit")&&!tp(Wf,"Edge");function yp(){var t=Pf.document;return t?t.documentMode:void 0}t:{var vp="",_p=(cp=Wf,mp?/rv:([^\);]+)(\)|;)/.exec(cp):fp?/Edge\/([\d\.]+)/.exec(cp):dp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(cp):gp?/WebKit\/(\S+)/.exec(cp):hp?/(?:Version)[ \/]?(\S+)/.exec(cp):void 0);if(_p&&(vp=_p?_p[1]:""),dp){var bp=yp();if(null!=bp&&bp>parseFloat(vp)){lp=String(bp);break t}}lp=vp}var wp={};var Sp=Pf.document&&dp&&(yp()||parseInt(lp,10))||void 0,Ep=function(){if(!Pf.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pf.addEventListener("test",Ff,e),Pf.removeEventListener("test",Ff,e)}catch(n){}return t}();function Cp(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Tp(t,e){if(Cp.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mp){t:{try{up(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xp[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tp.Z.h.call(this)}}Cp.prototype.h=function(){this.defaultPrevented=!0},zf(Tp,Cp);var xp={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ip="closure_listenable_"+(1e6*Math.random()|0),Ap=0;function kp(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ap,this.ca=this.fa=!1}function Op(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Np(t){this.src=t,this.g={},this.h=0}function Rp(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=$f(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Op(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Dp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Dp(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new kp(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Pp="closure_lm_"+(1e6*Math.random()|0),Fp={};function Lp(t,e,n,r,i){if(r&&r.once)return Vp(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Lp(t,e[s],n,r,i);return null}return n=Hp(n),t&&t[Ip]?t.N(e,n,Mf(r)?!!r.capture:!!r,i):Mp(t,e,n,!1,r,i)}function Mp(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mf(i)?!!i.capture:!!i,a=Bp(t);if(a||(t[Pp]=a=new Np(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Gp;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ep||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qp(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Vp(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vp(t,e[s],n,r,i);return null}return n=Hp(n),t&&t[Ip]?t.O(e,n,Mf(r)?!!r.capture:!!r,i):Mp(t,e,n,!0,r,i)}function Up(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Up(t,e[s],n,r,i);else r=Mf(r)?!!r.capture:!!r,n=Hp(n),t&&t[Ip]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Dp(s=t.g[e],n,r,i))&&(Op(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Bp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dp(e,n,r,i)),(n=-1<t?e[t]:null)&&jp(n))}function jp(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ip])Rp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qp(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bp(e))?(Rp(n,t),0==n.h&&(n.src=null,e[Pp]=null)):Op(t)}}}function qp(t){return t in Fp?Fp[t]:Fp[t]="on"+t}function Gp(t,e){if(t.ca)t=!0;else{e=new Tp(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&jp(t),t=n.call(r,e)}return t}function Bp(t){return(t=t[Pp])instanceof Np?t:null}var zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hp(t){return"function"==typeof t?t:(t[zp]||(t[zp]=function(e){return t.handleEvent(e)}),t[zp])}function Zp(){Hf.call(this),this.i=new Np(this),this.P=this,this.I=null}function $p(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Cp(e,t);else if(e instanceof Cp)e.target=e.target||t;else{var i=e;ap(e=new Cp(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qp(o,r,!0,e)&&i}if(i=Qp(o=e.g=t,r,!0,e)&&i,i=Qp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Qp(o=e.g=n[s],r,!1,e)&&i}function Qp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Rp(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}zf(Zp,Hf),Zp.prototype[Ip]=!0,Zp.prototype.removeEventListener=function(t,e,n,r){Up(this,t,e,n,r)},Zp.prototype.M=function(){if(Zp.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Op(n[r]);delete e.g[t],e.h--}}this.I=null},Zp.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Zp.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Kp=Pf.JSON.stringify;function Yp(){var t=im,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Jp,Wp=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Xp.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Xp=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new tm},function(t){return t.reset()}),tm=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function em(t){Pf.setTimeout(function(){throw t},0)}function nm(t,e){Jp||function(){var t=Pf.Promise.resolve(void 0);Jp=function(){t.then(sm)}}(),rm||(Jp(),rm=!0),im.add(t,e)}var rm=!1,im=new Wp;function sm(){for(var t;t=Yp();){try{t.h.call(t.g)}catch(n){em(n)}var e=Xp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rm=!1}function om(t,e){Zp.call(this),this.h=t||1,this.g=e||Pf,this.j=Gf(this.kb,this),this.l=Date.now()}function am(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function um(t,e,n){if("function"==typeof t)n&&(t=Gf(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gf(t.handleEvent,t)}return 2147483647<Number(e)?-1:Pf.setTimeout(t,e||0)}function lm(t){t.g=um(function(){t.g=null,t.i&&(t.i=!1,lm(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}zf(om,Zp),(Nf=om.prototype).da=!1,Nf.S=null,Nf.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$p(this,"tick"),this.da&&(am(this),this.start()))}},Nf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nf.M=function(){om.Z.M.call(this),am(this),delete this.g};var cm=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}kf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:lm(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Hf);function hm(t){Hf.call(this),this.h=t,this.g={}}zf(hm,Hf);var dm=[];function fm(t,e,n,r){Array.isArray(n)||(n&&(dm[0]=n.toString()),n=dm);for(var i=0;i<n.length;i++){var s=Lp(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pm(t){ip(t.g,function(t,e){this.g.hasOwnProperty(e)&&jp(t)},t),t.g={}}function mm(){this.g=!0}function gm(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Kp(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}hm.prototype.M=function(){hm.Z.M.call(this),pm(this)},hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mm.prototype.Aa=function(){this.g=!1},mm.prototype.info=function(){};var ym={},vm=null;function _m(){return vm=vm||new Zp}function bm(t){Cp.call(this,ym.Ma,t)}function wm(t){var e=_m();$p(e,new bm(e,t))}function Sm(t,e){Cp.call(this,ym.STAT_EVENT,t),this.stat=e}function Em(t){var e=_m();$p(e,new Sm(e,t))}function Cm(t,e){Cp.call(this,ym.Na,t),this.size=e}function Tm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Pf.setTimeout(function(){t()},e)}ym.Ma="serverreachability",zf(bm,Cp),ym.STAT_EVENT="statevent",zf(Sm,Cp),ym.Na="timingevent",zf(Cm,Cp);var xm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Im={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Am(){}function km(){}Am.prototype.h=null;var Om,Nm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rm(){Cp.call(this,"d")}function Dm(){Cp.call(this,"c")}function Pm(){}function Fm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new hm(this),this.P=Mm,this.W=new om(t=pp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lm}function Lm(){this.i=null,this.g="",this.h=!1}zf(Rm,Cp),zf(Dm,Cp),zf(Pm,Am),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},Om=new Pm;var Mm=45e3,Vm={},Um={};function jm(t,e,n){t.K=1,t.v=lg(rg(e)),t.s=n,t.U=!0,qm(t,null)}function qm(t,e){t.F=Date.now(),Hm(t),t.A=rg(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Sg(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Lm,t.g=Ey(t.l,n?e:null,!t.s),0<t.O&&(t.L=new cm(Gf(t.Ia,t,t.g),t.O)),fm(t.V,t.g,"readystatechange",t.gb),e=t.H?sp(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wm(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Gm(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Bm(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=zm(t,n))==Um){4==e&&(t.o=4,Em(14),i=!1),gm(t.j,t.m,null,"[Incomplete Response]");break}if(r==Vm){t.o=4,Em(15),gm(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}gm(t.j,t.m,r,null),Ym(t,r)}Gm(t)&&r!=Um&&r!=Vm&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Em(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),my(e),e.L=!0,Em(11))):(gm(t.j,t.m,n,"[Invalid Chunked Response]"),Km(t),Qm(t))}function zm(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Um:(n=Number(e.substring(n,r)),isNaN(n)?Vm:(r+=1)+n>e.length?Um:(e=e.substr(r,n),t.C=r+n,e))}function Hm(t){t.Y=Date.now()+t.P,Zm(t,t.P)}function Zm(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Tm(Gf(t.eb,t),e)}function $m(t){t.B&&(Pf.clearTimeout(t.B),t.B=null)}function Qm(t){0==t.l.G||t.I||vy(t.l,t)}function Km(t){$m(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,am(t.W),pm(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ym(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||kg(n.i,t)))if(n.I=t.N,!t.J&&kg(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;yy(n),oy(n)}py(n),Em(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tm(Gf(n.ab,n),6e3));if(1>=Ag(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else by(n,11)}else if((t.J||n.g==t)&&yy(n),!Jf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(tp(c,"spdy")||tp(c,"quic")||tp(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Og(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,ug(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Sy(r,r.H?r.la:null,r.W),f.J){Ng(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&($m(p),Hm(p)),r.g=f}else fy(r);0<n.l.length&&ly(n)}else"stop"!=s[0]&&"close"!=s[0]||by(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?by(n,7):sy(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}wm(4)}catch(s){}}function Jm(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Lf(t)||"string"==typeof t)Qf(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Lf(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Lf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Wm(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Wm)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];tg(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)tg(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function tg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Nf=Fm.prototype).setTimeout=function(t){this.P=t},Nf.gb=function(t){t=t.target;var e=this.L;e&&3==ty(t)?e.l():this.Ia(t)},Nf.Ia=function(t){try{if(t==this.g)t:{var e=ty(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||pp||this.g&&(this.h.h||this.g.ga()||ey(this.g)))){this.I||4!=e||7==n||wm(8==n||0>=r?3:2),$m(this);var i=this.g.ba();this.N=i;e:if(Gm(this)){var s=ey(this.g);t="";var o=s.length,a=4==ty(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Km(this),Qm(this);var u="";break e}this.h.i=new Pf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jf(l)){var h=l;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Em(12),Km(this),Qm(this);break t}gm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ym(this,i)}this.U?(Bm(this,e,u),pp&&this.i&&3==e&&(fm(this.V,this.W,"tick",this.fb),this.W.start())):(gm(this.j,this.m,u,null),Ym(this,u)),4==e&&Km(this),this.i&&!this.I&&(4==e?vy(this.l,this):(this.i=!1,Hm(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Em(12)):(this.o=0,Em(13)),Km(this),Qm(this)}}}catch(e){}},Nf.fb=function(){if(this.g){var t=ty(this.g),e=this.g.ga();this.C<e.length&&($m(this),Bm(this,t,e),this.i&&4!=t&&Hm(this))}},Nf.cancel=function(){this.I=!0,Km(this)},Nf.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wm(3),Em(17)),Km(this),this.o=2,Qm(this)):Zm(this,this.Y-t)},(Nf=Wm.prototype).R=function(){Xm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Nf.T=function(){return Xm(this),this.g.concat()},Nf.get=function(t,e){return tg(this.h,t)?this.h[t]:e},Nf.set=function(t,e){tg(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Nf.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var eg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ng(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ng){this.g=void 0!==e?e:t.g,ig(this,t.j),this.s=t.s,sg(this,t.i),og(this,t.m),this.l=t.l,e=t.h;var n=new vg;n.i=e.i,e.g&&(n.g=new Wm(e.g),n.h=e.h),ag(this,n),this.o=t.o}else t&&(n=String(t).match(eg))?(this.g=!!e,ig(this,n[1]||"",!0),this.s=cg(n[2]||""),sg(this,n[3]||"",!0),og(this,n[4]),this.l=cg(n[5]||"",!0),ag(this,n[6]||"",!0),this.o=cg(n[7]||"")):(this.g=!!e,this.h=new vg(null,this.g))}function rg(t){return new ng(t)}function ig(t,e,n){t.j=n?cg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sg(t,e,n){t.i=n?cg(e,!0):e}function og(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ag(t,e,n){e instanceof vg?(t.h=e,function(t,e){e&&!t.j&&(_g(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(bg(this,e),Sg(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=hg(e,gg)),t.h=new vg(e,t.g))}function ug(t,e,n){t.h.set(e,n)}function lg(t){return ug(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ng.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hg(e,fg,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hg(e,fg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(hg(n,"/"==n.charAt(0)?mg:pg,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hg(n,yg)),t.join("")};var fg=/[#\/\?@]/g,pg=/[#\?:]/g,mg=/[#\?]/g,gg=/[#\?@]/g,yg=/#/g;function vg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _g(t){t.g||(t.g=new Wm,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bg(t,e){_g(t),e=Eg(t,e),tg(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,tg((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Xm(t)))}function wg(t,e){return _g(t),e=Eg(t,e),tg(t.g.h,e)}function Sg(t,e,n){bg(t,e),0<n.length&&(t.i=null,t.g.set(Eg(t,e),Yf(n)),t.h+=n.length)}function Eg(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Nf=vg.prototype).add=function(t,e){_g(this),this.i=null,t=Eg(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Nf.forEach=function(t,e){_g(this),this.g.forEach(function(n,r){Qf(n,function(n){t.call(e,n,r,this)},this)},this)},Nf.T=function(){_g(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Nf.R=function(t){_g(this);var e=[];if("string"==typeof t)wg(this,t)&&(e=Kf(e,this.g.get(Eg(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Kf(e,t[n])}return e},Nf.set=function(t,e){return _g(this),this.i=null,wg(this,t=Eg(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Nf.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Nf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Cg=function(t,e){this.h=t,this.g=e};function Tg(t){this.l=t||xg,t=Pf.PerformanceNavigationTiming?0<(t=Pf.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Pf.g&&Pf.g.Ea&&Pf.g.Ea()&&Pf.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xg=10;function Ig(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ag(t){return t.h?1:t.g?t.g.size:0}function kg(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Og(t,e){t.g?t.g.add(e):t.h=e}function Ng(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Rg(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Of(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Yf(t.i)}function Dg(){}function Pg(){this.g=new Dg}function Fg(t,e,n){var r=n||"";try{Jm(t,function(t,n){var i=t;Mf(t)&&(i=Kp(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(GI){throw e.push(r+"type="+encodeURIComponent("_badmap")),GI}}function Lg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Mg(t){this.l=t.$b||null,this.j=t.ib||!1}function Vg(t,e){Zp.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tg.prototype.cancel=function(){var t,e;if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Of(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Dg.prototype.stringify=function(t){return Pf.JSON.stringify(t,void 0)},Dg.prototype.parse=function(t){return Pf.JSON.parse(t,void 0)},zf(Mg,Am),Mg.prototype.g=function(){return new Vg(this.l,this.j)},Mg.prototype.i=function(t){return function(){return t}}({}),zf(Vg,Zp);var Ug=0;function jg(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function qg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gg(t)}function Gg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Nf=Vg.prototype).open=function(t,e){if(this.readyState!=Ug)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gg(this)},Nf.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pf).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Nf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qg(this)),this.readyState=Ug},Nf.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gg(this)),this.g&&(this.readyState=3,Gg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pf.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jg(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Nf.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qg(this):Gg(this),3==this.readyState&&jg(this)}},Nf.Ua=function(t){this.g&&(this.response=this.responseText=t,qg(this))},Nf.Ta=function(t){this.g&&(this.response=t,qg(this))},Nf.ha=function(){this.g&&qg(this)},Nf.setRequestHeader=function(t,e){this.v.append(t,e)},Nf.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Nf.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Bg=Pf.JSON.parse;function zg(t){Zp.call(this),this.headers=new Wm,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hg,this.K=this.L=!1}zf(zg,Zp);var Hg="",Zg=/^https?$/i,$g=["POST","PUT"];function Qg(t){return"content-type"==t.toLowerCase()}function Kg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yg(t),Wg(t)}function Yg(t){t.D||(t.D=!0,$p(t,"complete"),$p(t,"error"))}function Jg(t){if(t.h&&void 0!==Df&&(!t.C[1]||4!=ty(t)||2!=t.ba()))if(t.v&&4==ty(t))um(t.Fa,0,t);else if($p(t,"readystatechange"),4==ty(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(eg)[1]||null;if(!s&&Pf.self&&Pf.self.location){var o=Pf.self.location.protocol;s=o.substr(0,o.length-1)}i=!Zg.test(s?s.toLowerCase():"")}e=i}if(e)$p(t,"complete"),$p(t,"success");else{t.m=6;try{var a=2<ty(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Yg(t)}}finally{Wg(t)}}}function Wg(t,e){if(t.g){Xg(t);var n=t.g,r=t.C[0]?Ff:null;t.g=null,t.C=null,e||$p(t,"ready");try{n.onreadystatechange=r}catch(GI){}}}function Xg(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pf.clearTimeout(t.A),t.A=null)}function ty(t){return t.g?t.g.readyState:0}function ey(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Hg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ny(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ip(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ug(t,e,n))}function ry(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iy(t){this.za=0,this.l=[],this.h=new mm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ry("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ry("baseRetryDelayMs",5e3,t),this.$a=ry("retryDelaySeedMs",1e4,t),this.Ya=ry("forwardChannelMaxRetries",2,t),this.ra=ry("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Tg(t&&t.concurrentRequestLimit),this.Ca=new Pg,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function sy(t){if(ay(t),3==t.G){var e=t.V++,n=rg(t.F);ug(n,"SID",t.J),ug(n,"RID",e),ug(n,"TYPE","terminate"),hy(t,n),(e=new Fm(t,t.h,e,void 0)).K=2,e.v=lg(rg(n)),n=!1,Pf.navigator&&Pf.navigator.sendBeacon&&(n=Pf.navigator.sendBeacon(e.v.toString(),"")),!n&&Pf.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ey(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hm(e)}wy(t)}function oy(t){t.g&&(my(t),t.g.cancel(),t.g=null)}function ay(t){oy(t),t.u&&(Pf.clearTimeout(t.u),t.u=null),yy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Pf.clearTimeout(t.m),t.m=null)}function uy(t,e){t.l.push(new Cg(t.Za++,e)),3==t.G&&ly(t)}function ly(t){Ig(t.i)||t.m||(t.m=!0,nm(t.Ha,t),t.C=0)}function cy(t,e){var n;n=e?e.m:t.V++;var r=rg(t.F);ug(r,"SID",t.J),ug(r,"RID",n),ug(r,"AID",t.U),hy(t,r),t.o&&t.s&&ny(r,t.o,t.s),n=new Fm(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dy(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Og(t.i,n),jm(n,r,e)}function hy(t,e){t.j&&Jm({},function(t,n){ug(e,n,t)})}function dy(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Gf(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Fg(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function fy(t){t.g||t.u||(t.Y=1,nm(t.Ga,t),t.A=0)}function py(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Tm(Gf(t.Ga,t),_y(t,t.A)),t.A++,0))}function my(t){null!=t.B&&(Pf.clearTimeout(t.B),t.B=null)}function gy(t){t.g=new Fm(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=rg(t.oa);ug(e,"RID","rpc"),ug(e,"SID",t.J),ug(e,"CI",t.N?"0":"1"),ug(e,"AID",t.U),hy(t,e),ug(e,"TYPE","xmlhttp"),t.o&&t.s&&ny(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=lg(rg(e)),n.s=null,n.U=!0,qm(n,t)}function yy(t){null!=t.v&&(Pf.clearTimeout(t.v),t.v=null)}function vy(t,e){var n=null;if(t.g==e){yy(t),my(t),t.g=null;var r=2}else{if(!kg(t.i,e))return;n=e.D,Ng(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;$p(r=_m(),new Cm(r,n,e,i)),ly(t)}else fy(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ag(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Tm(Gf(t.Ha,t,e),_y(t,t.C)),t.C++,0)))}(t,e)||2==r&&py(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:by(t,5);break;case 4:by(t,10);break;case 3:by(t,6);break;default:by(t,2)}}function _y(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function by(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Gf(t.jb,t);n||(n=new ng("//www.google.com/images/cleardot.gif"),Pf.location&&"http"==Pf.location.protocol||ig(n,"https"),lg(n)),function(t,e){var n=new mm;if(Pf.Image){var r=new Image;r.onload=Bf(Lg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bf(Lg,n,r,"TestLoadImage: error",!1,e),r.onabort=Bf(Lg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bf(Lg,n,r,"TestLoadImage: timeout",!1,e),Pf.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Em(2);t.G=0,t.j&&t.j.va(e),wy(t),ay(t)}function wy(t){t.G=0,t.I=-1,t.j&&(0==Rg(t.i).length&&0==t.l.length||(t.i.i.length=0,Yf(t.l),t.l.length=0),t.j.ua())}function Sy(t,e,n){var r=function(t){return t instanceof ng?rg(t):new ng(t,void 0)}(n);if(""!=r.i)e&&sg(r,e+"."+r.i),og(r,r.m);else{var i=Pf.location;r=function(t,e,n,r){var i=new ng(null,void 0);return t&&ig(i,t),e&&sg(i,e),n&&og(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ip(t.aa,function(t,e){ug(r,e,t)}),n=t.sa,(e=t.D)&&n&&ug(r,e,n),ug(r,"VER",t.ma),hy(t,r),r}function Ey(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zg(n&&t.Ba&&!t.qa?new Mg({ib:!0}):t.qa)).L=t.H,e}function Cy(){}function Ty(){if(dp&&!(10<=Number(Sp)))throw Error("Environmental error: no available transport.")}function xy(t,e){Zp.call(this),this.g=new iy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ky(this)}function Iy(t){Rm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ay(){Dm.call(this),this.status=1}function ky(t){this.g=t}(Nf=zg.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Om.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Om),this.g.onreadystatechange=Gf(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Kg(this,s)}t=n||"";var i=new Wm(this.headers);r&&Jm(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Qg,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Pf.FormData&&t instanceof Pf.FormData,!(0<=$f($g,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xg(this),0<this.B&&((this.K=function(t){return dp&&function(){return t=wp,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Xf(String(lp)).split("."),n=Xf("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=ep(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||ep(0==s[2].length,0==o[2].length)||ep(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gf(this.pa,this)):this.A=um(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Kg(this,s)}},Nf.pa=function(){void 0!==Df&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$p(this,"timeout"),this.abort(8))},Nf.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$p(this,"complete"),$p(this,"abort"),Wg(this))},Nf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),zg.Z.M.call(this)},Nf.Fa=function(){this.s||(this.F||this.v||this.l?Jg(this):this.cb())},Nf.cb=function(){Jg(this)},Nf.ba=function(){try{return 2<ty(this)?this.g.status:-1}catch(cp){return-1}},Nf.ga=function(){try{return this.g?this.g.responseText:""}catch(cp){return""}},Nf.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bg(e)}},Nf.Da=function(){return this.m},Nf.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Nf=iy.prototype).ma=8,Nf.G=1,Nf.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Nf.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Fm(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ap(n=sp(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=dy(this,e,r),ug(i=rg(this.F),"RID",t),ug(i,"CVER",22),this.D&&ug(i,"X-HTTP-Session-Id",this.D),hy(this,i),this.o&&n&&ny(i,this.o,n),Og(this.i,e),this.Ra&&ug(i,"TYPE","init"),this.ja?(ug(i,"$req",r),ug(i,"SID","null"),e.$=!0,jm(e,i,null)):jm(e,i,r),this.G=2}}else 3==this.G&&(t?cy(this,t):0==this.l.length||Ig(this.i)||cy(this))},Nf.Ga=function(){if(this.u=null,gy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Tm(Gf(this.bb,this),t)}},Nf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Em(10),oy(this),gy(this))},Nf.ab=function(){null!=this.v&&(this.v=null,oy(this),py(this),Em(19))},Nf.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Em(2)):(this.h.info("Failed to ping google.com"),Em(1))},(Nf=Cy.prototype).xa=function(){},Nf.wa=function(){},Nf.va=function(){},Nf.ua=function(){},Nf.Oa=function(){},Ty.prototype.g=function(t,e){return new xy(t,e)},zf(xy,Zp),xy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),nm(Gf(t.hb,t,e))),Em(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Sy(t,null,t.W),ly(t)},xy.prototype.close=function(){sy(this.g)},xy.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,uy(this.g,e)}else this.v?((e={}).__data__=Kp(t),uy(this.g,e)):uy(this.g,t)},xy.prototype.M=function(){this.g.j=null,delete this.j,sy(this.g),delete this.g,xy.Z.M.call(this)},zf(Iy,Rm),zf(Ay,Dm),zf(ky,Cy),ky.prototype.xa=function(){$p(this.g,"a")},ky.prototype.wa=function(t){$p(this.g,new Iy(t))},ky.prototype.va=function(t){$p(this.g,new Ay(t))},ky.prototype.ua=function(){$p(this.g,"b")},Ty.prototype.createWebChannel=Ty.prototype.g,xy.prototype.send=xy.prototype.u,xy.prototype.open=xy.prototype.m,xy.prototype.close=xy.prototype.close,xm.NO_ERROR=0,xm.TIMEOUT=8,xm.HTTP_ERROR=6,Im.COMPLETE="complete",km.EventType=Nm,Nm.OPEN="a",Nm.CLOSE="b",Nm.ERROR="c",Nm.MESSAGE="d",Zp.prototype.listen=Zp.prototype.N,zg.prototype.listenOnce=zg.prototype.O,zg.prototype.getLastError=zg.prototype.La,zg.prototype.getLastErrorCode=zg.prototype.Da,zg.prototype.getStatus=zg.prototype.ba,zg.prototype.getResponseJson=zg.prototype.Qa,zg.prototype.getResponseText=zg.prototype.ga,zg.prototype.send=zg.prototype.ea;var Oy=xm,Ny=Im,Ry=ym,Dy=Mg,Py=km,Fy=zg,Ly=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ly.o=-1;var My={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,xf.ZT)(e,t),e}(Error),Uy=new Af.Yd("@firebase/firestore");function jy(){return Uy.logLevel}function qy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Af.in.DEBUG){var r=e.map(zy);Uy.debug.apply(Uy,(0,xf.ev)(["Firestore (8.8.1): "+t],r))}}function Gy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Af.in.ERROR){var r=e.map(zy);Uy.error.apply(Uy,(0,xf.ev)(["Firestore (8.8.1): "+t],r))}}function By(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Af.in.WARN){var r=e.map(zy);Uy.warn.apply(Uy,(0,xf.ev)(["Firestore (8.8.1): "+t],r))}}function zy(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(GI){return t}}function Hy(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw Gy(e),new Error(e)}function Zy(t,e){t||Hy()}function $y(t,e){return t}function Qy(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ky=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Qy(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yy(t,e){return t<e?-1:t>e?1:0}function Jy(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Wy(t){return t+"\0"}var Xy=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Vy(My.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Vy(My.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Vy(My.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vy(My.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Yy(this.nanoseconds,t.nanoseconds):Yy(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tv=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Xy(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function ev(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var iv=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Hy(),void 0===n?n=t.length-e:n>t.length-e&&Hy(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Vy(My.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(iv),ov=/^[_a-zA-Z][_a-zA-Z0-9]*$/,av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ov.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Vy(My.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Vy(My.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vy(My.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Vy(My.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(iv),uv=function(){function t(t){this.fields=t,t.sort(av.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Jy(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),lv=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Yy(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();lv.EMPTY_BYTE_STRING=new lv("");var cv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hv(t){if(Zy(!!t),"string"==typeof t){var e=0,n=cv.exec(t);if(Zy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dv(t.seconds),nanos:dv(t.nanos)}}function dv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fv(t){return"string"==typeof t?lv.fromBase64String(t):lv.fromUint8Array(t)}function pv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mv(t){var e=t.mapValue.fields.__previous_value__;return pv(e)?mv(e):e}function gv(t){var e=hv(t.mapValue.fields.__local_write_time__.timestampValue);return new Xy(e.seconds,e.nanos)}function yv(t){return null==t}function vv(t){return 0===t&&1/t==-1/0}function _v(t){return"number"==typeof t&&Number.isInteger(t)&&!vv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bv=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(sv.fromString(e))},t.fromName=function(e){return new t(sv.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===sv.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return sv.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new sv(e.slice()))},t}();function wv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:10:Hy()}function Sv(t,e){var n=wv(t);if(n!==wv(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gv(t).isEqual(gv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hv(t.timestampValue),r=hv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return fv(t.bytesValue).isEqual(fv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return dv(t.geoPointValue.latitude)===dv(e.geoPointValue.latitude)&&dv(t.geoPointValue.longitude)===dv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return dv(t.integerValue)===dv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=dv(t.doubleValue),r=dv(e.doubleValue);return n===r?vv(n)===vv(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jy(t.arrayValue.values||[],e.arrayValue.values||[],Sv);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ev(n)!==ev(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sv(n[i],r[i])))return!1;return!0}(t,e);default:return Hy()}}function Ev(t,e){return void 0!==(t.values||[]).find(function(t){return Sv(t,e)})}function Cv(t,e){var n=wv(t),r=wv(e);if(n!==r)return Yy(n,r);switch(n){case 0:return 0;case 1:return Yy(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=dv(t.integerValue||t.doubleValue),r=dv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Tv(t.timestampValue,e.timestampValue);case 4:return Tv(gv(t),gv(e));case 5:return Yy(t.stringValue,e.stringValue);case 6:return function(t,e){var n=fv(t),r=fv(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Yy(n[i],r[i]);if(0!==s)return s}return Yy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yy(dv(t.latitude),dv(e.latitude));return 0!==n?n:Yy(dv(t.longitude),dv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Cv(n[i],r[i]);if(s)return s}return Yy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Yy(r[o],s[o]);if(0!==a)return a;var u=Cv(n[r[o]],i[s[o]]);if(0!==u)return u}return Yy(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Hy()}}function Tv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yy(t,e);var n=hv(t),r=hv(e),i=Yy(n.seconds,r.seconds);return 0!==i?i:Yy(n.nanos,r.nanos)}function xv(t){return Iv(t)}function Iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=hv(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fv(t.bytesValue).toBase64():"referenceValue"in t?bv.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Iv(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Iv(t.fields[s])}return e+"}"}(t.mapValue):Hy();var e}function Av(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function kv(t){return!!t&&"integerValue"in t}function Ov(t){return!!t&&"arrayValue"in t}function Nv(t){return!!t&&"nullValue"in t}function Rv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dv(t){return!!t&&"mapValue"in t}function Pv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return nv(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Pv(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pv(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Fv=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Dv(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pv(e)},t.prototype.setAll=function(t){var e=this,n=av.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Pv(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Dv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Sv(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Dv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){nv(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Pv(this.value))},t}();function Lv(t){var e=[];return nv(t.fields,function(t,n){var r=new av([t]);if(Dv(n)){var i=Lv(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new uv(e)}var Mv=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,tv.min(),Fv.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Fv.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Fv.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Fv.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Fv.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Vv=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Uv(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Vv(t,e,n,r,i,s,o)}function jv(t){var e=$y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+xv(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),yv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Xv(e.startAt)),e.endAt&&(n+="|ub:",n+=Xv(e.endAt)),e.h=n}return e.h}function qv(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!e_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Sv(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r_(t.startAt,e.startAt)&&r_(t.endAt,e.endAt)}function Gv(t){return bv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,xf.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new zv(t,n,r):"array-contains"===n?new Qv(t,r):"in"===n?new Kv(t,r):"not-in"===n?new Yv(t,r):"array-contains-any"===n?new Jv(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Hv(t,n):new Zv(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Cv(e,this.value)):null!==e&&wv(this.value)===wv(e)&&this.m(Cv(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Hy()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bv.fromName(r.referenceValue),i}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){var e=bv.comparator(t.key,this.key);return this.m(e)},e}(Bv),Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=$v(0,n),r}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bv),Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=$v(0,n),r}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bv);function $v(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return bv.fromName(t.referenceValue)})}var Qv=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ov(e)&&Ev(e.arrayValue,this.value)},e}(Bv),Kv=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ev(this.value.arrayValue,e)},e}(Bv),Yv=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){if(Ev(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ev(this.value.arrayValue,e)},e}(Bv),Jv=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,xf.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ev(e.value.arrayValue,t)})},e}(Bv),Wv=function(t,e){this.position=t,this.before=e};function Xv(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return xv(t)}).join(",")}var t_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function e_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function n_(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?bv.comparator(bv.fromName(o.referenceValue),n.key):Cv(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function r_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Sv(t.position[n],e.position[n]))return!1;return!0}var i_=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function s_(t,e,n,r,i,s,o,a){return new i_(t,e,n,r,i,s,o,a)}function o_(t){return new i_(t)}function a_(t){return!yv(t.limit)&&"F"===t.limitType}function u_(t){return!yv(t.limit)&&"L"===t.limitType}function l_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function c_(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function h_(t){return null!==t.collectionGroup}function d_(t){var e=$y(t);if(null===e.p){e.p=[];var n=c_(e),r=l_(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new t_(n)),e.p.push(new t_(av.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new t_(av.keyField(),u))}}}return e.p}function f_(t){var e=$y(t);if(!e.T)if("F"===e.limitType)e.T=Uv(e.path,e.collectionGroup,d_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=d_(e);r<i.length;r++){var s=i[r];n.push(new t_(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Wv(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wv(e.startAt.position,!e.startAt.before):null;e.T=Uv(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function p_(t,e,n){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function m_(t,e){return qv(f_(t),f_(e))&&t.limitType===e.limitType}function g_(t){return jv(f_(t))+"|lt:"+t.limitType}function y_(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+xv(e.value);var e}).join(", ")+"]"),yv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Xv(t.startAt)),t.endAt&&(e+=", endAt: "+Xv(t.endAt)),"Target("+e+")"}(f_(t))+"; limitType="+t.limitType+")"}function v_(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):bv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!n_(t.startAt,d_(t),e)||t.endAt&&n_(t.endAt,d_(t),e))}(t,e)}function __(t){return function(e,n){for(var r=!1,i=0,s=d_(t);i<s.length;i++){var o=s[i],a=b_(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function b_(t,e,n){var r=t.field.isKeyField()?bv.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Cv(r,i):Hy()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Hy()}}function w_(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(e)?"-0":e}}function S_(t){return{integerValue:""+t}}function E_(t,e){return _v(e)?S_(e):w_(t,e)}var C_=function(){this._=void 0};function T_(t,e,n){return t instanceof A_?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof k_?O_(t,e):t instanceof N_?R_(t,e):function(t,e){var n=I_(t,e),r=P_(n)+P_(t.A);return kv(n)&&kv(t.A)?S_(r):w_(t.R,r)}(t,e)}function x_(t,e,n){return t instanceof k_?O_(t,e):t instanceof N_?R_(t,e):n}function I_(t,e){return t instanceof D_?kv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var A_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e}(C_),k_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,xf.ZT)(e,t),e}(C_);function O_(t,e){for(var n=F_(e),r=function(t){n.some(function(e){return Sv(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var N_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,xf.ZT)(e,t),e}(C_);function R_(t,e){for(var n=F_(e),r=function(t){n=n.filter(function(e){return!Sv(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var D_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,xf.ZT)(e,t),e}(C_);function P_(t){return dv(t.integerValue||t.doubleValue)}function F_(t){return Ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var L_=function(t,e){this.field=t,this.transform=e},M_=function(t,e){this.version=t,this.transformResults=e},V_=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function U_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var j_=function(){};function q_(t,e,n){t instanceof Z_?function(t,e,n){var r=t.value.clone(),i=K_(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof $_?function(t,e,n){if(U_(t.precondition,e)){var r=K_(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Q_(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function G_(t,e,n){t instanceof Z_?function(t,e,n){if(U_(t.precondition,e)){var r=t.value.clone(),i=Y_(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(H_(e),r).setHasLocalMutations()}}(t,e,n):t instanceof $_?function(t,e,n){if(U_(t.precondition,e)){var r=Y_(t.fieldTransforms,n,e),i=e.data;i.setAll(Q_(t)),i.setAll(r),e.convertToFoundDocument(H_(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){U_(t.precondition,e)&&e.convertToNoDocument(tv.min())}(t,e)}function B_(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=I_(s.transform,o||null);null!=a&&(null==n&&(n=Fv.empty()),n.set(s.field,a))}return n||null}function z_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jy(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof k_&&e instanceof k_||t instanceof N_&&e instanceof N_?Jy(t.elements,e.elements,Sv):t instanceof D_&&e instanceof D_?Sv(t.A,e.A):t instanceof A_&&e instanceof A_}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function H_(t){return t.isFoundDocument()?t.version:tv.min()}var Z_=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return(0,xf.ZT)(e,t),e}(j_),$_=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return(0,xf.ZT)(e,t),e}(j_);function Q_(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function K_(t,e,n){var r=new Map;Zy(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,x_(o,a,n[i]))}return r}function Y_(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,T_(a,u,e))}return r}var J_,W_,X_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,xf.ZT)(e,t),e}(j_),tb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,xf.ZT)(e,t),e}(j_),eb=function(t){this.count=t};function nb(t){switch(t){case My.OK:return Hy();case My.CANCELLED:case My.UNKNOWN:case My.DEADLINE_EXCEEDED:case My.RESOURCE_EXHAUSTED:case My.INTERNAL:case My.UNAVAILABLE:case My.UNAUTHENTICATED:return!1;case My.INVALID_ARGUMENT:case My.NOT_FOUND:case My.ALREADY_EXISTS:case My.PERMISSION_DENIED:case My.FAILED_PRECONDITION:case My.ABORTED:case My.OUT_OF_RANGE:case My.UNIMPLEMENTED:case My.DATA_LOSS:return!0;default:return Hy()}}function rb(t){if(void 0===t)return Gy("GRPC error has no .code"),My.UNKNOWN;switch(t){case J_.OK:return My.OK;case J_.CANCELLED:return My.CANCELLED;case J_.UNKNOWN:return My.UNKNOWN;case J_.DEADLINE_EXCEEDED:return My.DEADLINE_EXCEEDED;case J_.RESOURCE_EXHAUSTED:return My.RESOURCE_EXHAUSTED;case J_.INTERNAL:return My.INTERNAL;case J_.UNAVAILABLE:return My.UNAVAILABLE;case J_.UNAUTHENTICATED:return My.UNAUTHENTICATED;case J_.INVALID_ARGUMENT:return My.INVALID_ARGUMENT;case J_.NOT_FOUND:return My.NOT_FOUND;case J_.ALREADY_EXISTS:return My.ALREADY_EXISTS;case J_.PERMISSION_DENIED:return My.PERMISSION_DENIED;case J_.FAILED_PRECONDITION:return My.FAILED_PRECONDITION;case J_.ABORTED:return My.ABORTED;case J_.OUT_OF_RANGE:return My.OUT_OF_RANGE;case J_.UNIMPLEMENTED:return My.UNIMPLEMENTED;case J_.DATA_LOSS:return My.DATA_LOSS;default:return Hy()}}(W_=J_||(J_={}))[W_.OK=0]="OK",W_[W_.CANCELLED=1]="CANCELLED",W_[W_.UNKNOWN=2]="UNKNOWN",W_[W_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W_[W_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W_[W_.NOT_FOUND=5]="NOT_FOUND",W_[W_.ALREADY_EXISTS=6]="ALREADY_EXISTS",W_[W_.PERMISSION_DENIED=7]="PERMISSION_DENIED",W_[W_.UNAUTHENTICATED=16]="UNAUTHENTICATED",W_[W_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W_[W_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W_[W_.ABORTED=10]="ABORTED",W_[W_.OUT_OF_RANGE=11]="OUT_OF_RANGE",W_[W_.UNIMPLEMENTED=12]="UNIMPLEMENTED",W_[W_.INTERNAL=13]="INTERNAL",W_[W_.UNAVAILABLE=14]="UNAVAILABLE",W_[W_.DATA_LOSS=15]="DATA_LOSS";var ib=function(){function t(t,e){this.comparator=t,this.root=e||ob.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ob.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ob.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new sb(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new sb(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new sb(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new sb(this.root,t,this.comparator,!0)},t}(),sb=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ob=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Hy();if(this.right.isRed())throw Hy();var t=this.left.check();if(t!==this.right.check())throw Hy();return t+(this.isRed()?0:1)},t}();ob.EMPTY=null,ob.RED=!0,ob.BLACK=!1,ob.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ob(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ab=function(){function t(t){this.comparator=t,this.data=new ib(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ub(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ub(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ub=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),lb=new ib(bv.comparator);function cb(){return lb}var hb=new ib(bv.comparator);function db(){return hb}var fb=new ib(bv.comparator);function pb(){return fb}var mb=new ab(bv.comparator);function gb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=mb,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var yb=new ab(Yy);function vb(){return yb}var _b=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,bb.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(tv.min(),r,vb(),cb(),gb())},t}(),bb=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(lv.EMPTY_BYTE_STRING,n,gb(),gb(),gb())},t}(),wb=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Sb=function(t,e){this.targetId=t,this.V=e},Eb=function(t,e,n,r){void 0===n&&(n=lv.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cb=function(){function t(){this.S=0,this.D=Ib(),this.C=lv.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=gb(),e=gb(),n=gb();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Hy()}}),new bb(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ib()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Tb=function(){function t(t){this.W=t,this.G=new Map,this.H=cb(),this.J=xb(),this.Y=new ab(Yy)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Hy()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Gv(i))if(0===n){var s=new bv(i.path);this.tt(e,s,Mv.newNoDocument(s,tv.min()))}else Zy(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Gv(s.target)){var o=new bv(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Mv.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=gb();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new _b(t,n,this.Y,this.H,r);return this.H=cb(),this.J=xb(),this.Y=new ab(Yy),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Cb,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ab(Yy),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||qy("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Cb),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function xb(){return new ib(bv.comparator)}function Ib(){return new ib(bv.comparator)}var Ab={asc:"ASCENDING",desc:"DESCENDING"},kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ob=function(t,e){this.databaseId=t,this.I=e};function Nb(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(t,e){return t.I?e.toBase64():e.toUint8Array()}function Db(t,e){return Nb(t,e.toTimestamp())}function Pb(t){return Zy(!!t),tv.fromTimestamp(function(t){var e=hv(t);return new Xy(e.seconds,e.nanos)}(t))}function Fb(t,e){return function(t){return new sv(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Lb(t){var e=sv.fromString(t);return Zy(ow(e)),e}function Mb(t,e){return Fb(t.databaseId,e.path)}function Vb(t,e){var n=Lb(e);if(n.get(1)!==t.databaseId.projectId)throw new Vy(My.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Vy(My.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bv(Gb(n))}function Ub(t,e){return Fb(t.databaseId,e)}function jb(t){var e=Lb(t);return 4===e.length?sv.emptyPath():Gb(e)}function qb(t){return new sv(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gb(t){return Zy(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Bb(t,e,n){return{name:Mb(t,e),fields:n.value.mapValue.fields}}function zb(t,e,n){var r=Vb(t,e.name),i=Pb(e.updateTime),s=new Fv({mapValue:{fields:e.fields}}),o=Mv.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Hb(t,e){var n;if(e instanceof Z_)n={update:Bb(t,e.key,e.value)};else if(e instanceof X_)n={delete:Mb(t,e.key)};else if(e instanceof $_)n={update:Bb(t,e.key,e.data),updateMask:sw(e.fieldMask)};else{if(!(e instanceof tb))return Hy();n={verify:Mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof A_)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof k_)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof N_)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof D_)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Hy()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Db(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Hy()}(t,e.precondition)),n}function Zb(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?V_.updateTime(Pb(t.updateTime)):void 0!==t.exists?V_.exists(t.exists):V_.none()}(e.currentDocument):V_.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Zy("REQUEST_TIME"===e.setToServerValue),n=new A_):"appendMissingElements"in e?n=new k_(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new N_(e.removeAllFromArray.values||[]):"increment"in e?n=new D_(t,e.increment):Hy();var r=av.fromServerFormat(e.fieldPath);return new L_(r,n)}(t,e)}):[];if(e.update){var i=Vb(t,e.update.name),s=new Fv({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new uv((t.fieldPaths||[]).map(function(t){return av.fromServerFormat(t)}))}(e.updateMask);return new $_(i,s,o,n,r)}return new Z_(i,s,n,r)}if(e.delete){var a=Vb(t,e.delete);return new X_(a,n)}if(e.verify){var u=Vb(t,e.verify);return new tb(u,n)}return Hy()}function $b(t,e){return{documents:[Ub(t,e.path)]}}function Qb(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ub(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ub(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Rv(t.value))return{unaryFilter:{field:ew(t.field),op:"IS_NAN"}};if(Nv(t.value))return{unaryFilter:{field:ew(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rv(t.value))return{unaryFilter:{field:ew(t.field),op:"IS_NOT_NAN"}};if(Nv(t.value))return{unaryFilter:{field:ew(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ew(t.field),op:tw(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ew(t.field),direction:Xb(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||yv(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Jb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Jb(e.endAt)),n}function Kb(t){var e=jb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zy(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Yb(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new t_(nw(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return yv(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Wb(n.startAt));var c=null;return n.endAt&&(c=Wb(n.endAt)),s_(e,i,a,o,u,"F",l,c)}function Yb(t){return t?void 0!==t.unaryFilter?[iw(t)]:void 0!==t.fieldFilter?[rw(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Yb(t)}).reduce(function(t,e){return t.concat(e)}):Hy():[]}function Jb(t){return{before:t.before,values:t.position}}function Wb(t){return new Wv(t.values||[],!!t.before)}function Xb(t){return Ab[t]}function tw(t){return kb[t]}function ew(t){return{fieldPath:t.canonicalString()}}function nw(t){return av.fromServerFormat(t.fieldPath)}function rw(t){return Bv.create(nw(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hy()}}(t.fieldFilter.op),t.fieldFilter.value)}function iw(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nw(t.unaryFilter.field);return Bv.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nw(t.unaryFilter.field);return Bv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nw(t.unaryFilter.field);return Bv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nw(t.unaryFilter.field);return Bv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hy()}}function sw(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function ow(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function aw(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=lw(e)),e=uw(t.get(n),e);return lw(e)}function uw(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function lw(t){return t+"\x01\x01"}function cw(t){var e=t.length;if(Zy(e>=2),2===e)return Zy("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),sv.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Hy(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Hy()}s=o+2}return new sv(r)}var hw=function(t,e){this.seconds=t,this.nanoseconds=e},dw=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};dw.store="owner",dw.key="owner";var fw=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fw.store="mutationQueues",fw.keyPath="userId";var pw=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pw.store="mutations",pw.keyPath="batchId",pw.userMutationsIndex="userMutationsIndex",pw.userMutationsKeyPath=["userId","batchId"];var mw=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,aw(e)]},t.key=function(t,e,n){return[t,aw(e),n]},t}();mw.store="documentMutations",mw.PLACEHOLDER=new mw;var gw=function(t,e){this.path=t,this.readTime=e},yw=function(t,e){this.path=t,this.version=e},vw=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};vw.store="remoteDocuments",vw.readTimeIndex="readTimeIndex",vw.readTimeIndexPath="readTime",vw.collectionReadTimeIndex="collectionReadTimeIndex",vw.collectionReadTimeIndexPath=["parentPath","readTime"];var _w=function(t){this.byteSize=t};_w.store="remoteDocumentGlobal",_w.key="remoteDocumentGlobalKey";var bw=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};bw.store="targets",bw.keyPath="targetId",bw.queryTargetsIndexName="queryTargetsIndex",bw.queryTargetsKeyPath=["canonicalId","targetId"];var ww=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ww.store="targetDocuments",ww.keyPath=["targetId","path"],ww.documentTargetsIndex="documentTargetsIndex",ww.documentTargetsKeyPath=["path","targetId"];var Sw=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sw.key="targetGlobalKey",Sw.store="targetGlobal";var Ew=function(t,e){this.collectionId=t,this.parent=e};Ew.store="collectionParents",Ew.keyPath=["collectionId","parent"];var Cw=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Cw.store="clientMetadata",Cw.keyPath="clientId";var Tw=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tw.store="bundles",Tw.keyPath="bundleId";var xw=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};xw.store="namedQueries",xw.keyPath="name";var Iw=(0,xf.ev)((0,xf.ev)([],(0,xf.ev)((0,xf.ev)([],(0,xf.ev)((0,xf.ev)([],(0,xf.ev)((0,xf.ev)([],[fw.store,pw.store,mw.store,vw.store,bw.store,dw.store,Sw.store,ww.store]),[Cw.store])),[_w.store])),[Ew.store])),[Tw.store,xw.store]),Aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kw=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ow=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Nw=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Hy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Rw=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ow,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Fw(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=jw(e.target.error);n.ft.reject(new Fw(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Fw(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(qy("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Mw(e)},t}(),Dw=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,If.z$)())&&Gy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return qy("SimpleDb","Removing database:",t),Vw(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,If.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n=this;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(qy("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Fw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Vy(My.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Fw(t,n))},i.onupgradeneeded=function(t){qy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){qy("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s,o,a,u;return(0,xf.Jh)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,l,c;return(0,xf.Jh)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Rw.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Nw.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return qy("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",c="FirebaseError"!==l.name&&s<3),a.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Pw=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Vw(this.Pt.delete())},t}(),Fw=function(t){function e(e,n){var r=this;return(r=t.call(this,My.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,xf.ZT)(e,t),e}(Vy);function Lw(t){return"IndexedDbTransactionError"===t.name}var Mw=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(qy("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(qy("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Vw(n)},t.prototype.add=function(t){return qy("SimpleDb","ADD",this.store.name,t,t),Vw(this.store.add(t))},t.prototype.get=function(t){var e=this;return Vw(this.store.get(t)).next(function(n){return void 0===n&&(n=null),qy("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return qy("SimpleDb","DELETE",this.store.name,t),Vw(this.store.delete(t))},t.prototype.count=function(){return qy("SimpleDb","COUNT",this.store.name),Vw(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){qy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Nw(function(n,r){e.onerror=function(t){var e=jw(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Nw(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Pw(i),o=e(i.primaryKey,i.value,s);if(o instanceof Nw){var a=o.catch(function(t){return s.done(),Nw.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Nw.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Vw(t){return new Nw(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jw(t.target.error);n(e)}})}var Uw=!1;function jw(t){var e=Dw._t((0,If.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Vy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Uw||(Uw=!0,setTimeout(function(){throw r},0)),r}}return t}var qw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,xf.ZT)(e,t),e}(kw);function Gw(t,e){var n=$y(t);return Dw.It(n.Mt,e)}var Bw=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&q_(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&G_(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&G_(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tv.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gb())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jy(this.mutations,t.mutations,function(t,e){return z_(t,e)})&&Jy(this.baseMutations,t.baseMutations,function(t,e){return z_(t,e)})},t}(),zw=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Zy(e.mutations.length===r.length);for(var i=pb(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Hw=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=tv.min()),void 0===s&&(s=tv.min()),void 0===o&&(o=lv.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Zw=function(t){this.Lt=t};function $w(t,e){if(e.document)return zb(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bv.fromSegments(e.noDocument.path),r=Ww(e.noDocument.readTime),i=Mv.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=bv.fromSegments(e.unknownDocument.path);return r=Ww(e.unknownDocument.version),Mv.newUnknownDocument(s,r)}return Hy()}function Qw(t,e,n){var r=Kw(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Mb(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Nb(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new vw(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Jw(e.version);return o=e.hasCommittedMutations,new vw(null,new gw(a,u),null,o,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=Jw(e.version);return new vw(new yw(l,c),null,null,!0,r,i)}return Hy()}function Kw(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Yw(t){var e=new Xy(t[0],t[1]);return tv.fromTimestamp(e)}function Jw(t){var e=t.toTimestamp();return new hw(e.seconds,e.nanoseconds)}function Ww(t){var e=new Xy(t.seconds,t.nanoseconds);return tv.fromTimestamp(e)}function Xw(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Zb(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Zb(t.Lt,e)}),s=Xy.fromMillis(e.localWriteTimeMs);return new Bw(e.batchId,s,n,i)}function tS(t){var e,n,r=Ww(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ww(t.lastLimboFreeSnapshotVersion):tv.min();return void 0!==t.query.documents?(Zy(1===(n=t.query).documents.length),e=f_(o_(jb(n.documents[0])))):e=function(t){return f_(Kb(t))}(t.query),new Hw(e,t.targetId,0,t.lastListenSequenceNumber,r,i,lv.fromBase64String(t.resumeToken))}function eS(t,e){var n,r=Jw(e.snapshotVersion),i=Jw(e.lastLimboFreeSnapshotVersion);n=Gv(e.target)?$b(t.Lt,e.target):Qb(t.Lt,e.target);var s=e.resumeToken.toBase64();return new bw(e.targetId,jv(e.target),r,s,e.sequenceNumber,i,n)}function nS(t){var e=Kb({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?p_(e,e.limit,"L"):e}var rS=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return iS(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ww(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return iS(t).put({bundleId:(n=e).id,createTime:Jw(Pb(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return sS(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:nS(e.bundledQuery),readTime:Ww(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return sS(t).put(function(t){return{name:t.name,readTime:Jw(Pb(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function iS(t){return Gw(t,Tw.store)}function sS(t){return Gw(t,xw.store)}var oS=function(){function t(){this.Bt=new aS}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Nw.resolve()},t.prototype.getCollectionParents=function(t,e){return Nw.resolve(this.Bt.getEntries(e))},t}(),aS=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ab(sv.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ab(sv.comparator)).toArray()},t}(),uS=function(){function t(){this.qt=new aS}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:aw(i)};return lS(t).put(s)}return Nw.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wy(e),""],!1,!0);return lS(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(cw(s.parent))}return n})},t}();function lS(t){return Gw(t,Ew.store)}var cS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function dS(t,e,n){var r=t.store(pw.store),i=t.store(mw.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Zy(1===a)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=mw.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return Nw.waitFor(s).next(function(){return l})}function fS(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Hy();e=t.noDocument}return JSON.stringify(e).length}hS.DEFAULT_COLLECTION_PERCENTILE=10,hS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hS.DEFAULT=new hS(41943040,hS.DEFAULT_COLLECTION_PERCENTILE,hS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hS.DISABLED=new hS(-1,0,0);var pS=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Zy(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gS(t).$t({index:pw.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=yS(t),o=gS(t);return o.add({}).next(function(a){Zy("number"==typeof a);for(var u=new Bw(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return Hb(t.Lt,e)}),i=n.mutations.map(function(e){return Hb(t.Lt,e)});return new pw(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new ab(function(t,e){return Yy(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=mw.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),c.push(o.put(l)),c.push(s.put(m,mw.PLACEHOLDER))}return h.forEach(function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Nw.waitFor(c).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gS(t).get(e).next(function(t){return t?(Zy(t.userId===n.userId),Xw(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Nw.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return gS(t).$t({index:pw.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Zy(e.batchId>=r),s=Xw(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gS(t).$t({index:pw.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gS(t).Nt(pw.userMutationsIndex,n).next(function(t){return t.map(function(t){return Xw(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=mw.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return yS(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],l=cw(r[1]);if(a===n.userId&&e.path.isEqual(l))return gS(t).get(u).next(function(t){if(!t)throw Hy();Zy(t.userId===n.userId),s.push(Xw(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ab(Yy),i=[];return e.forEach(function(e){var s=mw.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=yS(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=cw(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Nw.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=mw.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ab(Yy);return yS(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],l=cw(t[1]);o===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gS(t).get(e).next(function(t){if(null===t)throw Hy();Zy(t.userId===n.userId),r.push(Xw(n.R,t))}))}),Nw.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return dS(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Nw.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Nw.resolve();var r=IDBKeyRange.lowerBound(mw.prefixForUser(e.userId)),i=[];return yS(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=cw(t[1]);i.push(s)}else r.done()}).next(function(){Zy(0===i.length)})})},t.prototype.containsKey=function(t,e){return mS(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return vS(t).get(this.userId).next(function(t){return t||new fw(e.userId,-1,"")})},t}();function mS(t,e,n){var r=mw.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return yS(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function gS(t){return Gw(t,pw.store)}function yS(t){return Gw(t,mw.store)}function vS(t){return Gw(t,fw.store)}var _S=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bS=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new _S(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return tv.fromTimestamp(new Xy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return wS(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Zy(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return wS(t).$t(function(o,a){var u=tS(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Nw.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return wS(t).$t(function(t,n){var r=tS(n);e(r)})},t.prototype.Xt=function(t){return SS(t).get(Sw.key).next(function(t){return Zy(null!==t),t})},t.prototype.Zt=function(t,e){return SS(t).put(Sw.key,e)},t.prototype.te=function(t,e){return wS(t).put(eS(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=jv(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wS(t).$t({range:r,index:bw.queryTargetsIndexName},function(t,n,r){var s=tS(n);qv(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=ES(t);return e.forEach(function(e){var o=aw(e.path);i.push(s.put(new ww(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Nw.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ES(t);return Nw.forEach(e,function(e){var s=aw(e.path);return Nw.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ES(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ES(t),i=gb();return r.$t({range:n,kt:!0},function(t,e,n){var r=cw(t[1]),s=new bv(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=aw(e.path),r=IDBKeyRange.bound([n],[Wy(n)],!1,!0),i=0;return ES(t).$t({index:ww.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return wS(t).get(e).next(function(t){return t?tS(t):null})},t}();function wS(t){return Gw(t,bw.store)}function SS(t){return Gw(t,Sw.store)}function ES(t){return Gw(t,ww.store)}function CS(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){if(t.code!==My.FAILED_PRECONDITION||t.message!==Aw)throw t;return qy("LocalStore","Unexpectedly lost primary lease"),[2]})})}function TS(t,e){var n=t[1],r=e[1],i=Yy(t[0],e[0]);return 0===i?Yy(n,r):i}var xS=function(){function t(t){this.ne=t,this.buffer=new ab(TS),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();TS(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),IS=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;qy("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,xf.mG)(e,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Lw(e=n.sent())?(qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,CS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),AS=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Nw.resolve(Ly.o);var r=new xS(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; disabled"),Nw.resolve(cS)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(qy("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cS):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,l=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),jy()<=Af.in.DEBUG&&qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-c)+"ms"),Nw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),kS=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new AS(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return OS(t,n)},t.prototype.removeReference=function(t,e,n){return OS(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return OS(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return vS(t).Ot(function(r){return mS(t,r,e).next(function(t){return t&&(n=!0),Nw.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),ES(t).delete([0,aw(o.path)])})});i.push(u)}}).next(function(){return Nw.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return OS(t,e)},t.prototype.we=function(t,e){var n,r=ES(t),i=Ly.o;return r.$t({index:ww.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ly.o&&e(new bv(cw(n)),i),i=o,n=s):i=Ly.o}).next(function(){i!==Ly.o&&e(new bv(cw(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function OS(t,e){return ES(t).put(function(t,e){return new ww(0,aw(t.path),e)}(e,t.currentSequenceNumber))}var NS=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){nv(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return rv(this.inner)},t}(),RS=function(){function t(){this.changes=new NS(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:tv.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Mv.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Nw.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),DS=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return LS(t).put(MS(e),n)},t.prototype.removeEntry=function(t,e){var n=LS(t),r=MS(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return LS(t).get(MS(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return LS(t).get(MS(e)).next(function(t){return{document:n.ye(e,t),size:fS(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=cb();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=cb(),i=new ib(bv.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,fS(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Nw.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return LS(t).$t({range:r},function(t,e,r){for(var o=bv.fromSegments(t);s&&bv.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=cb(),s=e.path.length+1,o={};if(n.isEqual(tv.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),l=Kw(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=vw.collectionReadTimeIndex}return LS(t).$t(o,function(t,n,o){if(t.length===s){var a=$w(r.R,n);e.path.isPrefixOf(a.key.path)?v_(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new PS(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return FS(t).get(_w.key).next(function(t){return Zy(!!t),t})},t.prototype.me=function(t,e){return FS(t).put(_w.key,e)},t.prototype.ye=function(t,e){if(e){var n=$w(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(tv.min()))return n}return Mv.newInvalidDocument(t)},t}(),PS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new NS(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,xf.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ab(function(t,e){return Yy(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Qw(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var l=fS(u);r+=l-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var c=Qw(e.Ie.R,Mv.newNoDocument(s,tv.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,c))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Nw.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(RS);function FS(t){return Gw(t,_w.store)}function LS(t){return Gw(t,vw.store)}function MS(t){return t.path.toArray()}var VS=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Zy(n<r&&n>=0&&r<=11);var s=new Rw("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(dw.store)}(t),function(t){t.createObjectStore(fw.store,{keyPath:fw.keyPath}),t.createObjectStore(pw.store,{keyPath:pw.keyPath,autoIncrement:!0}).createIndex(pw.userMutationsIndex,pw.userMutationsKeyPath,{unique:!0}),t.createObjectStore(mw.store)}(t),US(t),function(t){t.createObjectStore(vw.store)}(t));var o=Nw.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ww.store),t.deleteObjectStore(bw.store),t.deleteObjectStore(Sw.store)}(t),US(t)),o=o.next(function(){return function(t){var e=t.store(Sw.store),n=new Sw(0,0,tv.min().toTimestamp(),0);return e.put(Sw.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(pw.store).Nt().next(function(n){t.deleteObjectStore(pw.store),t.createObjectStore(pw.store,{keyPath:pw.keyPath,autoIncrement:!0}).createIndex(pw.userMutationsIndex,pw.userMutationsKeyPath,{unique:!0});var r=e.store(pw.store),i=n.map(function(t){return r.put(t)});return Nw.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Cw.store,{keyPath:Cw.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(_w.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(vw.store);e.createIndex(vw.readTimeIndex,vw.readTimeIndexPath,{unique:!1}),e.createIndex(vw.collectionReadTimeIndex,vw.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Tw.store,{keyPath:Tw.keyPath})}(t),function(t){t.createObjectStore(xw.store,{keyPath:xw.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(vw.store).$t(function(t,n){e+=fS(n)}).next(function(){var n=new _w(e);return t.store(_w.store).put(_w.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(fw.store),r=t.store(pw.store);return n.Nt().next(function(n){return Nw.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(pw.userMutationsIndex,i).next(function(r){return Nw.forEach(r,function(r){Zy(r.userId===n.userId);var i=Xw(e.R,r);return dS(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ww.store),n=t.store(vw.store);return t.store(Sw.store).get(Sw.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new sv(n),o=function(t){return[0,aw(t)]}(s);r.push(e.get(o).next(function(n){return n?Nw.resolve():function(n){return e.put(new ww(0,aw(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Nw.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Ew.store,{keyPath:Ew.keyPath});var n=e.store(Ew.store),r=new aS,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:aw(i)})}};return e.store(vw.store).$t({kt:!0},function(t,e){var n=new sv(t);return i(n.popLast())}).next(function(){return e.store(mw.store).$t({kt:!0},function(t,e){var n=cw(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(bw.store);return n.$t(function(t,r){var i=tS(r),s=eS(e.R,i);return n.put(s)})},t}();function US(t){t.createObjectStore(ww.store,{keyPath:ww.keyPath}).createIndex(ww.documentTargetsIndex,ww.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(bw.store,{keyPath:bw.keyPath}).createIndex(bw.queryTargetsIndexName,bw.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Sw.store)}var jS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qS=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Vy(My.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kS(this,i),this.Le=n+"main",this.R=new Zw(u),this.Be=new Dw(this.Le,11,new VS(this.R)),this.qe=new bS(this.referenceDelegate,this.R),this.Ut=new uS,this.Ue=function(t,e){return new DS(t,e)}(this.R,this.Ut),this.Ke=new rS,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Gy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Vy(My.FAILED_PRECONDITION,jS);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ly(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,xf.mG)(e,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,xf.mG)(e,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,xf.mG)(e,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return BS(e).put(new Cw(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Lw(e))return qy("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return GS(t).get(dw.key).next(function(t){return Nw.resolve(e.tn(t))})},t.prototype.en=function(t){return BS(t).delete(this.clientId)},t.prototype.nn=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Gw(t,Cw.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Nw.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Nw.resolve(!0):GS(t).get(dw.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Vy(My.FAILED_PRECONDITION,jS);return!1}}return!(!e.networkEnabled||!e.inForeground)||BS(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&qy("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t=this;return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dw.store,Cw.store],function(e){var n=new qw(e,Ly.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return BS(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return pS.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return qy("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Iw,function(s){return r=new qw(s,i.Ne?i.Ne.next():Ly.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Gy("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Vy(My.FAILED_PRECONDITION,Aw);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return GS(t).get(dw.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Vy(My.FAILED_PRECONDITION,jS)})},t.prototype.Ze=function(t){var e=new dw(this.clientId,this.allowTabSynchronization,Date.now());return GS(t).put(dw.key,e)},t.yt=function(){return Dw.yt()},t.prototype.Xe=function(t){var e=this,n=GS(t);return n.get(dw.key).next(function(t){return e.tn(t)?(qy("IndexedDbPersistence","Releasing primary lease."),n.delete(dw.key)):Nw.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Gy("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,If.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return qy("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Gy("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Gy("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function GS(t){return Gw(t,dw.store)}function BS(t){return Gw(t,Cw.store)}function zS(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var HS=function(t,e){this.progress=t,this.wn=e},ZS=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return bv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):h_(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new bv(e)).next(function(t){var e=db();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=db();return this.Ut.getCollectionParents(t,i).next(function(o){return Nw.forEach(o,function(o){var a=function(t,e){return new i_(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=r.get(l);null==c&&(c=Mv.newInvalidDocument(l),r=r.insert(l,c)),G_(u,c,s.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}})}).next(function(){return r.forEach(function(t,n){v_(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=gb(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof $_&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))}),l})},t}(),$S=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=gb(),i=gb(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),QS=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(tv.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(a_(e)||u_(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(jy()<=Af.in.DEBUG&&qy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),y_(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ab(__(t));return e.forEach(function(e,r){v_(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return jy()<=Af.in.DEBUG&&qy("QueryEngine","Using full collection scan to execute query:",y_(e)),this.Sn.getDocumentsMatchingQuery(t,e,tv.min())},t}(),KS=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ib(Yy),this.kn=new NS(function(t){return jv(t)},qv),this.$n=tv.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ZS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function YS(t,e,n,r){return new KS(t,e,n,r)}function JS(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,xf.Jh)(this,function(o){switch(o.label){case 0:return n=$y(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new ZS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=gb(),a=0,u=s;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function WS(t,e){var n=$y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Nw.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Zy(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function XS(t){var e=$y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function tE(t,e){var n=$y(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var l=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,l),function(t,e,n){return Zy(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&o.push(n.qe.updateTargetData(t,l))}}});var a=cb();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(eE(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(tv.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Nw.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function eE(t,e,n,r,i){var s=gb();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=cb();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(tv.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):qy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function nE(t,e){var n=$y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function rE(t,e){var n=$y(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Nw.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Hw(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function iE(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:r=$y(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Lw(o=a.sent()))throw o;return qy("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function sE(t,e,n){var r=$y(t),i=tv.min(),s=gb();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=$y(t),i=r.kn.get(n);return void 0!==i?Nw.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,f_(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:tv.min(),n?s:gb())}).next(function(t){return{documents:t,Bn:s}})})}function oE(t,e){var n=$y(t),r=$y(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function aE(t){var e=$y(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=$y(t),i=cb(),s=Kw(n),o=LS(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:vw.readTimeIndex,range:a},function(t,e){var n=$w(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Yw(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function uE(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){return[2,(e=$y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=LS(t),n=tv.min();return e.$t({index:vw.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Yw(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function lE(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s,o,a,u,l,c,h,d,f;return(0,xf.Jh)(this,function(p){switch(p.label){case 0:for(i=$y(t),s=gb(),o=cb(),a=pb(),u=0,l=n;u<l.length;u++)h=e.qn((c=l[u]).metadata.name),c.document&&(s=s.add(h)),o=o.insert(h,e.Un(c)),a=a.insert(h,e.Kn(c.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,rE(i,function(t){return f_(o_(sv.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return eE(t,d,o,tv.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function cE(t,e,n){return void 0===n&&(n=gb()),(0,xf.mG)(this,void 0,void 0,function(){var r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return[4,rE(t,f_(nS(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=$y(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Pb(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(lv.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var hE=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Nw.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Pb(n.createTime)}),Nw.resolve()},t.prototype.getNamedQuery=function(t,e){return Nw.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:nS(t.bundledQuery),readTime:Pb(t.readTime)}}(e)),Nw.resolve()},t}(),dE=function(){function t(){this.Wn=new ab(fE.Gn),this.zn=new ab(fE.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new fE(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new fE(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new bv(new sv([])),r=new fE(n,t),i=new fE(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new bv(new sv([])),n=new fE(e,t),r=new fE(e,t+1),i=gb();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new fE(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),fE=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return bv.comparator(t.key,e.key)||Yy(t.ns,e.ns)},t.Hn=function(t,e){return Yy(t.ns,e.ns)||bv.comparator(t.key,e.key)},t}(),pE=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ab(fE.Gn)}return t.prototype.checkEmpty=function(t){return Nw.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Bw(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new fE(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Nw.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Nw.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Nw.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Nw.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Nw.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new fE(e,0),i=new fE(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Nw.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ab(Yy);return e.forEach(function(t){var e=new fE(t,0),i=new fE(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Nw.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bv.isDocumentKey(i)||(i=i.child(""));var s=new fE(new bv(i),0),o=new ab(Yy);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Nw.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Zy(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Nw.forEach(e.mutations,function(i){var s=new fE(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new fE(e,0),r=this.rs.firstAfterOrEqual(n);return Nw.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Nw.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),mE=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ib(bv.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Nw.resolve(n?n.document.clone():Mv.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=cb();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Mv.newInvalidDocument(t))}),Nw.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=cb(),i=new bv(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,l=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;l.compareTo(n)<=0||v_(e,u)&&(r=r.insert(u.key,u.clone()))}return Nw.resolve(r)},t.prototype.fs=function(t,e){return Nw.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new gE(this)},t.prototype.getSize=function(t){return Nw.resolve(this.size)},t}(),gE=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,xf.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Nw.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(RS),yE=function(){function t(t){this.persistence=t,this.ds=new NS(function(t){return jv(t)},qv),this.lastRemoteSnapshotVersion=tv.min(),this.highestTargetId=0,this.ws=0,this._s=new dE,this.targetCount=0,this.ys=_S.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Nw.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Nw.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Nw.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Nw.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Nw.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new _S(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Nw.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Nw.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Nw.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Nw.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Nw.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Nw.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Nw.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Nw.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Nw.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Nw.resolve(n)},t.prototype.containsKey=function(t,e){return Nw.resolve(this._s.containsKey(e))},t}(),vE=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ly(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new yE(this),this.Ut=new oS,this.Ue=function(t,e){return new mE(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Zw(e),this.Ke=new hE(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new pE(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;qy("MemoryPersistence","Starting transaction:",t);var i=new _E(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Nw.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),_E=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,xf.ZT)(e,t),e}(kw),bE=function(){function t(t){this.persistence=t,this.As=new dE,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Hy()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Nw.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Nw.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Nw.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nw.forEach(this.vs,function(r){var i=bv.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Nw.or([function(){return Nw.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),wE=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function SE(t,e){return"firestore_clients_"+t+"_"+e}function EE(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function CE(t,e){return"firestore_targets_"+t+"_"+e}wE.UNAUTHENTICATED=new wE(null),wE.GOOGLE_CREDENTIALS=new wE("google-credentials-uid"),wE.FIRST_PARTY=new wE("first-party-uid");var TE=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Vy(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Gy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xE=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vy(i.error.code,i.error.message)),s?new t(e,i.state,r):(Gy("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),IE=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=vb(),o=0;i&&o<r.activeTargetIds.length;++o)i=_v(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Gy("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),AE=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Gy("SharedClientState","Failed to parse online state: "+e),null)},t}(),kE=function(){function t(){this.activeTargetIds=vb()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),OE=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ib(Yy),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=SE(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new kE),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,l,c=this;return(0,xf.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(SE(this.persistenceKey,r)))&&(s=IE.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,l=this.$s;u<l.length;u++)this.Fs(l[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return c.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(CE(this.persistenceKey,t));if(n){var r=xE.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(CE(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return qy("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){qy("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){qy("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(qy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Gy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,xf.mG)(e,void 0,void 0,function(){var t,e,r,i,s,o;return(0,xf.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Ly.o;if(null!=t)try{var n=JSON.parse(t);Zy("number"==typeof n),e=n}catch(t){Gy("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ly.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new TE(this.currentUser,t,e,n),i=EE(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=EE(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=CE(this.persistenceKey,t),i=new xE(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return IE.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return TE.Vs(new wE(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return xE.Vs(r,e)},t.prototype.js=function(t){return AE.Vs(t)},t.prototype.ii=function(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(qy("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=vb();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),NE=function(){function t(){this.li=new kE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new kE,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),RE=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),DE=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),PE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},FE=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),LE=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,xf.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Fy;o.listenOnce(Ny.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Oy.NO_ERROR:var e=o.getResponseJson();qy("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Oy.TIMEOUT:qy("Connection",'RPC "'+t+'" timed out'),s(new Vy(My.DEADLINE_EXCEEDED,"Request time out"));break;case Oy.HTTP_ERROR:var n=o.getStatus();if(qy("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(My).indexOf(e)>=0?e:My.UNKNOWN}(r.status);s(new Vy(a,r.message))}else s(new Vy(My.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Vy(My.UNAVAILABLE,"Connection failed."));break;default:Hy()}}finally{qy("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ty,i=_m(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Dy({})),this.Fi(s.initMessageHeaders,e),(0,If.uI)()||(0,If.b$)()||(0,If.d)()||(0,If.w1)()||(0,If.Mn)()||(0,If.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");qy("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,l=!1,c=new FE({Ei:function(t){l?qy("Connection","Not sending because WebChannel is closed:",t):(u||(qy("Connection","Opening WebChannel transport."),a.open(),u=!0),qy("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Py.EventType.OPEN,function(){l||qy("Connection","WebChannel transport opened.")}),h(a,Py.EventType.CLOSE,function(){l||(l=!0,qy("Connection","WebChannel transport closed"),c.Vi())}),h(a,Py.EventType.ERROR,function(t){l||(l=!0,By("Connection","WebChannel transport errored:",t),c.Vi(new Vy(My.UNAVAILABLE,"The operation could not be completed")))}),h(a,Py.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Zy(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){qy("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=J_[t];if(void 0!==e)return rb(e)}(i),o=r.message;void 0===s&&(s=My.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,c.Vi(new Vy(s,o)),a.close()}else qy("Connection","WebChannel received:",n),c.Si(n)}}),h(i,Ry.STAT_EVENT,function(t){10===t.stat?qy("Connection","Detected buffering proxy"):11===t.stat&&qy("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);qy("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return qy("RestConnection","Received: ",t),t},function(e){throw By("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+PE[t]},t}());function ME(){return"undefined"!=typeof window?window:null}function VE(){return"undefined"!=typeof document?document:null}function UE(t){return new Ob(t,!0)}var jE=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&qy("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),qE=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jE(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===My.RESOURCE_EXHAUSTED?(Gy(e.toString()),Gy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===My.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Vy(My.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,xf.mG)(t,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return qy("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),GE=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return(0,xf.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Hy()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Zy(void 0===e||"string"==typeof e),lv.fromBase64String(e||"")):(Zy(void 0===e||e instanceof Uint8Array),lv.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?My.UNKNOWN:rb(t.code);return new Vy(e,t.message||"")}(a);n=new Eb(r,i,s,o||null)}else if("documentChange"in e){i=Vb(t,(r=e.documentChange).document.name),s=Pb(r.document.updateTime);var a=new Fv({mapValue:{fields:r.document.fields}}),u=(o=Mv.newFoundDocument(i,s,a),r.targetIds||[]);n=new wb(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Vb(t,(r=e.documentDelete).document),s=r.readTime?Pb(r.readTime):tv.min(),a=Mv.newNoDocument(i,s),n=new wb([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Vb(t,(r=e.documentRemove).document),n=new wb([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Hy();var l=e.filter;i=new eb(r=l.count||0),n=new Sb(s=l.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return tv.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?tv.min():e.readTime?Pb(e.readTime):tv.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=qb(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Gv(r)?{documents:$b(t,r)}:{query:Qb(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Rb(t,e.resumeToken):e.snapshotVersion.compareTo(tv.min())>0&&(n.readTime=Nb(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hy()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=qb(this.R),e.removeTarget=t,this.cr(e)},e}(qE),BE=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return(0,xf.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Zy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Zy(void 0!==e),t.map(function(t){return function(t,e){var n=Pb(t.updateTime?t.updateTime:e);return n.isEqual(tv.min())&&(n=Pb(e)),new M_(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Pb(t.commitTime);return this.listener.Tr(n,e)}return Zy(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=qb(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Hb(e.R,t)})};this.cr(n)},e}(qE),zE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,xf.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Vy(My.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===My.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Vy(My.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===My.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Vy(My.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),HE=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Gy(e),this.Vr=!1):qy("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ZE=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,xf.mG)(s,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return eC(this)?(qy("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return(e=$y(t)).Or.add(4),[4,QE(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,$E(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new HE(n,r)};function $E(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:if(!eC(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function QE(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function KE(t,e){var n=$y(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),tC(n)?XE(n):gC(n).er()&&JE(n,e))}function YE(t,e){var n=$y(t),r=gC(n);n.$r.delete(e),r.er()&&WE(n,e),0===n.$r.size&&(r.er()?r.ir():eC(n)&&n.Br.set("Unknown"))}function JE(t,e){t.qr.U(e.targetId),gC(t).mr(e)}function WE(t,e){t.qr.U(e),gC(t).yr(e)}function XE(t){t.qr=new Tb({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gC(t).start(),t.Br.Sr()}function tC(t){return eC(t)&&!gC(t).tr()&&t.$r.size>0}function eC(t){return 0===$y(t).Or.size}function nC(t){t.qr=void 0}function rC(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){return t.$r.forEach(function(e,n){JE(t,e)}),[2]})})}function iC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(n){return nC(t),tC(t)?(t.Br.Nr(e),XE(t)):t.Br.set("Unknown"),[2]})})}function sC(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s;return(0,xf.Jh)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Eb&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,xf.Jh)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),qy("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,oC(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wb?t.qr.X(e):e instanceof Sb?t.qr.rt(e):t.qr.et(e),n.isEqual(tv.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,XS(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(lv.EMPTY_BYTE_STRING,n.snapshotVersion)),WE(t,e);var r=new Hw(n.target,e,1,n.sequenceNumber);JE(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return qy("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,oC(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function oC(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r=this;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:if(!Lw(e))throw e;return t.Or.add(1),[4,QE(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return XS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,xf.mG)(r,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return qy("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,$E(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function aC(t,e){return e().catch(function(n){return oC(t,n,e)})}function uC(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n,r,i,s;return(0,xf.Jh)(this,function(o){switch(o.label){case 0:e=$y(t),n=yC(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return eC(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,nE(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=yC(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,oC(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return lC(e)&&cC(e),[2]}})})}function lC(t){return eC(t)&&!yC(t).tr()&&t.kr.length>0}function cC(t){yC(t).start()}function hC(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){return yC(t).Ar(),[2]})})}function dC(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n,r;return(0,xf.Jh)(this,function(i){for(e=yC(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function fC(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=zw.from(r,e,n),[4,aC(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,uC(t)];case 2:return s.sent(),[2]}})})}function pC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e&&yC(t).pr?[4,function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return nb(r=e.code)&&r!==My.ABORTED?(n=t.kr.shift(),yC(t).sr(),[4,aC(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,uC(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lC(t)&&cC(t),[2]}})})}function mC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return n=$y(t),e?(n.Or.delete(2),[4,$E(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,QE(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gC(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=$y(t);return r.br(),new GE(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rC.bind(null,t),Ri:iC.bind(null,t),_r:sC.bind(null,t)}),t.Mr.push(function(n){return(0,xf.mG)(e,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),tC(t)?XE(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),nC(t),e.label=3;case 3:return[2]}})})})),t.Ur}function yC(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=$y(t);return r.br(),new BE(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:hC.bind(null,t),Ri:pC.bind(null,t),Ir:dC.bind(null,t),Tr:fC.bind(null,t)}),t.Mr.push(function(n){return(0,xf.mG)(e,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,uC(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(qy("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var vC=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ow,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vy(My.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function _C(t,e){if(Gy("AsyncQueue",e+": "+t),Lw(t))return new Vy(My.UNAVAILABLE,e+": "+t);throw t}var bC=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bv.comparator(e.key,n.key)}:function(t,e){return bv.comparator(t.key,e.key)},this.keyedMap=db(),this.sortedSet=new ib(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),wC=function(){function t(){this.Qr=new ib(bv.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Hy():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),SC=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,bC.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&m_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),EC=function(){this.Wr=void 0,this.listeners=[]},CC=function(){this.queries=new NS(function(t){return g_(t)},m_),this.onlineState="Unknown",this.Gr=new Set};function TC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,xf.Jh)(this,function(l){switch(l.label){case 0:if(n=$y(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new EC),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=_C(a,"Initialization of query '"+y_(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&kC(n),[2]}})})}function xC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,xf.Jh)(this,function(a){return n=$y(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function IC(t,e){for(var n=$y(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].Hr(o)&&(r=!0);a.Wr=o}}r&&kC(n)}function AC(t,e,n){var r=$y(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function kC(t){t.Gr.forEach(function(t){t.next()})}var OC=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new SC(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=SC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),NC=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),RC=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Vb(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?zb(this.R,t.document,!1):Mv.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Pb(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new RC(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var l=u[a],c=(e.get(l)||gb()).add(o);e.set(l,c)}}return e},t.prototype.complete=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return[4,lE(this.localStore,new RC(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,cE(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new HS(Object.assign({},this.progress),t))]}})})}}();var DC=function(t){this.key=t},PC=function(t){this.key=t},FC=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=gb(),this.mutatedKeys=gb(),this.lo=__(t),this.fo=new bC(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new wC,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=a_(this.query)&&i.size===this.query.limit?i.last():null,l=u_(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),h=v_(n.query,e)?e:null,d=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),a_(this.query)||u_(this.query))for(;o.size>this.query.limit;){var c=a_(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hy()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new SC(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new wC,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=gb(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new PC(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new DC(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gb();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return SC.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),LC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},MC=function(t){this.key=t,this.bo=!1},VC=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new NS(function(t){return g_(t)},m_),this.Vo=new Map,this.So=new Set,this.Do=new ib(bv.comparator),this.Co=new Map,this.No=new dE,this.xo={},this.Fo=new Map,this.ko=_S.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function UC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:return n=pT(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,rE(n.localStore,f_(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,jC(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&KE(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function jC(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s,o,a,u,l;return(0,xf.Jh)(this,function(c){switch(c.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,sE(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(XC(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,sE(t.localStore,e,!0)];case 1:return i=c.sent(),s=new FC(e,i.Bn),o=s._o(i.documents),a=bb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),XC(t,n,u.To),l=new LC(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function qC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return n=$y(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!m_(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,iE(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),YE(n.remoteStore,r.targetId),JC(n,r.targetId)}).catch(CS)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return JC(n,r.targetId),[4,iE(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function GC(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:r=mT(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=$y(t),i=Xy.now(),s=e.reduce(function(t,e){return t.add(e.key)},gb());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var l=u[a],c=B_(l,n.get(l.key));null!=c&&o.push(new $_(l.key,c,Lv(c.value.mapValue),V_.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ib(Yy)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,nT(r,i.changes)];case 3:return a.sent(),[4,uC(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=_C(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function BC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:n=$y(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tE(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Zy(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Zy(r.bo):t.removedDocuments.size>0&&(Zy(r.bo),r.bo=!1))}),[4,nT(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,CS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function zC(t,e,n){var r=$y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=$y(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&kC(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HC(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u;return(0,xf.Jh)(this,function(l){switch(l.label){case 0:return(r=$y(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new ib(bv.comparator)).insert(s,Mv.newNoDocument(s,tv.min())),a=gb().add(s),u=new _b(tv.min(),new Map,new ab(Yy),o,a),[4,BC(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),eT(r),[3,4];case 2:return[4,iE(r.localStore,e,!1).then(function(){return JC(r,e,n)}).catch(CS)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function ZC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:n=$y(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,WS(n.localStore,e)];case 2:return i=s.sent(),YC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,nT(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,CS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function $C(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:r=$y(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=$y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Zy(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),YC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,nT(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,CS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function QC(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:eC((n=$y(t)).remoteStore)||qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=$y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=_C(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function KC(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function YC(t,e,n){var r=$y(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function JC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||WC(t,e)})}function WC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(YE(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),eT(t))}function XC(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof DC?(t.No.addReference(s.key,e),tT(t,s)):s instanceof PC?(qy("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||WC(t,s.key)):Hy()}}function tT(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(qy("SyncEngine","New document in limbo: "+n),t.So.add(r),eT(t))}function eT(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bv(sv.fromString(e)),r=t.ko.next();t.Co.set(r,new MC(n)),t.Do=t.Do.insert(n,r),KE(t.remoteStore,new Hw(f_(o_(n.path)),r,2,Ly.o))}}function nT(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:return r=$y(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=$S.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l;return(0,xf.Jh)(this,function(c){switch(c.label){case 0:n=$y(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Nw.forEach(e,function(e){return Nw.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Nw.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return c.sent(),[3,4];case 3:if(!Lw(r=c.sent()))throw r;return qy("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),l=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function rT(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return(n=$y(t)).currentUser.isEqual(e)?[3,3]:(qy("SyncEngine","User change. New user:",e.toKey()),[4,JS(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Vy(My.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,nT(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function iT(t,e){var n=$y(t),r=n.Co.get(e);if(r&&r.bo)return gb().add(r.key);var i=gb(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function sT(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return[4,sE((n=$y(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&XC(n,e.targetId,i.To),i)]}})})}function oT(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){return[2,aE((e=$y(t)).localStore).then(function(t){return nT(e,t)})]})})}function aT(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s;return(0,xf.Jh)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=$y(t),r=$y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Nw.resolve(null)})})}((i=$y(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,uC(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(YC(i,e,r||null),KC(i,e),function(t,e){$y($y(t)._n).Gt(e)}(i.localStore,e)):Hy(),o.label=4;case 4:return[4,nT(i,s)];case 5:return o.sent(),[3,7];case 6:qy("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function uT(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,xf.Jh)(this,function(l){switch(l.label){case 0:return pT(n=$y(t)),mT(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,lT(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,mC(n.remoteStore,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)KE(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return JC(n,e),iE(n.localStore,e,!0)}),YE(n.remoteStore,e)}),[4,u]);case 4:return l.sent(),[4,lT(n,a)];case 5:return l.sent(),function(t){var e=$y(t);e.Co.forEach(function(t,n){YE(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ib(bv.comparator)}(n),n.$o=!1,[4,mC(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function lT(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,c,h,d,f,p;return(0,xf.Jh)(this,function(m){switch(m.label){case 0:n=$y(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(l=n.Vo.get(a=o[s]))&&0!==l.length?[4,rE(n.localStore,f_(l[0]))]:[3,7]):[3,13];case 2:u=m.sent(),c=0,h=l,m.label=3;case 3:return c<h.length?(d=n.Po.get(h[c]),[4,sT(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,oE(n.localStore,a)];case 8:return p=m.sent(),[4,rE(n.localStore,p)];case 9:return u=m.sent(),[4,jC(n,cT(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cT(t){return s_(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hT(t){var e=$y(t);return $y($y(e.localStore).persistence).fn()}function dT(t,e,n,r){return(0,xf.mG)(this,void 0,void 0,function(){var i,s,o;return(0,xf.Jh)(this,function(a){switch(a.label){case 0:return(i=$y(t)).$o?(qy("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aE(i.localStore)];case 3:return s=a.sent(),o=_b.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,nT(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,iE(i.localStore,e,!0)];case 6:return a.sent(),JC(i,e,r),[3,8];case 7:Hy(),a.label=8;case 8:return[2]}})})}function fT(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u,l,c,h;return(0,xf.Jh)(this,function(d){switch(d.label){case 0:if(!(r=pT(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(qy("SyncEngine","Adding an already active target "+o),[3,5]):[4,oE(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,rE(r.localStore,a)];case 3:return u=d.sent(),[4,jC(r,cT(a),u.targetId,!1)];case 4:d.sent(),KE(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,iE(r.localStore,t,!1).then(function(){YE(r.remoteStore,t),JC(r,t)}).catch(CS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},c=0,h=n,d.label=7;case 7:return c<h.length?[5,l(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function pT(t){var e=$y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HC.bind(null,e),e.vo._r=IC.bind(null,e.eventManager),e.vo.Mo=AC.bind(null,e.eventManager),e}function mT(t){var e=$y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$C.bind(null,e),e}var gT=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return this.R=UE(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return YS(this.persistence,new QS,t.initialUser,this.R)},t.prototype.qo=function(t){return new vE(bE.bs,this.R)},t.prototype.Bo=function(t){return new NE},t.prototype.terminate=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),yT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,xf.ZT)(e,t),e.prototype.initialize=function(e){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,uE(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,mT(this.Qo.syncEngine)];case 4:return n.sent(),[4,uC(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return YS(this.persistence,new QS,t.initialUser,this.R)},e.prototype.Uo=function(t){return new IS(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=zS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hS.withCacheSize(this.cacheSizeBytes):hS.DEFAULT;return new qS(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ME(),VE(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new NE},e}(gT),vT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,xf.ZT)(e,t),e.prototype.initialize=function(e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r=this;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof OE?(this.sharedClientState.syncEngine={ui:aT.bind(null,n),ai:dT.bind(null,n),hi:fT.bind(null,n),fn:hT.bind(null,n),ci:oT.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,xf.mG)(r,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return[4,uT(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ME();if(!OE.yt(e))throw new Vy(My.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new OE(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(yT),_T=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n=this;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return zC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rT.bind(null,this.syncEngine),[4,mC(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new CC},t.prototype.createDatastore=function(t){var e=UE(t.databaseInfo.databaseId),n=new LE(t.databaseInfo);return function(t,e,n){return new zE(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return zC(o.syncEngine,t,0)},s=DE.yt()?new DE:new RE,new ZE(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new VC(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e=$y(t),qy("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,QE(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),bT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),wT=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ow,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new NC(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n=this;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Vy(My.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a;return(0,xf.Jh)(this,function(u){switch(u.label){case 0:return n=$y(t),r=qb(n.R)+"/documents",i={documents:e.map(function(t){return Mb(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Zy(!!e.found);var n=Vb(t,e.found.name),r=Pb(e.found.updateTime),i=new Fv({mapValue:{fields:e.found.fields}});return Mv.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Zy(!!e.missing),Zy(!!e.readTime);var n=Vb(t,e.missing),r=Pb(e.readTime);return Mv.newNoDocument(n,r)}(t,e):Hy()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Zy(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new X_(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e=this;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=bv.fromPath(n);e.mutations.push(new tb(r,e.precondition(r)))}),[4,function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return n=$y(t),r=qb(n.R)+"/documents",i={writes:e.map(function(t){return Hb(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Hy();e=tv.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Vy(My.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?V_.updateTime(e):V_.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(tv.min()))throw new Vy(My.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return V_.updateTime(e)}return V_.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ST=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new jE(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,xf.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,xf.Jh)(this,function(r){return t=new wT(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!yv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!nb(e)}return!1},t}(),ET=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=wE.UNAUTHENTICATED,this.clientId=Ky.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,xf.mG)(r,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return qy("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Vy(My.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ow;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,xf.mG)(t,void 0,void 0,function(){var t,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_C(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function CT(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),qy("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,xf.mG)(i,void 0,void 0,function(){return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,JS(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function TT(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,xT(t)];case 1:return n=i.sent(),qy("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,xf.mG)(this,void 0,void 0,function(){var n,r;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return(n=$y(t)).asyncQueue.verifyOperationInProgress(),qy("RemoteStore","RemoteStore received new credentials"),r=eC(n),n.Or.add(3),[4,QE(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,$E(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function xT(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(qy("FirestoreClient","Using default OfflineComponentProvider"),[4,CT(t,new gT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function IT(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(qy("FirestoreClient","Using default OnlineComponentProvider"),[4,TT(t,new _T)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function AT(t){return xT(t).then(function(t){return t.persistence})}function kT(t){return xT(t).then(function(t){return t.localStore})}function OT(t){return IT(t).then(function(t){return t.remoteStore})}function NT(t){return IT(t).then(function(t){return t.syncEngine})}function RT(t){return(0,xf.mG)(this,void 0,void 0,function(){var e,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return[4,IT(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=UC.bind(null,e.syncEngine),n.onUnlisten=qC.bind(null,e.syncEngine),n)]}})})}function DT(t,e,n){var r=this;void 0===n&&(n={});var i=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(r,void 0,void 0,function(){var r;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new bT({next:function(s){e.enqueueAndForget(function(){return xC(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Vy(My.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Vy(My.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new OC(o_(n.path),s,{includeMetadataChanges:!0,so:!0});return TC(t,o)},[4,RT(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function PT(t,e,n){var r=this;void 0===n&&(n={});var i=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(r,void 0,void 0,function(){var r;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new bT({next:function(n){e.enqueueAndForget(function(){return xC(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Vy(My.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new OC(n,s,{includeMetadataChanges:!0,so:!0});return TC(t,o)},[4,RT(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var FT=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},LT=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),MT=new Map,VT=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},UT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(wE.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jT=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qT=function(){function t(t){var e=this;this.currentUser=wE.UNAUTHENTICATED,this.oc=new Ow,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){qy("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(qy("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(qy("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zy("string"==typeof n.accessToken),new VT(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,xf.mG)(n,void 0,void 0,function(){return(0,xf.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Zy(null===t||"string"==typeof t),new wE(t)},t}(),GT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=wE.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),BT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new GT(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(wE.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function zT(t,e,n){if(!n)throw new Vy(My.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function HT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Vy(My.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ZT(t,e,n,r){if(!0===e&&!0===r)throw new Vy(My.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $T(t){if(!bv.isDocumentKey(t))throw new Vy(My.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function QT(t){if(bv.isDocumentKey(t))throw new Vy(My.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function KT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Hy()}function YT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Vy(My.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=KT(t);throw new Vy(My.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function JT(t,e){if(e<=0)throw new Vy(My.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var WT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Vy(My.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vy(My.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),XT=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1,t instanceof LT?(this._databaseId=t,this._credentials=new UT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Vy(My.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new LT(t.options.projectId)}(t),this._credentials=new qT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Vy(My.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Vy(My.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new UT;switch(t.type){case"gapi":var e=t.client;return Zy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new BT(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Vy(My.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=MT.get(this))&&(qy("ComponentProvider","Removing Datastore"),MT.delete(this),t.terminate()),Promise.resolve();var t},t}(),tx=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new nx(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ex=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),nx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,o_(r))||this)._path=r,i.type="collection",i}return(0,xf.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new tx(this.firestore,null,new bv(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ex);function rx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,If.m9)(t),zT("collection","path",e),t instanceof XT)return QT(n=sv.fromString.apply(sv,(0,xf.ev)([e],r))),new nx(t,null,n);if(!(t instanceof tx||t instanceof nx))throw new Vy(My.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return QT(n=sv.fromString.apply(sv,(0,xf.ev)([t.path],r)).child(sv.fromString(e))),new nx(t.firestore,null,n)}function ix(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,If.m9)(t),1===arguments.length&&(e=Ky.u()),zT("doc","path",e),t instanceof XT)return $T(n=sv.fromString.apply(sv,(0,xf.ev)([e],r))),new tx(t,null,new bv(n));if(!(t instanceof tx||t instanceof nx))throw new Vy(My.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $T(n=t._path.child(sv.fromString.apply(sv,(0,xf.ev)([e],r)))),new tx(t.firestore,t instanceof nx?t.converter:null,new bv(n))}function sx(t,e){return t=(0,If.m9)(t),e=(0,If.m9)(e),(t instanceof tx||t instanceof nx)&&(e instanceof tx||e instanceof nx)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ox(t,e){return t=(0,If.m9)(t),e=(0,If.m9)(e),t instanceof ex&&e instanceof ex&&t.firestore===e.firestore&&m_(t._query,e._query)&&t.converter===e.converter}var ax=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jE(this,"async_queue_retry"),this.Ic=function(){var e=VE();e&&qy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=VE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=VE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Ow;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t,e=this;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lw(t=n.sent()))throw t;return qy("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Gy("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=vC.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Hy()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,xf.mG)(this,void 0,void 0,function(){var t;return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function ux(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ow,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var lx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ax,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,xf.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||hx(this),this._firestoreClient.terminate()},e}(XT);function cx(t){return t._firestoreClient||hx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hx(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new FT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ET(t._credentials,t._queue,r)}function dx(t,e,n){var r=this,i=new Ow;return t.asyncQueue.enqueue(function(){return(0,xf.mG)(r,void 0,void 0,function(){var r;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,CT(t,n)];case 1:return s.sent(),[4,TT(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===My.FAILED_PRECONDITION||t.code===My.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function fx(t){if(t._initialized||t._terminated)throw new Vy(My.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var px=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Vy(My.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new av(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),mx=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(lv.fromBase64String(e))}catch(e){throw new Vy(My.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(lv.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),gx=function(t){this._methodName=t},yx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Vy(My.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Vy(My.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Yy(this._lat,t._lat)||Yy(this._long,t._long)},t}(),vx=/^__.*__$/,_x=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new $_(t,this.data,this.fieldMask,e,this.fieldTransforms):new Z_(t,this.data,e,this.fieldTransforms)},t}(),bx=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new $_(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function wx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hy()}}var Sx=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return Gx(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(wx(this.Nc)&&vx.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Ex=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||UE(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Sx({Nc:t,methodName:e,qc:n,path:av.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Cx(t){var e=t._freezeSettings(),n=UE(t._databaseId);return new Ex(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tx(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);Vx("Data must be an object, but it was:",o,r);var a,u,l=Lx(r,o);if(s.merge)a=new uv(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Ux(e,d[h],n);if(!o.contains(f))throw new Vy(My.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Bx(c,f)||c.push(f)}a=new uv(c),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new _x(new Fv(l),a,u)}var xx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gx);function Ix(t,e,n){return new Sx({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ax=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new L_(t.path,new A_)},e.prototype.isEqual=function(t){return t instanceof e},e}(gx),kx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,xf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ix(this,t,!0),n=this.Kc.map(function(t){return Fx(t,e)}),r=new k_(n);return new L_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gx),Ox=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,xf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ix(this,t,!0),n=this.Kc.map(function(t){return Fx(t,e)}),r=new N_(n);return new L_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gx),Nx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,xf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new D_(t.R,E_(t.R,this.Qc));return new L_(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gx);function Rx(t,e,n,r){var i=t.Uc(1,e,n);Vx("Data must be an object, but it was:",i,r);var s=[],o=Fv.empty();nv(r,function(t,r){var a=qx(e,t,n);r=(0,If.m9)(r);var u=i.Oc(a);if(r instanceof xx)s.push(a);else{var l=Fx(r,u);null!=l&&(s.push(a),o.set(a,l))}});var a=new uv(s);return new bx(o,a,i.fieldTransforms)}function Dx(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Ux(e,r,n)],u=[i];if(s.length%2!=0)throw new Vy(My.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(Ux(e,s[l])),u.push(s[l+1]);for(var c=[],h=Fv.empty(),d=a.length-1;d>=0;--d)if(!Bx(c,a[d])){var f=a[d],p=u[d];p=(0,If.m9)(p);var m=o.Oc(f);if(p instanceof xx)c.push(f);else{var g=Fx(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new uv(c);return new bx(h,y,o.fieldTransforms)}function Px(t,e,n,r){return void 0===r&&(r=!1),Fx(n,t.Uc(r?4:3,e))}function Fx(t,e){if(Mx(t=(0,If.m9)(t)))return Vx("Unsupported field value:",e,t),Lx(t,e);if(t instanceof gx)return function(t,e){if(!wx(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Fx(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,If.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return E_(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xy.fromDate(t);return{timestampValue:Nb(e.R,n)}}if(t instanceof Xy)return n=new Xy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nb(e.R,n)};if(t instanceof yx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mx)return{bytesValue:Rb(e.R,t._byteString)};if(t instanceof tx){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fb(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+KT(t))}(t,e)}function Lx(t,e){var n={};return rv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nv(t,function(t,r){var i=Fx(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Mx(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xy||t instanceof yx||t instanceof mx||t instanceof tx||t instanceof gx)}function Vx(t,e,n){if(!Mx(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=KT(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Ux(t,e,n){if((e=(0,If.m9)(e))instanceof px)return e._internalPath;if("string"==typeof e)return qx(t,e);throw Gx("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var jx=new RegExp("[~\\*/\\[\\]]");function qx(t,e,n){if(e.search(jx)>=0)throw Gx("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(px.bind.apply(px,(0,xf.ev)([void 0],e.split(".")))))._internalPath}catch(GI){throw Gx("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Gx(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Vy(My.INVALID_ARGUMENT,(a+=". ")+t+u)}function Bx(t,e){return t.some(function(t){return t.isEqual(e)})}var zx=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new tx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Zx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Hx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(zx);function Zx(t,e){return"string"==typeof e?qx(t,e):e instanceof px?e._internalPath:e._delegate._internalPath}var $x=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qx=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return(0,xf.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Kx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Zx("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(zx),Kx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Qx),Yx=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $x(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Kx(n._firestore,n._userDataWriter,r.key,r,new $x(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vy(My.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Kx(t._firestore,t._userDataWriter,e.doc.key,e.doc,new $x(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Kx(t._firestore,t._userDataWriter,e.doc.key,e.doc,new $x(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jx(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Jx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hy()}}function Wx(t,e){return t instanceof Qx&&e instanceof Qx?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Yx&&e instanceof Yx&&t._firestore===e._firestore&&ox(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Xx(t){if(u_(t)&&0===t.explicitOrderBy.length)throw new Vy(My.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tI=function(){};function eI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var nI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,xf.ZT)(e,t),e.prototype._apply=function(t){var e=Cx(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Vy(My.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){lI(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push(uI(r,t,c[l]));a={arrayValue:{values:u}}}else a=uI(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lI(o,s),a=Px(n,"where",o,"in"===s||"not-in"===s);var h=Bv.create(i,s,a);return function(t,e){if(e.g()){var n=c_(t);if(null!==n&&!n.isEqual(e.field))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=l_(t);null!==r&&cI(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Vy(My.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ex(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(tI),rI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,xf.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Vy(My.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Vy(My.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new t_(e,n);return function(t,e){if(null===l_(t)){var n=c_(t);null!==n&&cI(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new ex(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new i_(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(tI),iI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,xf.ZT)(e,t),e.prototype._apply=function(t){return new ex(t.firestore,t.converter,p_(t._query,this.Hc,this.Jc))},e}(tI),sI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,xf.ZT)(e,t),e.prototype._apply=function(t){var e=aI(t,this.type,this.Yc,this.Xc);return new ex(t.firestore,t.converter,function(t,e){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(tI),oI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,xf.ZT)(e,t),e.prototype._apply=function(t){var e=aI(t,this.type,this.Yc,this.Xc);return new ex(t.firestore,t.converter,function(t,e){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(tI);function aI(t,e,n,r){if(n[0]=(0,If.m9)(n[0]),n[0]instanceof zx)return function(t,e,n,r,i){if(!r)throw new Vy(My.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=d_(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Av(e,r.key));else{var l=r.data.field(u.field);if(pv(l))throw new Vy(My.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new Vy(My.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Wv(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Cx(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Vy(My.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.isKeyField()){if("string"!=typeof l)throw new Vy(My.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!h_(t)&&-1!==l.indexOf("/"))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(sv.fromString(l));if(!bv.isDocumentKey(c))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new bv(c);a.push(Av(e,h))}else{var d=Px(n,r,l);a.push(d)}}return new Wv(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function uI(t,e,n){if("string"==typeof(n=(0,If.m9)(n))){if(""===n)throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!h_(e)&&-1!==n.indexOf("/"))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(sv.fromString(n));if(!bv.isDocumentKey(r))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Av(t,new bv(r))}if(n instanceof tx)return Av(t,n._key);throw new Vy(My.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+KT(n)+".")}function lI(t,e){if(!Array.isArray(t)||0===t.length)throw new Vy(My.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Vy(My.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cI(t,e,n){if(!n.isEqual(e))throw new Vy(My.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var hI=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dv(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Hy()}},t.prototype.convertObject=function(t,e){var n=this,r={};return nv(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new yx(dv(t.latitude),dv(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=mv(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(gv(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=hv(t);return new Xy(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=sv.fromString(t);Zy(ow(n));var r=new LT(n.get(1),n.get(3)),i=new bv(n.popFirst(5));return r.isEqual(e)||Gy("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function dI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xf.ZT)(e,t),e.prototype.convertBytes=function(t){return new mx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new tx(this.firestore,null,e)},e}(hI),pI=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Cx(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=mI(t,this._firestore),i=dI(r.converter,e,n),s=Tx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,V_.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=mI(t,this._firestore);return s="string"==typeof(e=(0,If.m9)(e))||e instanceof px?Dx(this._dataReader,"WriteBatch.update",o._key,e,n,r):Rx(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,V_.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=mI(t,this._firestore);return this._mutations=this._mutations.concat(new X_(e._key,V_.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Vy(My.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function mI(t,e){if((t=(0,If.m9)(t)).firestore!==e)throw new Vy(My.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var gI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xf.ZT)(e,t),e.prototype.convertBytes=function(t){return new mx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new tx(this.firestore,null,e)},e}(hI);function yI(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=YT(t,tx);var s=YT(t.firestore,lx),o=Cx(s);return _I(s,[("string"==typeof(e=(0,If.m9)(e))||e instanceof px?Dx(o,"updateDoc",t._key,e,n,r):Rx(o,"updateDoc",t._key,e)).toMutation(t._key,V_.exists(!0))])}function vI(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=(0,If.m9)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ux(i[a])||(o=i[a],a++);var u,l,c,h={includeMetadataChanges:o.includeMetadataChanges};if(ux(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof tx)l=YT(t.firestore,lx),c=o_(t._key.path),u={next:function(e){i[a]&&i[a](bI(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=YT(t,ex);l=YT(f.firestore,lx),c=f._query;var p=new gI(l);u={next:function(t){i[a]&&i[a](new Yx(l,p,f,t))},error:i[a+1],complete:i[a+2]},Xx(t._query)}return function(t,e,n,r){var i=this,s=new bT(r),o=new OC(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(i,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e=TC,[4,RT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(i,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e=xC,[4,RT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(cx(l),c,h,u)}function _I(t,e){return function(t,e){var n=this,r=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var n;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return n=GC,[4,NT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(cx(t),e)}function bI(t,e,n){var r=n.docs.get(e._key),i=new gI(t);return new Qx(t,i,e._key,r,new $x(n.hasPendingWrites,n.fromCache),e.converter)}var wI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,xf.ZT)(e,t),e.prototype.get=function(e){var n=this,r=mI(e,this._firestore),i=new gI(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Qx(n._firestore,i,r._key,t._document,new $x(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Cx(t)}return t.prototype.get=function(t){var e=this,n=mI(t,this._firestore),r=new fI(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Hy();var i=t[0];if(i.isFoundDocument())return new zx(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zx(e._firestore,r,n._key,null,n.converter);throw Hy()})},t.prototype.set=function(t,e,n){var r=mI(t,this._firestore),i=dI(r.converter,e,n),s=Tx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=mI(t,this._firestore);return s="string"==typeof(e=(0,If.m9)(e))||e instanceof px?Dx(this._dataReader,"Transaction.update",o._key,e,n,r):Rx(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=mI(t,this._firestore);return this._transaction.delete(e._key),this},t}());function SI(){if("undefined"==typeof Uint8Array)throw new Vy(My.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function EI(){if("undefined"==typeof atob)throw new Vy(My.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var CI=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return EI(),new t(mx.fromBase64String(e))},t.fromUint8Array=function(e){return SI(),new t(mx.fromUint8Array(e))},t.prototype.toBase64=function(){return EI(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return SI(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),TI=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){fx(t=YT(t,lx));var n=cx(t),r=t._freezeSettings(),i=new _T;return dx(n,i,new yT(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){fx(t=YT(t,lx));var e=cx(t),n=t._freezeSettings(),r=new _T;return dx(e,r,new vT(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Vy(My.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ow;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,xf.mG)(e,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,xf.mG)(this,void 0,void 0,function(){return(0,xf.Jh)(this,function(e){switch(e.label){case 0:return Dw.yt()?[4,Dw.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(zS(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),xI=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof LT||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||By("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=YT(t,XT))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&By("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=(0,If.Sg)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Vy(My.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new jT(new VT(s,new wE(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,xf.mG)(e,void 0,void 0,function(){var e,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return[4,AT(t)];case 1:return e=r.sent(),[4,OT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=$y(t);return e.Or.delete(0),$E(e)}(n))]}})})})}(cx(YT(this._delegate,lx)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,xf.mG)(e,void 0,void 0,function(){var e,n;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return[4,AT(t)];case 1:return e=r.sent(),[4,OT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,xf.mG)(this,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return(e=$y(t)).Or.add(0),[4,QE(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(cx(YT(this._delegate,lx)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ZT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(e,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(r){switch(r.label){case 0:return e=QC,[4,NT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cx(YT(this._delegate,lx)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bT(e);return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){$y(t).Gr.add(e),e.next()},[4,RT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var e;return(0,xf.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){$y(t).Gr.delete(e)},[4,RT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(cx(t=YT(t,lx)),ux(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Vy(My.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jI(this,rx(this._delegate,t))}catch(t){throw RI(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new NI(this,ix(this._delegate,t))}catch(t){throw RI(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new MI(this,function(t,e){if(t=YT(t,XT),zT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vy(My.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ex(t,null,function(t){return new i_(sv.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw RI(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var n;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return IT(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ST(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(cx(t),function(n){return e(new wI(t,n))})}(this._delegate,function(n){return t(new AI(e,n))})},t.prototype.batch=function(){var t=this;return cx(this._delegate),new kI(new pI(this._delegate,function(e){return _I(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Vy(My.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Vy(My.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),II=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,xf.ZT)(e,t),e.prototype.convertBytes=function(t){return new CI(new mx(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return NI.eu(e,this.firestore,null)},e}(hI),AI=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new II(t)}return t.prototype.get=function(t){var e=this,n=qI(t);return this._delegate.get(n).then(function(t){return new FI(e._firestore,new Qx(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=qI(t);return n?(HT("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=qI(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,xf.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=qI(t);return this._delegate.delete(e),this},t}(),kI=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=qI(t);return n?(HT("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=qI(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,xf.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=qI(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),OI=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Kx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new LI(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new II(e),n),i.set(n,s)),s},t}();OI.su=new WeakMap;var NI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new II(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Vy(My.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new tx(n._delegate,r,new bv(e)))},t.eu=function(e,n,r){return new t(n,new tx(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jI(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new jI(this.firestore,rx(this._delegate,t))}catch(t){throw RI(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,If.m9)(t))instanceof tx&&sx(this._delegate,t)},t.prototype.set=function(t,e){e=HT("DocumentReference.set",e);try{return function(t,e,n){t=YT(t,tx);var r=YT(t.firestore,lx),i=dI(t.converter,e,n);return _I(r,[Tx(Cx(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,V_.none())])}(this._delegate,t,e)}catch(t){throw RI(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?yI(this._delegate,t):yI.apply(void 0,(0,xf.ev)([this._delegate,t,e],n))}catch(t){throw RI(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return _I(YT((t=this._delegate).firestore,lx),[new X_(t._key,V_.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=DI(e),i=PI(e,function(e){return new FI(t.firestore,new Qx(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return vI(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=YT(t,tx);var e=YT(t.firestore,lx),n=cx(e),r=new gI(e);return function(t,e){var n=this,r=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var n;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i;return(0,xf.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=$y(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Vy(My.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=_C(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,kT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Qx(e,r,t._key,n,new $x(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=YT(t,tx);var e=YT(t.firestore,lx);return DT(cx(e),t._key,{source:"server"}).then(function(n){return bI(e,t,n)})}(this._delegate):function(t){t=YT(t,tx);var e=YT(t.firestore,lx);return DT(cx(e),t._key).then(function(n){return bI(e,t,n)})}(this._delegate)).then(function(t){return new FI(e.firestore,new Qx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?OI.nu(this.firestore,e):null))},t}();function RI(t,e,n){return t.message=t.message.replace(e,n),t}function DI(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ux(r))return r}return{}}function PI(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ux(t[0])?t[0]:ux(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var FI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new NI(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Wx(this._delegate,t._delegate)},t}(),LI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,xf.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(FI),MI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new II(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,eI(this._delegate,function(t,e,n){var r=e,i=Zx("where",t);return new nI(i,r,n)}(e,n,r)))}catch(e){throw RI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,eI(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Zx("orderBy",t);return new rI(r,n)}(e,n)))}catch(e){throw RI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,eI(this._delegate,function(t){return JT("limit",t),new iI("limit",t,"F")}(e)))}catch(e){throw RI(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,eI(this._delegate,function(t){return JT("limitToLast",t),new iI("limitToLast",t,"L")}(e)))}catch(e){throw RI(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,eI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sI("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw RI(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,eI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sI("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw RI(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,eI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oI("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw RI(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,eI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oI("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw RI(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ox(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=YT(t,ex);var e=YT(t.firestore,lx),n=cx(e),r=new gI(e);return function(t,e){var n=this,r=new Ow;return t.asyncQueue.enqueueAndForget(function(){return(0,xf.mG)(n,void 0,void 0,function(){var n;return(0,xf.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,xf.mG)(this,void 0,void 0,function(){var r,i,s,o,a;return(0,xf.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,sE(t,e,!0)];case 1:return a=u.sent(),r=new FC(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=_C(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,kT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Yx(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=YT(t,ex);var e=YT(t.firestore,lx),n=cx(e),r=new gI(e);return PT(n,t._query,{source:"server"}).then(function(n){return new Yx(e,r,t,n)})}(this._delegate):function(t){t=YT(t,ex);var e=YT(t.firestore,lx),n=cx(e),r=new gI(e);return Xx(t._query),PT(n,t._query).then(function(n){return new Yx(e,r,t,n)})}(this._delegate)).then(function(t){return new UI(e.firestore,new Yx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=DI(e),i=PI(e,function(e){return new UI(t.firestore,new Yx(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return vI(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?OI.nu(this.firestore,e):null))},t}(),VI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new LI(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),UI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new MI(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new LI(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new VI(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new LI(n._firestore,r))})},t.prototype.isEqual=function(t){return Wx(this._delegate,t._delegate)},t}(),jI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,xf.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new NI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new NI(this.firestore,void 0===t?ix(this._delegate):ix(this._delegate,t))}catch(t){throw RI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=YT(t.firestore,lx),r=ix(t),i=dI(t.converter,e);return _I(n,[Tx(Cx(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,V_.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new NI(e.firestore,t)})},e.prototype.isEqual=function(t){return sx(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?OI.nu(this.firestore,t):null))},e}(MI);function qI(t){return YT(t,tx)}var GI,BI=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(px.bind.apply(px,(0,xf.ev)([void 0],t)))}return t.documentId=function(){return new t(av.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,If.m9)(t))instanceof px&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),zI=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ax("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new xx("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kx("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ox("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Nx("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),HI=n(6034),ZI={Firestore:xI,GeoPoint:yx,Timestamp:Xy,Blob:CI,Transaction:AI,WriteBatch:kI,DocumentReference:NI,DocumentSnapshot:FI,Query:MI,QueryDocumentSnapshot:LI,QuerySnapshot:UI,CollectionReference:jI,FieldPath:BI,FieldValue:zI,setLogLevel:function(t){Uy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function $I(t,e){return function(t,e=Fo.z){return new xt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function QI(t,e){return $I(t,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function KI(t,e){return QI(t,e).pipe(kn(void 0),wf(),(0,At.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function YI(t,e,n){return KI(t,n).pipe(On((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return JI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return JI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Go(),(0,At.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function JI(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function WI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new HI.wA("firestore",function(t){return function(t,e){return new xI(t,new lx(t,e),new TI)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ZI)))})(GI=Tf.Z),GI.registerVersion("@firebase/firestore","2.3.10");class XI{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=KI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,At.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(kn(void 0),wf(),Dn(([t,e])=>e.length>0||!t),(0,At.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(On((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=WI(t);return YI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return QI(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Tt.D)(this.query.get(t)).pipe((0,$d.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new tA(this.ref.doc(t),this.afs)}}class tA{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=oA(n,e);return new XI(r,i,this.afs)}snapshotChanges(){return $I(this.ref,this.afs.schedulers.outsideAngular).pipe(kn(void 0),wf(),(0,At.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,At.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Tt.D)(this.ref.get(t)).pipe((0,$d.QV)(this.afs.schedulers.insideAngular))}}class eA{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?KI(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dn(t=>t.length>0),this.afs.keepUnstableUntilFirst):KI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(On((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=WI(t);return YI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return QI(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Tt.D)(this.query.get(t)).pipe((0,$d.QV)(this.afs.schedulers.insideAngular))}}const nA=new r.OlP("angularfire2.enableFirestorePersistence"),rA=new r.OlP("angularfire2.firestore.persistenceSettings"),iA=new r.OlP("angularfire2.firestore.settings"),sA=new r.OlP("angularfire2.firestore.use-emulator");function oA(t,e=(t=>t)){return{query:e(t),ref:t}}let aA=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new ef.HU(s),this.keepUnstableUntilFirst=(0,ef.ss)(this.schedulers);const l=(0,ef.on)(t,s,e);!Cf.Z.auth&&u&&(0,ef.yq)();const c=a;[this.firestore,this.persistenceEnabled$]=(0,ef.sI)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!q(i)){const e=()=>{try{return(0,Tt.D)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(GI){return"undefined"!=typeof console&&console.warn(GI),(0,tn.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,tn.of)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=oA(n,e),s=this.schedulers.ngZone.run(()=>r);return new XI(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new eA(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new tA(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ef.Dh),r.LFG(ef.xv,8),r.LFG(nA,8),r.LFG(iA,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(rA,8),r.LFG(sA,8),r.LFG(nf,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ef.Dh),r.LFG(ef.xv,8),r.LFG(nA,8),r.LFG(iA,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(rA,8),r.LFG(sA,8),r.LFG(nf,8))},token:t,providedIn:"any"}),t})(),uA=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:nA,useValue:!0},{provide:rA,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[aA]}),t})(),lA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[_f]}),t.\u0275inj=r.cJS({providers:[],imports:[[Ct,vf,Hs,Je,We,Ro,ef.hO.initializeApp(bf),uA,uc]]}),t})();(0,r.G48)(),St().bootstrapModule(lA).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>s,mG:()=>o,Jh:()=>a,XA:()=>u,CR:()=>l,ev:()=>c});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}}},t=>{"use strict";t(t.s=271)}]);